{"version":3,"sources":["webpack:///./src/router/views/product/components/ListItem.vue?5277","webpack:///./src/router/views/product/components/ListItem.vue?0802","webpack:///./src/router/views/product/components/ListItem.vue?8d8e","webpack:///src/router/views/product/components/ListItem.vue","webpack:///./src/router/views/product/components/ListItem.vue?d806","webpack:///./src/router/views/product/components/ListItem.vue?ab52"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ListItem_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ListItem_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","module","exports","slide","slide-reverse","title","label","container","container--active","image","buttons","render","_obj","_vm","this","_h","$createElement","_c","_self","class","$style","dialogVisible","on","click","$event","onClickButton","staticClass","attrs","src","data","fit","slot","name","_v","_s","state","_f","_l","ref","type","icon","actionName","directives","rawName","value","expression","arg","key","stopPropagation","visible","top","width","append-to-body","update:visible","$t","dialogCalendarVisible","productCalendarURL","readonly","copyCalendarUrl","staticStyle","margin-top","margin-bottom","plain","openExternal","staticRenderFns","stateButtonMap","productType","add","page","edit","concat","function","off","orders","ListItemvue_type_script_lang_js_","components","BaseButton","Object","lazyload_component","e","then","bind","BaseStateLabel","filters","productStateFilter","filter_value_to_text","props","required","mounted","$emit","id","computed","objectSpread","helpers","stateButtonArray","utils","enabledDeleteButton","activeOrders","window","location","origin","currentUser","merchantAlias","merchantId","alias","methods","emitUpdated","handleUpdateState","buttonType","_this","submitData","ids","stateConfirmMap","0","message","confirmText","1","confirmContent","$confirm","confirmButtonText","cancelButtonText","center","$store","dispatch","handleRemove","_this2","handleToPage","typeRouteMap","params","productId","query","$router","push","$refs","CalendarUrlInput","select","document","execCommand","$message","url","open","components_ListItemvue_type_script_lang_js_","injectStyles","context","ListItemvue_type_style_index_0_lang_scss_module_true_","locals","component","componentNormalizer"],"mappings":"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","file":"js/chunk-3c19219c.e25191c4.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListItem.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListItem.vue?vue&type=style&index=0&lang=scss&module=true&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"ListItem_slide_qYgUz\",\"slide-reverse\":\"ListItem_slide-reverse_UGhUl\",\"title\":\"ListItem_title_2-HEU\",\"label\":\"ListItem_label_hihKD\",\"container\":\"ListItem_container_2u-XA\",\"container--active\":\"ListItem_container--active_3Z0kK\",\"image\":\"ListItem_image_j4Bh2\",\"buttons\":\"ListItem_buttons_oDzQL\"};","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[_vm.$style.container, ( _obj = {}, _obj[_vm.$style['container--active']] = _vm.dialogVisible, _obj )],on:{\"click\":function($event){return _vm.onClickButton('edit')}}},[_c('el-image',{staticClass:\"image-default\",attrs:{\"src\":_vm.data.image,\"fit\":\"cover\"}},[_c('div',{staticClass:\"image--error\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('BaseIcon',{attrs:{\"name\":\"image\"}})],1)]),_c('div',{class:_vm.$style.title},[_c('h5',[_vm._v(_vm._s(_vm.data.name))])]),_c('BaseStateLabel',{class:_vm.$style.label,attrs:{\"state\":_vm._f(\"productStateFilter\")(_vm.data.state,'color')}},[_vm._v(_vm._s(_vm._f(\"productStateFilter\")(_vm.data.state,'text')))]),_c('div',{class:_vm.$style.buttons},_vm._l((_vm.buttons),function(ref,type){\nvar icon = ref.icon;\nvar label = ref.label;\nvar actionName = ref.actionName;\nreturn _c('BaseButton',{directives:[{name:\"can\",rawName:\"v-can:api\",value:(actionName),expression:\"actionName\",arg:\"api\"}],key:type,attrs:{\"icon\":icon},on:{\"click\":function($event){$event.stopPropagation();return _vm.onClickButton(type)}}},[_vm._v(_vm._s(label))])}),1),_c('el-dialog',{attrs:{\"title\":_vm.data.name,\"visible\":_vm.dialogVisible,\"top\":\"0\",\"width\":\"300px\",\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{class:_vm.$style.buttons},_vm._l((_vm.buttons),function(ref,type){\nvar icon = ref.icon;\nvar label = ref.label;\nvar actionName = ref.actionName;\nreturn _c('BaseButton',{directives:[{name:\"can\",rawName:\"v-can:api\",value:(actionName),expression:\"actionName\",arg:\"api\"}],key:type,attrs:{\"icon\":icon},on:{\"click\":function($event){return _vm.onClickButton(type)}}},[_vm._v(_vm._s(label))])}),1)]),_c('el-dialog',{attrs:{\"title\":_vm.$t((\"PRODUCT.\" + (_vm.data.type) + \".NAME\")) + '行事曆',\"visible\":_vm.dialogCalendarVisible,\"append-to-body\":true,\"top\":\"0\",\"width\":\"680px\"},on:{\"update:visible\":function($event){_vm.dialogCalendarVisible=$event}}},[_c('el-input',{ref:\"CalendarUrlInput\",attrs:{\"value\":_vm.productCalendarURL,\"readonly\":true}},[_c('el-button',{attrs:{\"slot\":\"append\"},on:{\"click\":_vm.copyCalendarUrl},slot:\"append\"},[_vm._v(\"複製此網址\")])],1),_c('p',{staticStyle:{\"margin-top\":\"50px\"}},[_vm._v(\"行事曆設定教學\")]),_c('div',{staticStyle:{\"margin-bottom\":\"15px\"}},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.openExternal('https://support.apple.com/zh-tw/guide/iphone/iph3d1110d4/ios')}}},[_vm._v(\"設定於 Apple 行事曆\")])],1),_c('div',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.openExternal('https://support.google.com/calendar/answer/37100?co=GENIE.Platform%3DDesktop&hl=zh-Hant')}}},[_vm._v(\"設定於 Google 行事曆\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport lazyLoadComponent from '@router/lazyload-component'\nimport { pickObjectByKey } from '@utils'\nimport { authComputed } from '@state/helpers'\n\nimport { productStateMap, productStateFilter } from '@utils/filter-value-to-text'\n\nconst stateButtonMap = (productType) => {\n  return {\n    add: {\n      page: 'add',\n      icon: 'edit',\n      label: '繼續新增步驟',\n      actionName: 'editProduct',\n    },\n    edit: {\n      page: 'edit',\n      icon: 'edit',\n      label: `編輯${productType}`,\n      actionName: 'editProduct',\n    },\n    on: {\n      function: 'updateState',\n      icon: 'eye',\n      label: `上架${productType}`,\n      actionName: 'updateProductState',\n    },\n    off: {\n      function: 'updateState',\n      icon: 'eye-slash',\n      label: `下架${productType}`,\n      actionName: 'updateProductState',\n    },\n    orders: {\n      page: 'orders',\n      icon: 'clipboard-list',\n      label: '查看訂單',\n      actionName: 'searchOrder',\n    },\n  }\n}\nexport default {\n  components: {\n    BaseButton: () => lazyLoadComponent(import('@components/BaseButton')),\n    BaseStateLabel: () => lazyLoadComponent(import('@components/BaseStateLabel')),\n  },\n  filters: {\n    productStateFilter,\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      dialogVisible: false,\n      dialogCalendarVisible: false,\n    }\n  },\n  mounted() {\n    this.$emit('ready', this.data.id)\n  },\n  computed: {\n    ...authComputed,\n    buttons() {\n      const stateButtonArray = productStateMap[this.data.state].buttons\n      return pickObjectByKey(\n        stateButtonMap(this.$t(`PRODUCT.${this.data.type}.NAME`)),\n        stateButtonArray\n      )\n    },\n    enabledDeleteButton() {\n      return this.data.activeOrders === 0\n    },\n    productCalendarURL(){\n      return `${window.location.origin}/api/${this.currentUser.merchantAlias}/${this.currentUser.merchantId}/product/${this.data.alias}/ical`\n    }\n  },\n  methods: {\n    emitUpdated() {\n      this.$emit('updated')\n      this.dialogVisible = false\n    },\n    handleUpdateState(buttonType) {\n      const submitData = {\n        ids: [this.data.id],\n        state: buttonType === 'off' ? 0 : 1,\n      }\n\n      const stateConfirmMap = {\n        0: {\n          message: this.$t('PRODUCT.STATE_OFF_CONFIRM_MESSAGE', {\n            name: this.$t(`PRODUCT.${this.data.type}.NAME`),\n          }),\n          confirmText: '立即下架',\n        },\n        1: {\n          message: this.$t('PRODUCT.STATE_ON_CONFIRM_MESSAGE', {\n            name: this.$t(`PRODUCT.${this.data.type}.NAME`),\n          }),\n          confirmText: '上架分店',\n        },\n      }\n      const confirmContent = stateConfirmMap[submitData.state]\n\n      this.$confirm(confirmContent.message, '提示', {\n        confirmButtonText: confirmContent.confirmText,\n        cancelButtonText: '取消',\n        type: 'warning',\n        center: true,\n      }).then(() => {\n        this.$store.dispatch('product/updateState', submitData).then(() => {\n          this.emitUpdated()\n        })\n      })\n    },\n    handleRemove() {\n      this.$confirm(\n        this.$t('PRODUCT.DELETE_CONFIRM_MESSAGE', {\n          name: this.$t(`PRODUCT.${this.data.type}.NAME`),\n        }),\n        '提示',\n        {\n          confirmButtonText: '確認',\n          cancelButtonText: '取消',\n          type: 'warning',\n          center: true,\n        }\n      ).then(() => {\n        this.$store.dispatch('product/remove', { ids: [this.data.id] }).then(() => {\n          this.emitUpdated()\n        })\n      })\n    },\n    handleToPage(buttonType) {\n      const typeRouteMap = {\n        add: {\n          name: 'add-product',\n          params: { productId: this.data.id },\n          query: {\n            type: this.data.type,\n          },\n        },\n        edit: {\n          name: 'edit-product',\n          params: { productId: this.data.id },\n        },\n        orders: {\n          name: 'orders',\n          query: {\n            productId: this.data.id,\n          },\n        },\n      }\n      this.$router.push(typeRouteMap[buttonType])\n    },\n    onClickButton(type) {\n      switch (type) {\n        case 'on':\n        case 'off':\n          this.handleUpdateState(type)\n          break\n        case 'calendarUrl':\n          this.dialogCalendarVisible = true\n          break\n        default:\n          this.handleToPage(type)\n          break\n      }\n    },\n    copyCalendarUrl() {\n      this.$refs.CalendarUrlInput.select()\n      document.execCommand('copy')\n      this.$message('連結複製成功')\n    },\n    openExternal(url) {\n      window.open(url, '_blank')\n    },\n  },\n}\n</script>\n\n<template>\n  <div :class=\"[$style.container, { [$style['container--active']]: dialogVisible }]\" @click=\"onClickButton('edit')\">\n    <el-image :src=\"data.image\" class=\"image-default\" fit=\"cover\">\n      <div slot=\"error\" class=\"image--error\">\n        <BaseIcon name=\"image\" />\n      </div>\n    </el-image>\n    <div :class=\"$style.title\"><h5>{{ data.name }}</h5></div>\n    <BaseStateLabel :state=\"data.state | productStateFilter('color')\" :class=\"$style.label\">{{ data.state | productStateFilter('text') }}</BaseStateLabel>\n    <div :class=\"$style.buttons\">\n        <BaseButton v-for=\"({ icon, label, actionName }, type) in buttons\" :key=\"type\" v-can:api=\"actionName\" :icon=\"icon\" @click.stop=\"onClickButton(type)\">{{ label }}</BaseButton>\n\n        <!-- <BaseButton v-can:api=\"'deleteProduct'\" icon=\"trash-alt\" :disabled=\"!enabledDeleteButton\" @click=\"handleRemove\">\n          刪除{{ $t(`PRODUCT.${data.type}.NAME`) }}\n          <span v-if=\"!enabledDeleteButton\">(欲刪除請先處理訂單)</span>\n        </BaseButton> -->\n      </div>\n    <el-dialog :title=\"data.name\" :visible.sync=\"dialogVisible\" top=\"0\" width=\"300px\" append-to-body>\n      <div :class=\"$style.buttons\">\n        <BaseButton v-for=\"({ icon, label, actionName }, type) in buttons\" :key=\"type\" v-can:api=\"actionName\" :icon=\"icon\" @click=\"onClickButton(type)\">{{ label }}</BaseButton>\n\n        <!-- <BaseButton v-can:api=\"'deleteProduct'\" icon=\"trash-alt\" :disabled=\"!enabledDeleteButton\" @click=\"handleRemove\">\n          刪除{{ $t(`PRODUCT.${data.type}.NAME`) }}\n          <span v-if=\"!enabledDeleteButton\">(欲刪除請先處理訂單)</span>\n        </BaseButton> -->\n      </div>\n    </el-dialog>\n\n    <el-dialog :title=\"$t(`PRODUCT.${data.type}.NAME`) + '行事曆'\" :visible.sync=\"dialogCalendarVisible\" :append-to-body=\"true\" top=\"0\" width=\"680px\">\n      <el-input ref=\"CalendarUrlInput\" :value=\"productCalendarURL\" :readonly=\"true\">\n        <el-button slot=\"append\" @click=\"copyCalendarUrl\">複製此網址</el-button>\n      </el-input>\n      <p style=\"margin-top: 50px;\">行事曆設定教學</p>\n      <div style=\"margin-bottom: 15px;\">\n        <el-button style=\"width: 100%;\" type=\"primary\" plain @click=\"openExternal('https://support.apple.com/zh-tw/guide/iphone/iph3d1110d4/ios')\">設定於 Apple 行事曆</el-button>\n      </div>\n      <div>\n        <el-button style=\"width: 100%;\" type=\"primary\" plain @click=\"openExternal('https://support.google.com/calendar/answer/37100?co=GENIE.Platform%3DDesktop&hl=zh-Hant')\"\n          >設定於 Google 行事曆</el-button\n        >\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<style lang=\"scss\" module>\n@import '@design';\n\n.title {\n  text-align: center;\n  // padding: 5px 10px;\n}\n.label {\n  position: absolute;\n  top: 10px;\n  right: 0;\n  border-top-left-radius: 8px;\n  border-bottom-left-radius: 8px;\n}\n.container {\n  position: relative;\n  font-size: $font-size-large;\n  cursor: pointer;\n  background-color: #fff;\n  border-radius: 8px;\n  overflow: hidden;\n\n  &--active .image,\n  &:hover .image {\n    @include layer-elevation(8);\n\n    border-color: $color-primary;\n  }\n}\n.buttons {\n  margin-top: $size-button-padding-vertical;\n  padding-left: 15px;\n  padding-bottom: 15px;\n  // border-top: 1px solid $color-border-base;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListItem.vue?vue&type=template&id=3ba14b99&\"\nimport script from \"./ListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ListItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListItem.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}