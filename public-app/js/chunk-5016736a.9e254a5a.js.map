{"version":3,"sources":["webpack:///./src/router/views/analytics/TabIncome.vue?aff1","webpack:///./src/router/views/analytics/TabIncome.vue?07eb","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/arrayWithHoles.js","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/iterableToArrayLimit.js","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/nonIterableRest.js","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/slicedToArray.js","webpack:///./src/router/views/analytics/TabIncome.vue?6817","webpack:///src/router/views/analytics/TabIncome.vue","webpack:///./src/router/views/analytics/TabIncome.vue?03ab","webpack:///./src/router/views/analytics/TabIncome.vue?c867"],"names":["module","exports","slide","slide-reverse","bottomInfo","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TabIncome_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TabIncome_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","_nonIterableRest","TypeError","_slicedToArray","d","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","justify-content","width","attrs","type","align","unlink-panels","range-separator","start-placeholder","end-placeholder","picker-options","pickerOptions","clearable","on","change","tryToFetchList","model","callback","$$v","filterDateRange","expression","class","isActive","dateNow","margin-left","click","$event","quickSelectTime","_v","plain","handleExport","name","default-value","filterData","hide-action","update:defaultValue","update:default-value","reset","scopedSlots","_u","key","fn","ref","fields","prop","placeholder","$set","label","_l","product","index","id","directives","rawName","activeCellData","selectData","income","salesFigures","refundTotal","couponTotal","netSales","taxTotal","niat","content","placement","avgOrderPrice","avgOrderCount","tryToFetchListUnit","disabled","dateRangeMode","show-summary","sum-text","element-loading-text","data","table","cell-class-name","changeCellClass","header-cell-class-name","min-width","scope","row","slot","staticRenderFns","TabIncomevue_type_script_lang_js_","page","title","meta","components","mixins","pagination","props","merchantProducts","required","startDate","endDate","unit","productId","shortcuts","text","onClick","picker","end","Date","start","$emit","setTime","getTime","tryingFetch","tryingFetchTime","tryingToExport","computed","get","set","_ref","_ref2","Object","slicedToArray","fetchDataParams","routeQuery","$route","query","queryData","assign","pageQuery","_this$filterData","filterDataWithoutDate","objectWithoutProperties","searchWithDate","searchParams","format_date","watch","time","todayRange","Math","floor","created","getDefaultDate","methods","concat","getFullYear","getMonth","getDate","_tryToFetchList","asyncToGenerator","regenerator_default","a","mark","_callee","isChangeTime","wrap","_context","prev","$store","dispatch","sent","stop","_x","apply","arguments","_tryToFetchListUnit","_callee2","_context2","changeMode","valve","column","rowIndex","columnIndex","_handleExport","_callee3","request","_ref3","fileName","csvData","csvFormatData","blob","url","date","productTitle","filterFileName","tempLink","_this","_context3","abrupt","analyticsType","submitData","objectSpread","export","map","values","join","Blob","window","URL","createObjectURL","find","item","document","createElement","download","href","revokeObjectURL","_end","_start","analytics_TabIncomevue_type_script_lang_js_","injectStyles","context","TabIncomevue_type_style_index_0_lang_scss_module_true_","locals","component","componentNormalizer"],"mappings":"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","file":"js/chunk-5016736a.9e254a5a.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"TabIncome_slide_rFC7q\",\"slide-reverse\":\"TabIncome_slide-reverse_11lwz\",\"bottomInfo\":\"TabIncome_bottomInfo_1SQDT\"};","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabIncome.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabIncome.vue?vue&type=style&index=0&lang=scss&module=true&\"","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"btn-top-space-between\",staticStyle:{\"justify-content\":\"space-between\"}},[_c('div',[_c('el-date-picker',{staticStyle:{\"width\":\"405px\"},attrs:{\"type\":\"daterange\",\"align\":\"left\",\"unlink-panels\":\"\",\"range-separator\":\"-\",\"start-placeholder\":\"起始日期\",\"end-placeholder\":\"結束日期\",\"picker-options\":_vm.pickerOptions,\"clearable\":false},on:{\"change\":_vm.tryToFetchList},model:{value:(_vm.filterDateRange),callback:function ($$v) {_vm.filterDateRange=$$v},expression:\"filterDateRange\"}}),_c('el-button',{staticClass:\"is-round\",class:{ 'isActive': _vm.dateNow === 'day' },staticStyle:{\"margin-left\":\"10px\"},on:{\"click\":function($event){return _vm.quickSelectTime('day')}}},[_vm._v(\"\\n          今日\\n        \")]),_c('el-button',{staticClass:\"is-round\",class:{ 'isActive': _vm.dateNow === 'month' },on:{\"click\":function($event){return _vm.quickSelectTime('month')}}},[_vm._v(\"\\n          最近一個月\\n        \")])],1),_c('el-button',{staticClass:\"is-round\",attrs:{\"plain\":\"\"},on:{\"click\":_vm.handleExport}},[_c('BaseIcon',{attrs:{\"name\":\"file-export\"}}),_vm._v(\" 數據匯出\")],1)],1),_c('BaseTableSearch',{staticClass:\"isForTab\",attrs:{\"default-value\":_vm.filterData,\"hide-action\":\"\"},on:{\"update:defaultValue\":function($event){_vm.filterData=$event},\"update:default-value\":function($event){_vm.filterData=$event},\"reset\":_vm.reset,\"handleExport\":_vm.handleExport,\"tryToFetchList\":_vm.tryToFetchList},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar fields = ref.fields;\nreturn [_c('el-form-item',{attrs:{\"prop\":\"status\"}},[_c('el-select',{attrs:{\"placeholder\":\"分店\"},on:{\"change\":_vm.tryToFetchList},model:{value:(fields.productId),callback:function ($$v) {_vm.$set(fields, \"productId\", $$v)},expression:\"fields.productId\"}},[_c('el-option',{attrs:{\"label\":\"全部分店\",\"value\":\"\"}}),_vm._l((_vm.merchantProducts),function(product,index){return _c('el-option',{key:index,attrs:{\"label\":product.name,\"value\":product.id}})})],2)],1)]}}])}),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tryingFetch),expression:\"tryingFetch\"}],staticClass:\"infoBox\"},[_c('div',{staticClass:\"infoBox__item\",class:{ isActive: _vm.activeCellData === '銷售總額' },on:{\"click\":function($event){return _vm.selectData('銷售總額')}}},[_c('div',{staticClass:\"infoBox__title\"},[_vm._v(\" 銷售總額 \")]),_c('div',{staticClass:\"infoBox__content\"},[_vm._v(\" $\"+_vm._s(_vm.income.salesFigures)+\" \")])]),_c('div',{staticClass:\"infoBox__item\",class:{ isActive: _vm.activeCellData === '退款' },on:{\"click\":function($event){return _vm.selectData('退款')}}},[_c('div',{staticClass:\"infoBox__title\"},[_vm._v(\" 退款 \")]),_c('div',{staticClass:\"infoBox__content\"},[_vm._v(\" $\"+_vm._s(_vm.income.refundTotal)+\" \")])]),_c('div',{staticClass:\"infoBox__item\",class:{ isActive: _vm.activeCellData === '優惠券' },on:{\"click\":function($event){return _vm.selectData('優惠券')}}},[_c('div',{staticClass:\"infoBox__title\"},[_vm._v(\" 優惠券 \")]),_c('div',{staticClass:\"infoBox__content\"},[_vm._v(\" $\"+_vm._s(_vm.income.couponTotal)+\" \")])]),_c('div',{staticClass:\"infoBox__item\",class:{ isActive: _vm.activeCellData === '銷售淨額' },on:{\"click\":function($event){return _vm.selectData('銷售淨額')}}},[_c('div',{staticClass:\"infoBox__title\"},[_vm._v(\" 銷售淨額 \")]),_c('div',{staticClass:\"infoBox__content\"},[_vm._v(\" $\"+_vm._s(_vm.income.netSales)+\" \")])]),_c('div',{staticClass:\"infoBox__item\",class:{ isActive: _vm.activeCellData === '稅金' },on:{\"click\":function($event){return _vm.selectData('稅金')}}},[_c('div',{staticClass:\"infoBox__title\"},[_vm._v(\" 稅金 \")]),_c('div',{staticClass:\"infoBox__content\"},[_vm._v(\" $\"+_vm._s(_vm.income.taxTotal)+\" \")])]),_c('div',{staticClass:\"infoBox__item\",class:{ isActive: _vm.activeCellData === '稅後淨額' },on:{\"click\":function($event){return _vm.selectData('稅後淨額')}}},[_c('div',{staticClass:\"infoBox__title\"},[_vm._v(\" 稅後淨額 \")]),_c('div',{staticClass:\"infoBox__content\"},[_vm._v(\" $\"+_vm._s(_vm.income.niat)+\" \")])]),_c('div',{staticClass:\"infoBox__item\",class:{ isActive: _vm.activeCellData === '平均訂單銷售淨額' },on:{\"click\":function($event){return _vm.selectData('平均訂單銷售淨額')}}},[_c('div',{staticClass:\"infoBox__title\"},[_vm._v(\"\\n          平均訂單銷售淨額 \"),_c('el-tooltip',{attrs:{\"content\":\"平均訂單銷售淨額 = 銷售淨額 / 訂單數\",\"placement\":\"right\"}},[_c('BaseIcon',{attrs:{\"name\":\"info-circle\"}})],1)],1),_c('div',{staticClass:\"infoBox__content\"},[_vm._v(\" $\"+_vm._s(_vm.income.avgOrderPrice)+\" \")])]),_c('div',{staticClass:\"infoBox__item\",class:{ isActive: _vm.activeCellData === '訂單數' },on:{\"click\":function($event){return _vm.selectData('訂單數')}}},[_c('div',{staticClass:\"infoBox__title\"},[_vm._v(\" 平均訂單數 \")]),_c('div',{staticClass:\"infoBox__content\"},[_vm._v(\"\\n          \"+_vm._s(_vm.income.avgOrderCount)+\"\\n        \")])])]),_c('div',{staticClass:\"right-radio\"},[_c('el-radio-group',{on:{\"change\":_vm.tryToFetchListUnit},model:{value:(_vm.filterData.unit),callback:function ($$v) {_vm.$set(_vm.filterData, \"unit\", $$v)},expression:\"filterData.unit\"}},[_c('el-radio-button',{attrs:{\"label\":\"day\",\"disabled\":_vm.dateRangeMode === 'year' || _vm.dateRangeMode === 'month'}},[_vm._v(\"日\")]),_c('el-radio-button',{attrs:{\"label\":\"week\",\"disabled\":_vm.dateRangeMode === 'year' || _vm.dateRangeMode === 'day'}},[_vm._v(\"週\")]),_c('el-radio-button',{attrs:{\"label\":\"month\",\"disabled\":_vm.dateRangeMode === 'week' || _vm.dateRangeMode === 'day'}},[_vm._v(\"月\")]),_c('el-radio-button',{attrs:{\"label\":\"quarter\",\"disabled\":_vm.dateRangeMode !== 'year' && _vm.dateRangeMode !== ''}},[_vm._v(\"季\")]),_c('el-radio-button',{attrs:{\"label\":\"year\",\"disabled\":_vm.dateRangeMode !== 'year' && _vm.dateRangeMode !== ''}},[_vm._v(\"年\")])],1)],1),_c('div',{staticClass:\"el-table-wrapper\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tryingFetchTime),expression:\"tryingFetchTime\"}],attrs:{\"show-summary\":\"\",\"sum-text\":\"總計\",\"element-loading-text\":\"取得資訊中\",\"data\":_vm.income.table,\"cell-class-name\":_vm.changeCellClass,\"header-cell-class-name\":_vm.changeCellClass}},[_c('el-table-column',{attrs:{\"label\":\"日期\",\"prop\":\"date\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"label\":\"訂單數\",\"prop\":\"ordersCount\",\"align\":\"right\",\"min-width\":\"80\"}}),_c('el-table-column',{attrs:{\"label\":\"銷售總額\",\"prop\":\"salesFigures\",\"align\":\"right\",\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" $\"+_vm._s(scope.row.salesFigures)+\" \")]}}])},[_c('template',{slot:\"header\"},[_vm._v(\"\\n            銷售總額 \"),_c('el-tooltip',{attrs:{\"content\":\"計算已付款和未付款訂單的售價金額。金額含稅、不含退款＆優惠\",\"placement\":\"right\"}},[_c('BaseIcon',{attrs:{\"name\":\"info-circle\"}})],1)],1)],2),_c('el-table-column',{attrs:{\"prop\":\"refundTotal\",\"label\":\"退款\",\"align\":\"right\",\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" $\"+_vm._s(scope.row.refundTotal)+\" \")]}}])},[_c('template',{slot:\"header\"},[_vm._v(\"退款\")])],2),_c('el-table-column',{attrs:{\"prop\":\"couponTotal\",\"label\":\"優惠券\",\"align\":\"right\",\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" $\"+_vm._s(scope.row.couponTotal)+\" \")]}}])},[_c('template',{slot:\"header\"},[_vm._v(\"優惠券\")])],2),_c('el-table-column',{attrs:{\"prop\":\"netSales\",\"label\":\"銷售淨額\",\"align\":\"right\",\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" $\"+_vm._s(scope.row.netSales)+\" \")]}}])},[_c('template',{slot:\"header\"},[_vm._v(\"\\n            銷售淨額\\n            \"),_c('el-tooltip',{attrs:{\"content\":\"扣掉退款、優惠後，即是現在訂單列表上的總金額。\\n銷售淨額 = 銷售總額 - 退款 - 優惠券金額\",\"placement\":\"right\"}},[_c('BaseIcon',{attrs:{\"name\":\"info-circle\"}})],1)],1)],2),_c('el-table-column',{attrs:{\"prop\":\"taxTotal\",\"label\":\"稅金\",\"align\":\"right\",\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" $\"+_vm._s(scope.row.taxTotal)+\" \")]}}])},[_c('template',{slot:\"header\"},[_vm._v(\"稅金5% \"),_c('el-tooltip',{attrs:{\"content\":\"稅金= 銷售淨額 x 5%\",\"placement\":\"right\"}},[_c('BaseIcon',{attrs:{\"name\":\"info-circle\"}})],1)],1)],2),_c('el-table-column',{attrs:{\"prop\":\"niat\",\"label\":\"稅後淨額\",\"align\":\"right\",\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" $\"+_vm._s(scope.row.niat)+\" \")]}}])},[_c('template',{slot:\"header\"},[_vm._v(\"稅後淨額\"),_c('el-tooltip',{attrs:{\"content\":\"稅後淨額 = 銷售淨額 - 稅金\",\"placement\":\"right\"}},[_c('BaseIcon',{attrs:{\"name\":\"info-circle\"}})],1)],1)],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport lazyLoadComponent from '@router/lazyload-component'\n\nimport pageMixin from '@src/mixins/pagination'\nimport formatDate, { formatRequestData } from '@utils/format-date'\n\n// import { inComeData } from './fakeData'\n\nexport default {\n  page: {\n    title: '數據分析',\n    meta: [{ name: 'description', content: 'Customer Analytics' }],\n  },\n  components: {},\n  mixins: [pageMixin],\n  props: {\n    merchantProducts: {\n      type: Array,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      filterData: {\n        startDate: '',\n        endDate: '',\n        unit: 'week',\n        productId: '',\n      },\n      pickerOptions: {\n        shortcuts: [\n          {\n            text: '今日',\n            onClick(picker) {\n              // console.log(this.$moment)\n              const end = new Date()\n              const start = new Date()\n              // start.setTime(start.getTime() - 3600 * 1000 * 24)\n              picker.$emit('pick', [start, end])\n            },\n          },\n          {\n            text: '過去7日',\n            onClick(picker) {\n              const end = new Date()\n              const start = new Date()\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\n              picker.$emit('pick', [start, end])\n            },\n          },\n          {\n            text: '最近一個月',\n            onClick(picker) {\n              const end = new Date()\n              const start = new Date()\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n              picker.$emit('pick', [start, end])\n            },\n          },\n          {\n            text: '最近一年',\n            onClick(picker) {\n              const end = new Date()\n              const start = new Date()\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 365)\n              picker.$emit('pick', [start, end])\n            },\n          },\n          // {\n          //   text: '最近三個月',\n          //   onClick(picker) {\n          //     const end = new Date()\n          //     const start = new Date()\n          //     start.setTime(start.getTime() - 3600 * 1000 * 24 * 90)\n          //     picker.$emit('pick', [start, end])\n          //   },\n          // },\n        ],\n      },\n      // inComeData,\n      income: {},\n      // sellData,\n      // activeFilter: 'week',\n      dateRangeMode: 'month',\n      dateNow:'',\n      activeCellData: '',\n      tryingFetch: false,\n      tryingFetchTime: false,\n      tryingToExport:false\n    }\n  },\n  computed: {\n    filterDateRange: {\n      get() {\n        return [this.filterData.startDate, this.filterData.endDate]\n      },\n      set(value) {\n        const [start, end] = value || ['', '']\n        this.filterData.startDate = start\n        this.filterData.endDate = end\n      },\n    },\n    fetchDataParams() {\n      const routeQuery = this.$route.query\n      const queryData = Object.assign(routeQuery, this.pageQuery)\n      const { startDate, endDate, ...filterDataWithoutDate } = this.filterData\n      const searchWithDate = startDate && endDate\n      const searchParams = searchWithDate\n        ? Object.assign(this.filterData, {\n            startDate: formatRequestData(startDate),\n            endDate: formatRequestData(endDate),\n          })\n        : filterDataWithoutDate\n      return Object.assign(searchParams, queryData)\n    },\n  },\n  watch: {\n    filterDateRange(value) {\n       if (this.filterDateRange[0] === undefined) {\n          this.dateRangeMode = ''\n          return\n        }\n        const time = (new Date(this.filterDateRange[1]).getTime() / 1000 - new Date(this.filterDateRange[0]).getTime() / 1000) / 86400\n        const todayRange = Math.floor(new Date().getTime() / 1000 / 86400) - new Date(this.filterDateRange[0]).getTime() / 1000 / 86400\n        // console.log(time)\n        switch (true) {\n          case time >= 0 && time <= 7:\n            this.dateRangeMode = 'day'\n            this.filterData.unit = 'day'\n            break\n          case time > 7 && time < 30:\n            this.dateRangeMode = 'week'\n            this.filterData.unit = 'day'\n            break\n          case time >= 30 && time < 364:\n            this.dateRangeMode = 'month'\n            this.filterData.unit = 'week'\n            break\n          case time >= 365:\n            this.dateRangeMode = 'year'\n            this.filterData.unit = 'quarter'\n            break\n        }\n        switch (true) {\n          case todayRange === 0:\n            this.dateNow = 'day'\n            break\n          case todayRange === 30:\n            this.dateNow = 'month'\n            break\n          default:\n            this.dateNow = ''\n        }\n    },\n    // activeFilter(val) {\n    //   this.filterData.unit = val\n    // },\n    // 'filterData.unit': function () {\n    //   this.tryToFetchListUnit()\n    // },\n  },\n  created() {\n    this.getDefaultDate()\n    this.tryToFetchList()\n    // this.$nextTick(() => {\n    //   this.$refs.pagination.updateTotal(20)\n    // })\n  },\n  methods: {\n    getDefaultDate() {\n      const end = new Date()\n      const start = new Date()\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n      this.filterData.startDate = `${start.getFullYear()}/${start.getMonth() + 1}/${start.getDate()}`\n      this.filterData.endDate = `${end.getFullYear()}/${end.getMonth() + 1}/${end.getDate()}`\n      // console.log(this.filterData.startDate)\n      // console.log(start.getMonth()+1,end.getMonth()+1)\n    },\n    async tryToFetchList(isChangeTime) {\n      // if (isChangeTime) {\n      // }\n      this.tryingFetch = true\n      this.tryingFetchTime = true\n      this.income = await this.$store.dispatch('analytics/fetchIncome', this.fetchDataParams)\n      this.tryingFetch = false\n      this.tryingFetchTime = false\n    },\n    async tryToFetchListUnit() {\n      this.tryingFetchTime = true\n      this.income = await this.$store.dispatch('analytics/fetchIncome', this.fetchDataParams)\n      this.tryingFetchTime = false\n    },\n    changeMode(valve) {\n      // console.log(456)\n      this.dateRangeMode = valve\n    },\n    reset() {\n      // this.filterDateRange = []\n      this.getDefaultDate()\n      this.dateRangeMode = 'month'\n      this.filterData.unit = 'week'\n      this.tryToFetchList()\n    },\n    selectData(value) {\n      this.activeCellData = value\n      this.changeCellClass()\n    },\n    changeCellClass(row, column, rowIndex, columnIndex) {\n      // console.log(row.column)\n      if (row.column.label === this.activeCellData) {\n        return 'active'\n      } else {\n        return ''\n      }\n    },\n    async handleExport() {\n      if (this.tryingToExport) return\n      this.tryingToExport = true\n      const request ={\n        analyticsType:'income',\n        submitData:{\n          ...this.fetchDataParams,\n          export:1\n        }\n      }\n      const { fileName, csvData } = await this.$store.dispatch('analytics/analyticsExport', request)\n      // csvData[0].date='1\\r2'\n      const csvFormatData = csvData.map((row) => Object.values(row).join(',')).join('\\n')\n      // csvFormatData[0].date='1\\n2'\n      // console.log(csvFormatData)\n      const blob = new Blob(['\\uFEFF', csvFormatData], {\n        type: 'text/csv;charset=utf-8;',\n      })\n\n      const url = window.URL.createObjectURL(blob)\n      const date = `${this.filterDateRange[0]} 至 ${this.filterDateRange[1]}`\n      let productTitle=''\n      if(this.fetchDataParams.productId){\n        productTitle = this.merchantProducts.find((item)=>{\n          return item.id === this.fetchDataParams.productId\n        }).name\n        productTitle=` ${productTitle}`\n      }\n      const filterFileName = `${fileName} ( ${date}${productTitle} ).csv`\n      const tempLink = document.createElement('a')\n      tempLink.download = filterFileName\n      tempLink.href = url\n      tempLink.click()\n      window.URL.revokeObjectURL(url)\n      this.tryingToExport = false\n    },\n    quickSelectTime(unit){\n      if(unit==='day'){\n        const end = new Date()\n        const start = new Date()\n        this.filterDateRange=[start,end]\n      }\n      if(unit==='month'){\n        const end = new Date()\n        const start = new Date()\n        start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n        this.filterDateRange=[start,end]\n      }\n      this.tryToFetchList()\n    }\n  },\n}\n</script>\n\n<template>\n  <div>\n    <div class=\"btn-top-space-between\" style=\"justify-content: space-between\">\n      <div>\n       <el-date-picker\n          v-model=\"filterDateRange\"\n          type=\"daterange\"\n          align=\"left\"\n          unlink-panels\n          range-separator=\"-\"\n          start-placeholder=\"起始日期\"\n          end-placeholder=\"結束日期\"\n          :picker-options=\"pickerOptions\"\n          style=\"width:405px\"\n          :clearable=\"false\"\n          @change=\"tryToFetchList\"\n        ></el-date-picker>\n        <el-button class=\"is-round\" style=\"margin-left:10px\" :class=\"{ 'isActive': dateNow === 'day' }\" @click=\"quickSelectTime('day')\">\n          今日\n        </el-button>\n        <el-button class=\"is-round\" :class=\"{ 'isActive': dateNow === 'month' }\" @click=\"quickSelectTime('month')\">\n          最近一個月\n        </el-button>\n      </div>\n      <el-button  class=\"is-round\" plain @click=\"handleExport\"><BaseIcon name=\"file-export\" /> 數據匯出</el-button>\n    </div>\n    <BaseTableSearch v-slot=\"{ fields }\"  :default-value.sync=\"filterData\" hide-action class=\"isForTab\" @reset=\"reset\" @handleExport=\"handleExport\" @tryToFetchList=\"tryToFetchList\">\n      <el-form-item prop=\"status\">\n        <el-select v-model=\"fields.productId\" placeholder=\"分店\" @change=\"tryToFetchList\">\n          <el-option label=\"全部分店\" value></el-option>\n          <el-option v-for=\"(product, index) in merchantProducts\" :key=\"index\" :label=\"product.name\" :value=\"product.id\"></el-option>\n        </el-select>\n      </el-form-item>\n\n \n    </BaseTableSearch>\n    <div v-loading=\"tryingFetch\" class=\"infoBox\">\n      <div class=\"infoBox__item\" :class=\"{ isActive: activeCellData === '銷售總額' }\" @click=\"selectData('銷售總額')\">\n        <div class=\"infoBox__title\"> 銷售總額 </div>\n        <div class=\"infoBox__content\"> ${{ income.salesFigures }} </div>\n      </div>\n      <div class=\"infoBox__item\" :class=\"{ isActive: activeCellData === '退款' }\" @click=\"selectData('退款')\">\n        <div class=\"infoBox__title\"> 退款 </div>\n        <div class=\"infoBox__content\"> ${{ income.refundTotal }} </div>\n      </div>\n      <div class=\"infoBox__item\" :class=\"{ isActive: activeCellData === '優惠券' }\" @click=\"selectData('優惠券')\">\n        <div class=\"infoBox__title\"> 優惠券 </div>\n        <div class=\"infoBox__content\"> ${{ income.couponTotal }} </div>\n      </div>\n      <div class=\"infoBox__item\" :class=\"{ isActive: activeCellData === '銷售淨額' }\" @click=\"selectData('銷售淨額')\">\n        <div class=\"infoBox__title\"> 銷售淨額 </div>\n        <div class=\"infoBox__content\"> ${{ income.netSales }} </div>\n      </div>\n      <div class=\"infoBox__item\" :class=\"{ isActive: activeCellData === '稅金' }\" @click=\"selectData('稅金')\">\n        <div class=\"infoBox__title\"> 稅金 </div>\n        <div class=\"infoBox__content\"> ${{ income.taxTotal }} </div>\n      </div>\n      <div class=\"infoBox__item\" :class=\"{ isActive: activeCellData === '稅後淨額' }\" @click=\"selectData('稅後淨額')\">\n        <div class=\"infoBox__title\"> 稅後淨額 </div>\n        <div class=\"infoBox__content\"> ${{ income.niat }} </div>\n      </div>\n      <div class=\"infoBox__item\" :class=\"{ isActive: activeCellData === '平均訂單銷售淨額' }\" @click=\"selectData('平均訂單銷售淨額')\">\n        <div class=\"infoBox__title\">\n          平均訂單銷售淨額 <el-tooltip content=\"平均訂單銷售淨額 = 銷售淨額 / 訂單數\" placement=\"right\"> <BaseIcon name=\"info-circle\" /> </el-tooltip\n        ></div>\n        <div class=\"infoBox__content\"> ${{ income.avgOrderPrice }} </div>\n      </div>\n      <div class=\"infoBox__item\" :class=\"{ isActive: activeCellData === '訂單數' }\" @click=\"selectData('訂單數')\">\n        <div class=\"infoBox__title\"> 平均訂單數 </div>\n        <div class=\"infoBox__content\">\n          {{ income.avgOrderCount }}\n        </div>\n      </div>\n    </div>\n    <div class=\"right-radio\">\n      <el-radio-group v-model=\"filterData.unit\" @change=\"tryToFetchListUnit\">\n        <el-radio-button label=\"day\" :disabled=\"dateRangeMode === 'year' || dateRangeMode === 'month'\">日</el-radio-button>\n        <el-radio-button label=\"week\" :disabled=\"dateRangeMode === 'year' || dateRangeMode === 'day'\">週</el-radio-button>\n        <el-radio-button label=\"month\" :disabled=\"dateRangeMode === 'week' || dateRangeMode === 'day'\">月</el-radio-button>\n        <!-- <el-radio-button label=\"filterMonth\" :disabled=\"activeFilter === 'filterDay'\">月</el-radio-button> -->\n        <el-radio-button label=\"quarter\" :disabled=\"dateRangeMode !== 'year' && dateRangeMode !== ''\">季</el-radio-button>\n        <el-radio-button label=\"year\" :disabled=\"dateRangeMode !== 'year' && dateRangeMode !== ''\">年</el-radio-button>\n      </el-radio-group>\n    </div>\n    <div class=\"el-table-wrapper\">\n      <el-table\n        v-loading=\"tryingFetchTime\"\n        show-summary\n        sum-text=\"總計\"\n        element-loading-text=\"取得資訊中\"\n        :data=\"income.table\"\n        :cell-class-name=\"changeCellClass\"\n        :header-cell-class-name=\"changeCellClass\"\n      >\n        <el-table-column label=\"日期\" prop=\"date\" width=\"200\"></el-table-column>\n        <el-table-column label=\"訂單數\" prop=\"ordersCount\" align=\"right\" min-width=\"80\"> </el-table-column>\n        <el-table-column label=\"銷售總額\" prop=\"salesFigures\" align=\"right\" min-width=\"100\">\n          <template slot=\"header\">\n            銷售總額 <el-tooltip content=\"計算已付款和未付款訂單的售價金額。金額含稅、不含退款＆優惠\" placement=\"right\"> <BaseIcon name=\"info-circle\" /> </el-tooltip>\n          </template>\n          <template slot-scope=\"scope\"> ${{ scope.row.salesFigures }} </template>\n        </el-table-column>\n        <el-table-column prop=\"refundTotal\" label=\"退款\" align=\"right\" min-width=\"100\">\n          <template slot=\"header\">退款</template>\n          <template slot-scope=\"scope\"> ${{ scope.row.refundTotal }} </template>\n        </el-table-column>\n        <el-table-column prop=\"couponTotal\" label=\"優惠券\" align=\"right\" min-width=\"100\">\n          <template slot=\"header\">優惠券</template>\n          <template slot-scope=\"scope\"> ${{ scope.row.couponTotal }} </template>\n        </el-table-column>\n        <el-table-column prop=\"netSales\" label=\"銷售淨額\" align=\"right\" min-width=\"100\">\n          <template slot=\"header\">\n            銷售淨額\n            <el-tooltip\n              content=\"扣掉退款、優惠後，即是現在訂單列表上的總金額。\n銷售淨額 = 銷售總額 - 退款 - 優惠券金額\"\n              placement=\"right\"\n            >\n              <BaseIcon name=\"info-circle\" />\n            </el-tooltip>\n          </template>\n          <template slot-scope=\"scope\"> ${{ scope.row.netSales }} </template>\n        </el-table-column>\n        <el-table-column prop=\"taxTotal\" label=\"稅金\" align=\"right\" min-width=\"100\">\n          <template slot=\"header\"\n            >稅金5% <el-tooltip content=\"稅金= 銷售淨額 x 5%\" placement=\"right\"><BaseIcon name=\"info-circle\" /> </el-tooltip\n          ></template>\n          <template slot-scope=\"scope\"> ${{ scope.row.taxTotal }} </template>\n        </el-table-column>\n        <el-table-column prop=\"niat\" label=\"稅後淨額\" align=\"right\" min-width=\"100\">\n          <template slot=\"header\"\n            >稅後淨額<el-tooltip content=\"稅後淨額 = 銷售淨額 - 稅金\" placement=\"right\"> <BaseIcon name=\"info-circle\" /> </el-tooltip\n          ></template>\n          <template slot-scope=\"scope\"> ${{ scope.row.niat }} </template>\n        </el-table-column>\n     \n      </el-table>\n   \n    </div>\n\n  </div>\n</template>\n<style lang=\"scss\" module>\n.bottomInfo {\n  text-align: center;\n  padding: 30px 0;\n  :global {\n    .bottomInfo {\n      &__item {\n        padding: 0 10px;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabIncome.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabIncome.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabIncome.vue?vue&type=template&id=5757cfad&\"\nimport script from \"./TabIncome.vue?vue&type=script&lang=js&\"\nexport * from \"./TabIncome.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TabIncome.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}