{"version":3,"sources":["webpack:///./src/router/views/prepaid/components/Step1Basic.vue?36af","webpack:///src/router/views/prepaid/components/Step1Basic.vue","webpack:///./src/router/views/prepaid/components/Step1Basic.vue?5ae8","webpack:///./src/router/views/prepaid/components/Step1Basic.vue?85ac","webpack:///./src/router/views/prepaid/components/Step1Basic.vue?6a81","webpack:///./src/router/views/prepaid/components/Step1Basic.vue?b1ea"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","class","$style","form","attrs","model","submitData","rules","formRules","validate-on-rule-change","label-position","autocomplete","staticClass","_v","gutter","span","label","prop","required","value","callback","$$v","$set","expression","disabled","isEditMode","_l","item","index","key","title","id","sm","min","_n","staticStyle","margin-right","slot","directives","name","rawName","infinity","size","for","content","placement","type","autosize","minRows","$hasSpecial","_e","padding","margin-top","show-icon","upload","is-delete-save","show-upload","resource","on","deleteSave","staticRenderFns","Step1Basicvue_type_script_lang_js_","components","ImageUpload","Object","lazyload_component","__webpack_require__","e","then","bind","props","products","Array","category","defaultValue","default","data","computed","objectSpread","helpers","get","set","$emit","canSetPrice","$can","message","categoryId","groupAlias","times","currentCategory","filter","children","length","groupOrdering","productBaseBookingUrl","url","window","globalData","APP_ENV","merchantUrl","prefixUrl","split","concat","currentMerchant","alias","homeServicePrepaidUrl","storeType","created","methods","validate","$refs","components_Step1Basicvue_type_script_lang_js_","injectStyles","context","Step1Basicvue_type_style_index_0_lang_scss_module_true_","locals","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Step1Basic_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Step1Basic_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","module","exports","slide","slide-reverse","form-item--split"],"mappings":"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","file":"js/chunk-7acdfb4f.10396396.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"form\",class:_vm.$style.form,attrs:{\"model\":_vm.submitData,\"rules\":_vm.formRules,\"validate-on-rule-change\":false,\"label-position\":\"top\",\"autocomplete\":\"off\"}},[_c('h4',{staticClass:\"form-block-title\"},[_vm._v(\"基本設定\")]),_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"包月方案名稱\",\"prop\":\"title\",\"required\":\"\"}},[_c('el-input',{model:{value:(_vm.submitData.title),callback:function ($$v) {_vm.$set(_vm.submitData, \"title\", $$v)},expression:\"submitData.title\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"類別\",\"prop\":\"categoryId\",\"required\":\"\"}},[_c('el-select',{attrs:{\"disabled\":_vm.isEditMode},model:{value:(_vm.submitData.categoryId),callback:function ($$v) {_vm.$set(_vm.submitData, \"categoryId\", $$v)},expression:\"submitData.categoryId\"}},_vm._l((_vm.currentCategory),function(item,index){return _c('el-option',{key:(\"category-\" + index),attrs:{\"label\":item.title,\"value\":item.id}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":24,\"sm\":12}},[_c('el-form-item',{attrs:{\"label\":\"總抵扣次數\",\"prop\":\"times\",\"required\":\"\"}},[_c('el-input',{attrs:{\"min\":\"0\"},model:{value:(_vm.submitData.times),callback:function ($$v) {_vm.$set(_vm.submitData, \"times\", _vm._n($$v))},expression:\"submitData.times\"}},[_c('span',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"slot\":\"suffix\"},slot:\"suffix\"},[_vm._v(\"次\")])])],1)],1),_c('el-col',{attrs:{\"span\":24,\"sm\":12}},[_c('el-form-item',{attrs:{\"label\":\"庫存數量\",\"prop\":\"infinity\",\"required\":\"\"}},[_c('div',{class:_vm.$style['form-item--split']},[_c('el-radio-group',{model:{value:(_vm.submitData.infinity),callback:function ($$v) {_vm.$set(_vm.submitData, \"infinity\", $$v)},expression:\"submitData.infinity\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"無上限\")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"限量\")])],1),_c('el-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.submitData.infinity),expression:\"!submitData.infinity\"}],attrs:{\"min\":\"0\",\"size\":\"small\"},model:{value:(_vm.submitData.inventory),callback:function ($$v) {_vm.$set(_vm.submitData, \"inventory\", _vm._n($$v))},expression:\"submitData.inventory\"}})],1)])],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('span',{attrs:{\"slot\":\"label\",\"for\":\"\"},slot:\"label\"},[_vm._v(\"使用期限(輸入0表示可以無限期使用)\\n          \"),_c('el-tooltip',{attrs:{\"content\":\"如限制方案須於購買後一年內使用完畢，請輸入數字365；一個月內則輸入30。\",\"placement\":\"right\"}},[_c('BaseIcon',{attrs:{\"name\":\"info-circle\"}})],1)],1),_c('el-input',{model:{value:(_vm.submitData.expireDays),callback:function ($$v) {_vm.$set(_vm.submitData, \"expireDays\", $$v)},expression:\"submitData.expireDays\"}},[_c('span',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"slot\":\"suffix\"},slot:\"suffix\"},[_vm._v(\"天\")])])],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"優惠內容\",\"prop\":\"slogan\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3 }},model:{value:(_vm.submitData.slogan),callback:function ($$v) {_vm.$set(_vm.submitData, \"slogan\", $$v)},expression:\"submitData.slogan\"}})],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"方案內容說明\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2 }},model:{value:(_vm.submitData.description),callback:function ($$v) {_vm.$set(_vm.submitData, \"description\", $$v)},expression:\"submitData.description\"}})],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"注意事項\",\"prop\":\"notice\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2 }},model:{value:(_vm.submitData.notice),callback:function ($$v) {_vm.$set(_vm.submitData, \"notice\", $$v)},expression:\"submitData.notice\"}})],1)],1)],1),_c('h4',{staticClass:\"form-block-title\"},[_vm._v(\"圖片設定\")]),_c('el-col',{attrs:{\"sm\":24,\"span\":24}},[_c('el-form-item',{attrs:{\"prop\":\"images\"}},[(!_vm.$hasSpecial())?[_c('el-alert',{staticStyle:{\"padding\":\"0 16px\",\"margin-top\":\"5px\"},attrs:{\"title\":\"第一張圖片將會是包月方案首圖,建議尺寸：360*270px\",\"type\":\"warning\",\"show-icon\":\"\"}}),_c('ImageUpload',{class:_vm.$style.upload,attrs:{\"is-delete-save\":\"\",\"show-upload\":true,\"resource\":'prepaid'},on:{\"deleteSave\":_vm.deleteSave},model:{value:(_vm.submitData.images),callback:function ($$v) {_vm.$set(_vm.submitData, \"images\", $$v)},expression:\"submitData.images\"}})]:_vm._e(),(_vm.$hasSpecial())?[_c('el-alert',{staticStyle:{\"padding\":\"0 16px\",\"margin-top\":\"5px\"},attrs:{\"title\":\"第一張圖片將會是包月方案首圖,建議尺寸：720*350px\",\"type\":\"warning\",\"show-icon\":\"\"}}),_c('ImageUpload',{class:_vm.$style.upload,attrs:{\"is-delete-save\":\"\",\"show-upload\":true,\"resource\":'prepaid'},on:{\"deleteSave\":_vm.deleteSave},model:{value:(_vm.submitData.images),callback:function ($$v) {_vm.$set(_vm.submitData, \"images\", $$v)},expression:\"submitData.images\"}})]:_vm._e()],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport lazyLoadComponent from '@router/lazyload-component'\nimport { merchantComputed, authComputed } from '@state/helpers'\n\nexport default {\n  components: {\n    // BaseInputFloatingLabel: () => import('@components/BaseInputFloatingLabel'),\n    // BaseUpload: () => import('@components/BaseUpload'),\n    ImageUpload: () => lazyLoadComponent(import('@views/chat/components/FileUpload')),\n  },\n  props: {\n    products: {\n      type: Array,\n      required: true,\n    },\n    category: {\n      type: Array,\n      required: true,\n    },\n    defaultValue: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      // submitData: this.defaultValue,\n      // limit:{\n      //   year:0,\n      //   month:0,\n      //   day:0\n      // }\n    }\n  },\n  computed: {\n    ...merchantComputed,\n    ...authComputed,\n    submitData:{\n      get(){\n        return this.defaultValue\n      },\n      set(value) {\n        this.$emit('update:defaultValue', value)\n      },\n    },\n    canSetPrice() {\n      return this.$can('api', 'setPrice')\n    },\n    formRules() {\n      return {\n        title: [\n          { \n            required: true, \n            message: '請輸入包月方案名稱' \n          }\n        ],\n        categoryId:[\n          { \n            required: true, \n            message: '請選擇類別' \n          }\n        ],\n        groupAlias:[\n          {\n            required: true, \n            message: '請輸入包月網址別名' \n          }\n        ],\n        // basePrice: [\n        //   {\n        //     required: true,\n        //     message: '請輸入原價',\n        //     // trigger: 'change',\n        //   },\n        // ],\n        // price: [\n        //   {\n        //     required: true,\n        //     message: '請輸入售價',\n        //     // trigger: 'change',\n        //   },\n        // ],\n        infinity: [\n          {\n            required: true,\n            message: '請選擇庫存數量',\n            // trigger: 'change',\n          },\n        ],\n        times: [\n          {\n            required: true,\n            message: '請輸入可抵扣次數',\n            // trigger: 'change',\n          },\n        ],\n      }\n    },\n    currentCategory(){\n      return this.category.filter(item=>{\n        return item.children.length > 0\n      })\n    },\n    isEditMode(){\n      return !!this.defaultValue.groupOrdering\n    },\n    productBaseBookingUrl() {\n      // return `${this.merchantUrl}/booking/${this.currentProductAlias}/`\n      let url=''\n      if(window.globalData.APP_ENV==='local'){\n        url=this.merchantUrl\n      }else{\n        const prefixUrl = this.merchantUrl.split('//',2)\n        url = `${prefixUrl[0]}//${this.currentMerchant.alias}.${prefixUrl[1]}`\n        // url = `${prefixUrl[0]}//${this.currentMerchant.alias}.${prefixUrl[1]}/reservation/`\n      }\n      return url\n    },\n    homeServicePrepaidUrl(){\n      return `${this.productBaseBookingUrl}/${this.storeType}/prepaid/包月網址別名`\n    },\n    storeType(){\n      return `商店類型`\n    }\n  },\n  created() {\n    \n  },\n  methods: {\n    deleteSave(){\n      if(this.isEditMode){\n        this.$emit('update')\n      }\n      \n    },\n    validate() {\n      return this.$refs.form.validate()\n    },\n   /*  handleInputSlogan(value) {\n      const MAX_DIGIT_PER_LINE = 32\n      const MAX_LINES = 3\n\n      const valueLinesArray = value.split('\\n')\n\n      let filterLinesArray = valueLinesArray.map((line) => {\n        function getOverflowIndex(string, maxDigit) {\n          let digitCounter = 0\n\n          for (let index = 0; index < string.length; index++) {\n            if (digitCounter >= maxDigit) return index\n            const isChinese = string.charCodeAt(index) > 255\n            digitCounter += isChinese ? 2 : 1\n          }\n          return maxDigit\n        }\n\n        return line.substring(0, getOverflowIndex(line, MAX_DIGIT_PER_LINE))\n      })\n\n      if (filterLinesArray.length > MAX_LINES)\n        filterLinesArray.splice(MAX_LINES)\n      this.submitData.slogan = filterLinesArray.join('\\n')\n    }, */\n  },\n}\n</script>\n\n<template>\n  <div>\n    <el-form\n      ref=\"form\"\n      :model=\"submitData\"\n      :rules=\"formRules\"\n      :validate-on-rule-change=\"false\"\n      label-position=\"top\"\n      :class=\"$style.form\"\n   \n      autocomplete=\"off\"\n    >\n      <!-- <h4 class=\"form-block-title\">是否開放購買與顯示</h4>\n      <el-row>\n        <el-col :span=\"12\">\n          <el-form-item label=\"開放購買\" prop=\"state\">\n            <el-switch\n              v-model=\"submitData.state\"\n              active-text=\"開放\"\n              inactive-text=\"關閉\"\n              :active-value=\"1\"\n              :inactive-value=\"0\"\n            ></el-switch>\n          </el-form-item>\n        </el-col>\n        <el-col v-if=\"submitData.state === 1\" :span=\"12\">\n          <el-form-item label=\"在商店首頁\" prop=\"hidden\">\n            <el-switch\n              v-model=\"submitData.hidden\"\n              active-text=\"顯示\"\n              :active-value=\"0\"\n              inactive-text=\"隱藏\"\n              :inactive-value=\"1\"\n            ></el-switch>\n          </el-form-item>\n        </el-col>\n      </el-row> -->\n\n      <h4 class=\"form-block-title\">基本設定</h4>\n\n      <el-row :gutter=\"10\">\n        <el-col :span=\"12\">\n          <el-form-item label=\"包月方案名稱\" prop=\"title\" required>\n            <el-input v-model=\"submitData.title\" />\n          </el-form-item>\n        </el-col>\n          <el-col :span=\"12\">\n          <el-form-item label=\"類別\" prop=\"categoryId\" required>\n            <el-select v-model=\"submitData.categoryId\" :disabled=\"isEditMode\">\n              <el-option v-for=\"(item, index) in currentCategory\" :key=\"`category-${index}`\" :label=\"item.title\" :value=\"item.id\"></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <!-- <template v-if=\"!$hasHomeService()\">\n          \n          <el-col  :span=\"24\">\n          <el-form-item :label=\"`包月網址`\" prop=\"groupAlias\">\n            <el-input v-model=\"submitData.groupAlias\" placeholder=\"請使用英文字母與數字組合\">\n              <template v-if=\"!$root.isSmallDevice\" v-slot:prepend style=\"padding-left:0\">{{ productBaseBookingUrl }}/prepaid/</template>\n            \n            </el-input>\n          </el-form-item>\n          </el-col>\n        </template>\n        <template v-else>\n          <el-col  :span=\"24\">\n          <el-form-item :label=\"`包月網址別名`\" prop=\"groupAlias\">\n            <el-input v-model=\"submitData.groupAlias\" placeholder=\"請使用英文字母與數字組合\">\n         \n            </el-input>\n          </el-form-item>\n          </el-col>\n          <el-col  style=\"margin-bottom:20px;font-size: 12px; color: darkgray;\" :span=\"24\">\n            包月方案網址範例：{{`${homeServicePrepaidUrl}`}}\n          </el-col>\n        </template> -->\n        \n         <el-col :span=\"24\" :sm=\"12\">\n          <el-form-item label=\"總抵扣次數\" prop=\"times\" required>\n            <el-input v-model.number=\"submitData.times\" min=\"0\">\n              <span slot=\"suffix\" style=\"margin-right:10px\">次</span>\n            </el-input>\n          </el-form-item>\n        </el-col>\n               <el-col :span=\"24\" :sm=\"12\">\n          <el-form-item label=\"庫存數量\" prop=\"infinity\" required>\n            <div :class=\"$style['form-item--split']\">\n              <el-radio-group v-model=\"submitData.infinity\">\n                <el-radio :label=\"1\">無上限</el-radio>\n                <el-radio :label=\"0\">限量</el-radio>\n              </el-radio-group>\n              <el-input\n                v-show=\"!submitData.infinity\"\n                v-model.number=\"submitData.inventory\"\n                min=\"0\"\n                size=\"small\"\n              ></el-input>\n            </div>\n          </el-form-item>\n        </el-col>\n       \n        <el-col :span=\"24\" >\n           <el-form-item  label=\"\" >\n             <span slot=\"label\" for=\"\"\n            >使用期限(輸入0表示可以無限期使用)\n            <el-tooltip content=\"如限制方案須於購買後一年內使用完畢，請輸入數字365；一個月內則輸入30。\" placement=\"right\"> <BaseIcon name=\"info-circle\" /> </el-tooltip\n          ></span>\n             <el-input v-model=\"submitData.expireDays\"><span slot=\"suffix\" style=\"margin-right:10px\">天</span></el-input>\n          </el-form-item>\n        \n        </el-col>\n        <el-col :span=\"24\">\n          <el-form-item label=\"優惠內容\" prop=\"slogan\">\n            <el-input\n              v-model=\"submitData.slogan\"\n              type=\"textarea\"\n              :autosize=\"{ minRows: 3 }\"\n            />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"24\">\n          <el-form-item label=\"方案內容說明\" prop=\"description\">\n            <el-input\n              v-model=\"submitData.description\"\n              type=\"textarea\"\n              :autosize=\"{ minRows: 2 }\"\n            />\n          </el-form-item>\n        </el-col> \n        <!-- <el-col :span=\"24\" :sm=\"12\">\n          <el-form-item label=\"方案圖片\" prop=\"image\">\n            <template v-if=\"!$hasSpecial()\">\n              <BaseUpload\n                v-model=\"submitData.image\"\n                resource=\"prepaid\"\n                suggest-size=\"360/270\"\n                image-size=\"4:3\"\n              />\n            </template>\n            <template v-if=\"$hasSpecial()\">\n              <BaseUpload\n              v-model=\"submitData.image\"\n              resource=\"prepaid\"\n              suggest-size=\"720/350\"\n            />\n            </template>\n           \n        </el-col> -->\n        <el-col :span=\"24\">\n          <el-form-item label=\"注意事項\" prop=\"notice\">\n            <el-input\n              v-model=\"submitData.notice\"\n              type=\"textarea\"\n              :autosize=\"{ minRows: 2 }\"\n            />\n         \n          </el-form-item>\n        </el-col>\n      </el-row>\n\n\n   \n      <h4 class=\"form-block-title\">圖片設定</h4>\n      <el-col :sm=\"24\" :span=\"24\">\n              <el-form-item prop=\"images\">\n                \n                <template v-if=\"!$hasSpecial()\">\n                  <el-alert title=\"第一張圖片將會是包月方案首圖,建議尺寸：360*270px\" type=\"warning\" show-icon style=\"padding: 0 16px; margin-top: 5px\"> </el-alert>\n                  <ImageUpload v-model=\"submitData.images\" is-delete-save :class=\"$style.upload\" :show-upload=\"true\" :resource=\"'prepaid'\" @deleteSave=\"deleteSave\"></ImageUpload>\n                </template>\n                <template v-if=\"$hasSpecial()\">\n                  <el-alert title=\"第一張圖片將會是包月方案首圖,建議尺寸：720*350px\" type=\"warning\" show-icon style=\"padding: 0 16px; margin-top: 5px\"> </el-alert>\n                  <ImageUpload v-model=\"submitData.images\" is-delete-save :class=\"$style.upload\"  :show-upload=\"true\" :resource=\"'prepaid'\" @deleteSave=\"deleteSave\" ></ImageUpload>\n                </template>\n              </el-form-item>\n            </el-col>\n    </el-form>\n  </div>\n</template>\n<style lang=\"scss\" module>\n@import '@design';\n.form{\n  :global {\n    .el-input-group__prepend{\n      padding-left: 0;\n    }\n  }\n}\n%img-size {\n  width: calc(33.333333% - 10px);\n  height: 175px;\n  @include max-sm {\n    width: calc(100% - 10px);\n  }\n}\n:global {\n  :local(.upload) {\n    margin: 0 -10px;\n    border-top: none !important;\n    > div {\n      @extend %img-size;\n    }\n\n    .image-and-action {\n      @extend %img-size;\n      & + div {\n        @extend %img-size;\n      }\n    }\n  }\n}\n.form-item--split {\n  display: flex;\n  align-items: center;\n  height: 40px;\n  line-height: 40px;\n\n  :global {\n    .el-radio-group {\n      flex-shrink: 0;\n      margin-right: 15px;\n    }\n    .el-input {\n      max-width: 150px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Step1Basic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Step1Basic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Step1Basic.vue?vue&type=template&id=7b3afc59&\"\nimport script from \"./Step1Basic.vue?vue&type=script&lang=js&\"\nexport * from \"./Step1Basic.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Step1Basic.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Step1Basic.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Step1Basic.vue?vue&type=style&index=0&lang=scss&module=true&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"Step1Basic_slide_11vmY\",\"slide-reverse\":\"Step1Basic_slide-reverse_3vlck\",\"form\":\"Step1Basic_form_3Twra\",\"upload\":\"Step1Basic_upload_1bjad\",\"form-item--split\":\"Step1Basic_form-item--split_3MEEO\"};"],"sourceRoot":""}