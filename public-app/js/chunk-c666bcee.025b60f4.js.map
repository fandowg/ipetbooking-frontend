{"version":3,"sources":["webpack:///./src/router/views/dashboard/components/BookingBlock.vue?b067","webpack:///src/router/views/dashboard/components/BookingBlock.vue","webpack:///./src/router/views/dashboard/components/BookingBlock.vue?f6b5","webpack:///./src/router/views/dashboard/components/BookingBlock.vue?100e","webpack:///./src/router/views/dashboard/components/BookingBlock.vue?6a11","webpack:///./src/router/views/dashboard/components/BookingBlock.vue?4996"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","shadow","slot","_v","class","$style","headerRight","type","plain","on","click","$event","redirectPriceList","name","change","tryToFetchRanking","model","value","callback","$$v","filterProduct","expression","label","_l","product","index","key","id","_s","title","directives","rawName","element-loading-text","data","list","indexMethod","width","prop","min-width","align","scopedSlots","_u","fn","ref","row","orderCount","staticRenderFns","BookingBlockvue_type_script_lang_js_","loading","filterProducts","created","methods","_tryToFetchRanking","Object","asyncToGenerator","regenerator_default","a","mark","_callee","productId","_ref","filter","ranking","_args","arguments","wrap","_context","prev","next","length","undefined","$store","dispatch","sent","stop","apply","info","show","$router","push","params","priceInfo","createPrice","components_BookingBlockvue_type_script_lang_js_","injectStyles","context","BookingBlockvue_type_style_index_0_lang_scss_module_true_","locals","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BookingBlock_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BookingBlock_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","module","exports","slide","slide-reverse","flex-center","sort-group"],"mappings":"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","file":"js/chunk-c666bcee.025b60f4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"box-card\",attrs:{\"shadow\":\"never\"}},[_c('div',{staticClass:\"header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h3',{staticClass:\"block-title\"},[_vm._v(\"\\n      近七日熱門預約服務項目排行\\n    \")]),_c('div',{class:_vm.$style.headerRight},[[_c('span',[_c('el-button',{staticClass:\"is-round\",attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.redirectPriceList('')}}},[_c('BaseIcon',{attrs:{\"name\":\"th\"}}),_vm._v(\" 檢視所有服務項目\\n          \")],1)],1),_c('span',[_c('el-button',{staticClass:\"is-round\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.redirectPriceList('', true)}}},[_c('BaseIcon',{attrs:{\"name\":\"plus\"}}),_vm._v(\" 新增服務項目\\n          \")],1)],1)]],2)]),_c('span',[_vm._v(\"篩選： \")]),_c('el-radio-group',{class:_vm.$style['sort-group'],on:{\"change\":_vm.tryToFetchRanking},model:{value:(_vm.filterProduct),callback:function ($$v) {_vm.filterProduct=$$v},expression:\"filterProduct\"}},[_c('el-radio-button',{attrs:{\"label\":\"\"}},[_vm._v(\"所有\")]),_vm._l((_vm.filterProducts),function(product,index){return _c('el-radio-button',{key:(\"filter-\" + index),attrs:{\"label\":product.id}},[_vm._v(_vm._s(product.title))])})],2),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"element-loading-text\":\"取得排行資訊中\",\"data\":_vm.list}},[_c('el-table-column',{attrs:{\"label\":\"#\",\"index\":_vm.indexMethod,\"type\":\"index\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"label\":\"預約項目\",\"prop\":\"title\",\"min-width\":\"300\"}}),_c('el-table-column',{attrs:{\"label\":\"訂單數量\",\"width\":\"190\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',[_c('BaseIcon',{attrs:{\"name\":\"clipboard-list\"}}),_vm._v(\" \"+_vm._s(row.orderCount))],1)]}}])}),_c('el-table-column',{attrs:{\"width\":\"40\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  data() {\n    return {\n      loading: false,\n      filterProduct: '',\n      list: [],\n      filterProducts: []\n    }\n  },\n  created() {\n    this.tryToFetchRanking()\n  },\n  methods: {\n    async tryToFetchRanking(productId = '') {\n      this.loading = true\n      const {filter, ranking} = await this.$store.dispatch('dashboard/fetchRanking', {\n        productId,\n      })\n      this.list = ranking\n      this.filterProducts = filter\n      this.loading = false\n    },\n    redirectPriceList(info, show = undefined) {\n      this.$router.push({\n        name: 'service',\n        params: {\n          priceInfo: info || undefined,\n          createPrice: show,\n        },\n      })\n    },\n    indexMethod(index) {\n      return '#' + (index + 1)\n    },\n  },\n}\n</script>\n\n<template>\n  <el-card class=\"box-card\" shadow=\"never\">\n    <div slot=\"header\" class=\"header\">\n      <h3 class=\"block-title\">\n        近七日熱門預約服務項目排行\n      </h3>\n      <div :class=\"$style.headerRight\">\n        <template v-can=\"'redirectProducts'\">\n          <span>\n            <el-button class=\"is-round\" type=\"primary\" plain @click=\"redirectPriceList('')\">\n              <BaseIcon name=\"th\" /> 檢視所有服務項目\n            </el-button>\n          </span>\n          <span>\n            <el-button class=\"is-round\" type=\"primary\" @click=\"redirectPriceList('', true)\">\n              <BaseIcon name=\"plus\" /> 新增服務項目\n            </el-button>\n          </span>\n        </template>\n      </div>\n    </div>\n    <span>篩選： </span>\n    <el-radio-group\n      v-model=\"filterProduct\"\n      :class=\"$style['sort-group']\"\n      @change=\"tryToFetchRanking\"\n    >\n      <el-radio-button label=\"\">所有</el-radio-button>\n      <el-radio-button v-for=\"(product, index) in filterProducts\" :key=\"`filter-${index}`\" :label=\"product.id\">{{product.title}}</el-radio-button>\n    </el-radio-group>\n    <el-table\n      v-loading=\"loading\"\n      element-loading-text=\"取得排行資訊中\"\n      :data=\"list\"\n    >\n      <el-table-column label=\"#\" :index=\"indexMethod\" type=\"index\" width=\"50\">\n      </el-table-column>\n      <el-table-column label=\"預約項目\" prop=\"title\" min-width=\"300\">\n      </el-table-column>\n      <el-table-column v-slot=\"{ row }\" label=\"訂單數量\" width=\"190\" align=\"right\">\n        <div\n          ><BaseIcon name=\"clipboard-list\" /> {{ row.orderCount }}</div\n        >\n      </el-table-column>\n      <el-table-column width=\"40\">\n      </el-table-column>\n      <!-- <el-table-column v-slot=\"{ row }\" label=\"動作\" width=\"150\">\n        <el-button type=\"text\" @click=\"redirectPriceList(row)\">\n          <BaseIcon name=\"edit\" />\n          修改服務項目</el-button\n        >\n      </el-table-column> -->\n    </el-table>\n  </el-card>\n</template>\n<style lang=\"scss\" module>\n.flex-center {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.sort-group {\n  :global {\n    .el-radio-button {\n      box-shadow: none !important;\n      &:not(.is-active) {\n        .el-radio-button__inner {\n          border-color: transparent;\n        }\n      }\n      &.is-active {\n        .el-radio-button__inner {\n          border-color: $color-secondary;\n          background: $color-secondary;\n        }\n      }\n      .el-radio-button__inner {\n        padding: 6px 15px;\n        font-size: 12px;\n        border-radius: 8px;\n        box-shadow: none;\n        outline: none;\n        font-size: 14px;\n      }\n    }\n  }\n}\n\n.headerRight {\n  > span {\n    button {\n      margin-left: 0.5rem;\n    }\n  }\n  @include max-sm {\n    display: flex;\n    flex-wrap: wrap;\n    width: 100%;\n    > span {\n      width: 100%;\n      flex: 0 0 auto;\n      button {\n        width: 100%;\n        margin-bottom: 0.5rem;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookingBlock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookingBlock.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookingBlock.vue?vue&type=template&id=558a5bba&\"\nimport script from \"./BookingBlock.vue?vue&type=script&lang=js&\"\nexport * from \"./BookingBlock.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookingBlock.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookingBlock.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookingBlock.vue?vue&type=style&index=0&lang=scss&module=true&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"BookingBlock_slide_k5At2\",\"slide-reverse\":\"BookingBlock_slide-reverse_1PBXm\",\"flex-center\":\"BookingBlock_flex-center_10fwf\",\"sort-group\":\"BookingBlock_sort-group_28DYO\",\"headerRight\":\"BookingBlock_headerRight_3717r\"};"],"sourceRoot":""}