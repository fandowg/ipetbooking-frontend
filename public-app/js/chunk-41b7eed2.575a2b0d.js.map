{"version":3,"sources":["webpack:///./src/router/views/settings/components/ListItem.vue?66ab","webpack:///./src/router/views/settings/components/ListItem.vue?2e97","webpack:///src/router/views/settings/components/ListItem.vue","webpack:///./src/router/views/settings/components/ListItem.vue?4796","webpack:///./src/router/views/settings/components/ListItem.vue?c36a","webpack:///./src/router/views/settings/components/ListItem.vue?2458"],"names":["module","exports","slide","slide-reverse","config","render","_vm","this","_h","$createElement","_c","_self","class","$style","staticClass","_v","attrs","name","label","model","value","defaultValue","sms","callback","$$v","$set","expression","staticStyle","color","_s","mapEnableMessage","itemName","directives","rawName","domProps","innerHTML","mapDefaultPreview","isSmsUseTemplate","ref","fixed-phrase","mapFixedPhrase","content","smsContent","on","update","$event","updateTemplate","margin-top","title","type","show-icon","closable","margin-bottom","previewContent","templateContent","width","loading","tryingStore","click","save","staticRenderFns","ListItemvue_type_script_lang_js_","components","At","Object","lazyload_component","__webpack_require__","e","then","bind","props","String","default","data","mapTemplateString","姓名","訂單成立時間","店家名稱","預約時間","訂單付款時間","服務項目","人數","數量","短網址","包月方案項目","店家電話","店家地址","店家網址","訂單取消時間","訂單短網址","服務類型","訂單付款期限","原始預約時間","帳號","密碼","分店名稱","分店電話","分店地址","舊預約時間","order_Qrcode","email","order_CheckoutLink","order_Remind","order_Cancel","order_ChangeTime","order_RequestDeduct","prepaid_Qrcode","prepaid_CheckoutLink","prepaid_Cancel","member_SendPassword","orderAdd_PaySuccess","orderAdd_CheckoutLink","orderAdd_Cancel","computed","isSmsEnable","receive","isEmailEnable","useCustomTemplate","isEmailUseTemplate","templateContentHTML","methods","emitClose","$emit","$refs","form","resetFields","updateSubmitData","submitData","assign","_this","getSubmitData","productType","split","itemType","smsTemplate","getTemplateContent","getTemplateContentHTML","lodash","sendType","undefined","defineProperty","_this2","templateString","arguments","length","keys","forEach","key","replace","RegExp","concat","_this3","$nextTick","$forceUpdate","components_ListItemvue_type_script_lang_js_","injectStyles","context","ListItemvue_type_style_index_0_lang_scss_module_true_","locals","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ListItem_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ListItem_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-41b7eed2.575a2b0d.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"ListItem_slide_1ygww\",\"slide-reverse\":\"ListItem_slide-reverse_Dxoh2\",\"config\":\"ListItem_config_3lFvY\"};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.config},[_c('div',{staticClass:\"sms\"},[_c('h5',{staticClass:\"title\"},[_vm._v(\"簡訊設定 \"),_c('BaseIcon',{attrs:{\"name\":\"comment-dots\"}})],1),_c('div',{staticClass:\"enable-disable\"},[_c('div',{staticClass:\"disable\"},[_c('el-radio',{attrs:{\"label\":0},model:{value:(_vm.defaultValue.sms.receive),callback:function ($$v) {_vm.$set(_vm.defaultValue.sms, \"receive\", $$v)},expression:\"defaultValue.sms.receive\"}},[_vm._v(\"關閉簡訊通知\")])],1),_c('div',{staticClass:\"enable\"},[_c('el-radio',{attrs:{\"label\":1},model:{value:(_vm.defaultValue.sms.receive),callback:function ($$v) {_vm.$set(_vm.defaultValue.sms, \"receive\", $$v)},expression:\"defaultValue.sms.receive\"}},[_vm._v(\"啟用簡訊通知\")]),_c('span',{staticStyle:{\"color\":\"#aaaaaa\"}},[_vm._v(\"－\"+_vm._s(_vm.mapEnableMessage[_vm.itemName].sms))])],1)]),_c('el-divider'),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSmsEnable),expression:\"isSmsEnable\"}]},[_c('div',[_c('el-radio',{attrs:{\"label\":0},model:{value:(_vm.defaultValue.sms.useCustomTemplate),callback:function ($$v) {_vm.$set(_vm.defaultValue.sms, \"useCustomTemplate\", $$v)},expression:\"defaultValue.sms.useCustomTemplate\"}},[_vm._v(\"預設內容：\")])],1),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.mapDefaultPreview[_vm.itemName].sms)}},[_vm._v(\" 您已向[店家名稱]購買包月方案「[包月方案名稱]」，請點以下連結立即付款完成結帳[訂單短網址]\")]),_c('div',[_c('el-radio',{attrs:{\"label\":1},model:{value:(_vm.defaultValue.sms.useCustomTemplate),callback:function ($$v) {_vm.$set(_vm.defaultValue.sms, \"useCustomTemplate\", $$v)},expression:\"defaultValue.sms.useCustomTemplate\"}},[_vm._v(\"自訂內容：\")])],1),_c('div',{class:['content', !_vm.isSmsUseTemplate ? 'disabled' : '']},[_c('At',{ref:\"smsTemplate\",attrs:{\"fixed-phrase\":_vm.mapFixedPhrase[_vm.itemName],\"content\":_vm.smsContent},on:{\"update\":function($event){return _vm.updateTemplate('sms')}}}),_c('el-alert',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"title\":\"提醒您，簡訊實際字數計算會因參數長度有所不同。每則簡訊字數依實際計算為準。\",\"type\":\"info\",\"show-icon\":\"\",\"closable\":true}}),_c('div',{staticStyle:{\"margin-top\":\"30px\"}},[_c('div',[_vm._v(\"樣式預覽：\")]),_c('div',{staticStyle:{\"margin-bottom\":\"30px\"},domProps:{\"innerHTML\":_vm._s(_vm.previewContent(_vm.defaultValue.sms.templateContent))}})])],1)])],1),_c('el-button',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"50px\"},attrs:{\"loading\":_vm.tryingStore,\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"儲存變更\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { forOwn } from 'lodash'\nimport lazyLoadComponent from '@router/lazyload-component'\n\nexport default {\n  components: { At: () => lazyLoadComponent(import('@components/At')) },\n  props: {\n    itemName: {\n      type: String,\n      default: '',\n    },\n    defaultValue: {\n      type: Object,\n      default: () => {\n        return {}\n      },\n    },\n  },\n  data() {\n    return {\n      tryingStore: false,\n      mapTemplateString: {\n        姓名: '黃大明',\n        訂單成立時間: ' 2021/01/01 00:00 ',\n        店家名稱: '小捲尾寵物美容',\n        預約時間: ' 2021/01/03 13:00 ',\n        訂單付款時間: ' 2021/01/01 10:00 ',\n        服務項目: '小捲尾美容SPA',\n        人數: ' 1 ',\n        數量: ' 1 ',\n        短網址: ' ipbk.in/yoga ',\n        包月方案項目: '招牌沐浴超值特惠組',\n        店家電話: '02-27422526',\n        店家地址: '台北市松山區健康路239號',\n        店家網址: 'https://j-tails.com',\n        訂單取消時間: ' 2021/01/02 09:00 ',\n        訂單短網址: 'ipbk.in/12345',\n        服務類型: '到店服務',\n        訂單付款期限: ' 2021/01/02 23:59 ',\n        原始預約時間: ' 2021/01/03 10:00 ',\n        帳號: 'account@01',\n        密碼: 'password@01',\n        分店名稱:'中山店',\n        分店電話:'002-274225262',\n        分店地址:'台北市松山區健康路239號',\n        舊預約時間:'2021/01/03 10:00'\n      },\n      mapEnableMessage: {\n        order_Qrcode: {\n          sms: '客戶會在付款後收到確認簡訊',\n          email: '客戶會在付款後收到確認電子郵件',\n        },\n        order_CheckoutLink: {\n          sms: '客戶會在付款前收到繳款連結簡訊',\n          email: '客戶會在付款前收到繳款連結電子郵件',\n        },\n        order_Remind: {\n          sms: '客戶會在行前收到行程提醒簡訊',\n          email: '客戶會在行前收到行程提醒電子郵件',\n        },\n\n        order_Cancel: {\n          sms: '客戶會在預約被取消時收到提醒簡訊',\n          email: '客戶會在行前收到行程提醒電子郵件',\n        },\n        order_ChangeTime: {\n          sms: '客戶會在預約改期時收到提醒簡訊',\n          email: '客戶會在行前收到行程提醒電子郵件',\n        },\n        order_RequestDeduct: {\n          sms: '客戶會在訂單折抵時收到提醒簡訊',\n          email: '客戶會在行前收到行程提醒電子郵件',\n        },\n\n        prepaid_Qrcode: {\n          sms: '客戶會在包月方案付款完成後收到購買完成簡訊',\n          email: '客戶會在包月方案付款完成後收到購買完成電子郵件',\n        },\n        prepaid_CheckoutLink: {\n          sms: '客戶會在選購包月方案後收到付款連結簡訊',\n          email: '客戶會在選購包月方案後收到付款連結電子郵件',\n        },\n        prepaid_Cancel: {\n          sms: '客戶會在退款完成時收到提醒簡訊',\n          email: '客戶會在選購包月方案後收到付款連結電子郵件',\n        },\n        member_SendPassword: {\n          sms: '客戶會在註冊成功時收到提醒簡訊',\n          email: '',\n        },\n\n        orderAdd_PaySuccess: {\n          sms: '客戶會在加購訂單付款完成後收到購買完成簡訊',\n          email: '客戶會在加購訂單付款完成後收到購買完成電子郵件',\n        },\n        orderAdd_CheckoutLink: {\n          sms: '客戶會在選購加購項目後收到付款連結簡訊',\n          email: '客戶會在選購加購項目後收到付款連結電子郵件',\n        },\n        orderAdd_Cancel: {\n          sms: '客戶會在加購訂單退款完成時收到提醒簡訊',\n          email: '',\n        },\n      },\n      mapFixedPhrase: {\n        order_Qrcode: ['姓名', '店家名稱', '分店名稱', '服務項目', '預約時間', '分店電話', '分店地址', '店家網址', '訂單短網址', '訂單付款時間'],\n        order_CheckoutLink: ['姓名', '店家名稱', '分店名稱', '服務項目', '預約時間', '分店電話', '分店地址', '訂單付款期限', '訂單短網址', '訂單成立時間'],\n        order_Remind: ['姓名', '店家名稱', '分店名稱', '服務項目', '預約時間', '分店電話', '分店地址', '訂單短網址'],\n\n        order_Cancel: ['姓名', '店家名稱', '分店名稱', '服務項目', '預約時間', '分店電話', '分店地址', '訂單短網址', '訂單取消時間'],\n        order_ChangeTime: ['姓名', '店家名稱', '分店名稱', '服務項目', '預約時間','舊預約時間', '分店電話', '分店地址', '訂單付款期限', '訂單短網址'],\n        order_RequestDeduct: ['姓名', '店家名稱', '服務類型', '服務項目', '預約時間', '店家電話', '店家地址', '店家網址', '訂單成立時間', '訂單短網址'],\n\n        prepaid_Qrcode: ['姓名', '店家名稱', '分店名稱', '分店電話', '分店地址', '訂單短網址', '包月方案項目', '訂單付款時間'],\n        prepaid_CheckoutLink: ['姓名', '店家名稱', '分店名稱', '分店電話', '分店地址', '訂單付款期限', '訂單短網址', '訂單成立時間','包月方案項目'],\n        prepaid_Cancel: ['姓名', '店家名稱', '分店名稱', '分店電話', '分店地址', '訂單短網址', '包月方案項目', '訂單取消時間'],\n\n        member_SendPassword: ['帳號', '密碼', '店家名稱', '店家電話', '店家地址', '店家網址'],\n\n        orderAdd_PaySuccess: ['姓名', '店家名稱', '分店名稱', '服務項目', '預約時間', '分店電話', '分店地址', '訂單短網址','訂單付款時間'],\n        orderAdd_CheckoutLink: ['姓名', '店家名稱', '分店名稱', '服務項目', '預約時間', '分店電話', '分店地址','訂單短網址','訂單成立時間','訂單付款期限'],\n        orderAdd_Cancel: ['姓名', '店家名稱', '分店名稱', '服務項目', '預約時間', '分店電話', '分店地址', '訂單短網址','訂單取消時間'],\n      },\n      mapDefaultPreview: {\n        order_Qrcode: {\n          sms: '您預約{店家名稱}{分店名稱}{預約時間}{服務項目}，詳情請見以下連結:{訂單短網址}',\n          email: '',\n        },\n        order_CheckoutLink: {\n          sms: '您已預約{店家名稱}{分店名稱}的{預約時間}{服務項目}，請點連結立即付款:{訂單短網址}',\n          email: '',\n        },\n        order_Remind: {\n          sms: '提醒您已預約{店家名稱}{分店名稱}的{預約時間} {服務項目}，若不克前往請提前與我們聯繫。',\n          email: '',\n        },\n\n        order_Cancel: {\n          sms: '您於{店家名稱}{分店名稱}{預約時間}的預約已於{訂單取消時間}取消，倘若有任何問題，歡迎與我們聯繫!',\n          email: '',\n        },\n        order_ChangeTime: {\n          sms: '您於{店家名稱}{分店名稱}的預約{服務項目}已改期到{預約時間}，如有問題請與我們聯繫！',\n          email: '',\n        },\n        order_RequestDeduct: {\n          sms: '您已在{訂單成立時間}使用{包月方案名稱}預約{服務類型}{服務項目}，請點擊連結確認折抵:{訂單短網址}',\n          email: '',\n        },\n\n        prepaid_Qrcode: {\n          sms: '您於{店家名稱}{分店名稱}購買的{包月方案項目}付款完成，您可開始使用您的包月方案',\n          email: '',\n        },\n        prepaid_CheckoutLink: {\n          sms: '您已購買{店家名稱}的{包月方案項目}，請點連結立即付款:{訂單短網址}',\n          email: '',\n        },\n        prepaid_Cancel: {\n          sms: '您於{店家名稱}{分店名稱}購買的{包月方案項目}已於{訂單取消時間}取消，如有任何疑問請聯繫我們',\n          email: '',\n        },\n        member_SendPassword: {\n          sms: '感謝您註冊成為小捲尾寵物美容的會員，您的帳號：{帳號}密碼：{密碼}，請儘速登入會員中心修改密碼！',\n          email: '',\n        },\n\n        orderAdd_PaySuccess: {\n          sms: '您的加購訂單已付款完成！點擊查看詳情：{訂單短網址}',\n          email: '',\n        },\n        orderAdd_CheckoutLink: {\n          sms: '您的加購訂單已成立，請點連結立即付款:{訂單短網址}',\n          email: '',\n        },\n        orderAdd_Cancel: {\n          sms: '您的加購訂單已於{訂單取消時間}取消，如有任何疑問請聯繫商家，點擊查看詳情:{訂單短網址}',\n          email: '',\n        },\n      },\n    }\n  },\n  computed: {\n    isSmsEnable() {\n      return this.defaultValue.sms.receive === 1\n    },\n    isEmailEnable() {\n      return this.defaultValue.email.receive === 1\n    },\n    isSmsUseTemplate() {\n      return this.defaultValue.sms.useCustomTemplate === 1\n    },\n    isEmailUseTemplate() {\n      return this.defaultValue.email.useCustomTemplate === 1\n    },\n    smsContent() {\n      return this.defaultValue.sms.templateContentHTML ? this.defaultValue.sms.templateContentHTML : this.defaultValue.sms.templateContent\n    },\n  },\n  // watch: {\n  //   defaultValue: 'updateSubmitData',\n  // },\n  methods: {\n    emitClose() {\n      this.$emit('close')\n      this.$refs.form.resetFields()\n    },\n    updateSubmitData() {\n      this.submitData = Object.assign({}, this.defaultValue)\n    },\n    save() {\n      this.tryingStore = true\n      this.$emit('save', this.getSubmitData(), () => {\n        this.tryingStore = false\n      })\n    },\n    getSubmitData() {\n      const submitData = {}\n      const productType = this.itemName.split('_')[0]\n      const itemType = this.itemName.split('_')[1]\n\n      this.defaultValue.sms.templateContent = this.$refs.smsTemplate.getTemplateContent()\n      this.defaultValue.sms.templateContentHTML = this.$refs.smsTemplate.getTemplateContentHTML()\n      // this.defaultValue.email.templateContent = this.$refs.emailTemplate.getTemplateContent()\n      // this.defaultValue.email.templateContent = this.$refs.emailTemplate.getTemplateContentHTML()\n\n      forOwn(this.defaultValue, (config, sendType) => {\n        if (submitData[sendType] === undefined) submitData[sendType] = {}\n        submitData[sendType][productType] = {\n          [itemType]: config,\n        }\n      })\n      return submitData\n    },\n    previewContent(templateString = '') {\n      let content = templateString\n      if (content === null) return ''\n\n      // let content = `樣式預覽： 親愛的{姓名}，感謝您的訂購！ 您已向{店家名稱}購買超值方案「新課體驗組合」，{預約時間}請點以下連結立即付款完成結帳{短網址}`\n      Object.keys(this.mapTemplateString).forEach((key) => {\n        content = content.replace(new RegExp(`{${key}}`, 'g'), this.mapTemplateString[key])\n      })\n      content = content.replace(/\\n/g, '<br>')\n\n      return content\n    },\n    updateTemplate(type) {\n      this.defaultValue[type].templateContent = this.$refs[`${type}Template`].getTemplateContent()\n      this.defaultValue[type].templateContentHTML = this.$refs[`${type}Template`].getTemplateContentHTML()\n\n      this.$nextTick(() => {\n        this.$forceUpdate()\n      })\n    },\n  },\n}\n</script>\n\n<template>\n  <div :class=\"$style.config\">\n    <div class=\"sms\">\n      <h5 class=\"title\">簡訊設定 <BaseIcon name=\"comment-dots\"/></h5>\n      <div class=\"enable-disable\">\n        <div class=\"disable\"><el-radio v-model=\"defaultValue.sms.receive\" :label=\"0\">關閉簡訊通知</el-radio></div>\n        <div class=\"enable\"\n          ><el-radio v-model=\"defaultValue.sms.receive\" :label=\"1\">啟用簡訊通知</el-radio><span style=\"color: #aaaaaa;\">－{{ mapEnableMessage[itemName].sms }}</span></div\n        >\n      </div>\n      <el-divider></el-divider>\n      <div v-show=\"isSmsEnable\">\n        <div><el-radio v-model=\"defaultValue.sms.useCustomTemplate\" :label=\"0\">預設內容：</el-radio></div>\n        <div class=\"content\" v-html=\"mapDefaultPreview[itemName].sms\"> 您已向[店家名稱]購買包月方案「[包月方案名稱]」，請點以下連結立即付款完成結帳[訂單短網址]</div>\n        <div><el-radio v-model=\"defaultValue.sms.useCustomTemplate\" :label=\"1\">自訂內容：</el-radio></div>\n        <div :class=\"['content', !isSmsUseTemplate ? 'disabled' : '']\">\n          <At ref=\"smsTemplate\" :fixed-phrase=\"mapFixedPhrase[itemName]\" :content=\"smsContent\" @update=\"updateTemplate('sms')\"></At>\n          <!-- <el-input v-model=\"defaultValue.sms.templateContent\"></el-input> -->\n\n          <el-alert style=\"margin-top: 10px;\" title=\"提醒您，簡訊實際字數計算會因參數長度有所不同。每則簡訊字數依實際計算為準。\" type=\"info\" show-icon :closable=\"true\"> </el-alert>\n          <div style=\"margin-top: 30px;\">\n            <div>樣式預覽：</div>\n            <div style=\"margin-bottom: 30px;\" v-html=\"previewContent(defaultValue.sms.templateContent)\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- <div class=\"email\">\n      <h5 class=\"title\">郵件設定 <BaseIcon name=\"envelope\" /></h5>\n      <div class=\"enable-disable\">\n        <div class=\"disable\"\n          ><el-radio v-model=\"defaultValue.email.receive\" :label=\"0\"\n            >關閉郵件通知</el-radio\n          ></div\n        >\n        <div class=\"enable\"\n          ><el-radio v-model=\"defaultValue.email.receive\" :label=\"1\"\n            >啟用郵件通知</el-radio\n          ><span style=\"color: #aaaaaa;\"\n            >－{{ mapEnableMessage[itemName].email }}</span\n          ></div\n        >\n      </div>\n      <el-divider></el-divider>\n      <div v-show=\"isEmailEnable\">\n        <div\n          ><el-radio v-model=\"defaultValue.email.useCustomTemplate\" :label=\"0\"\n            >預設內容：</el-radio\n          ></div\n        >\n        <div class=\"content\" v-html=\"mapDefaultPreview[itemName].email\"> </div>\n\n        <div\n          ><el-radio v-model=\"defaultValue.email.useCustomTemplate\" :label=\"1\"\n            >自訂內容：</el-radio\n          ></div\n        >\n        <div :class=\"['content', !isEmailUseTemplate ? 'disabled' : '']\">\n          <At\n            ref=\"emailTemplate\"\n            :fixed-phrase=\"mapFixedPhrase[itemName]\"\n            :content=\"defaultValue.email.templateContent\"\n            @update=\"updateTemplate('email')\"\n          ></At>\n          <div style=\"margin-top: 30px;\">\n            <div>樣式預覽：</div>\n            <div\n              style=\"margin-bottom: 30px;\"\n              v-html=\"previewContent(defaultValue.email.templateContent)\"\n            ></div>\n          </div>\n        </div>\n      </div>\n    </div> -->\n    <el-button :loading=\"tryingStore\" type=\"primary\" style=\"width: 100%; margin-top: 50px;\" @click=\"save\">儲存變更</el-button>\n  </div>\n</template>\n<style lang=\"scss\" module>\n.config {\n  :global {\n    .disabled {\n      opacity: 0.3;\n      pointer-events: none;\n    }\n    .title {\n      color: #2f8d96;\n    }\n    .content {\n      padding-left: 25px;\n      & + div {\n        margin-top: 30px;\n      }\n    }\n\n    .el-radio__input {\n      vertical-align: top;\n    }\n    .enable-disable {\n      .disable + .enable {\n        margin-top: 20px;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListItem.vue?vue&type=template&id=589554a8&\"\nimport script from \"./ListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ListItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListItem.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListItem.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListItem.vue?vue&type=style&index=0&lang=scss&module=true&\""],"sourceRoot":""}