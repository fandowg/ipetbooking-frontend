{"version":3,"sources":["webpack:///./src/router/views/analytics/TabSellByOrder.vue?38e9","webpack:///src/router/views/analytics/TabSellByOrder.vue","webpack:///./src/router/views/analytics/TabSellByOrder.vue?63e6","webpack:///./src/router/views/analytics/TabSellByOrder.vue?65a4","webpack:///./src/router/views/analytics/TabSellByOrder.vue?2bc5","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/arrayWithHoles.js","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/iterableToArrayLimit.js","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/nonIterableRest.js","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/slicedToArray.js","webpack:///./src/router/views/analytics/TabSellByOrder.vue?7aa5"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","justify-content","width","attrs","type","align","unlink-panels","range-separator","start-placeholder","end-placeholder","picker-options","pickerOptions","clearable","on","change","tryToFetchList","model","value","callback","$$v","filterDateRange","expression","class","isActive","dateNow","margin-left","click","$event","quickSelectTime","_v","plain","handleExport","name","default-value","filterData","hide-action","update:defaultValue","update:default-value","reset","scopedSlots","_u","key","fn","ref","fields","prop","placeholder","$set","label","_l","product","index","id","sales","directives","rawName","_s","total","_e","tryToFetchListUnit","disabled","dateRangeMode","showMode","unit","pageNum","items","title","length","element-loading-text","data","summary-method","getSummaries","show-summary","showSum","min-width","scope","row","item","deleteYear","date","current-page","currentPage","update:currentPage","update:current-page","staticRenderFns","TabSellByOrdervue_type_script_lang_js_","page","meta","content","components","mixins","pagination","props","merchantProducts","Array","required","startDate","endDate","productId","shortcuts","text","onClick","picker","end","Date","start","$emit","setTime","getTime","activeCellData","tryingFetch","tryingFetchTime","tryingToExport","computed","get","set","_ref","_ref2","Object","slicedToArray","fetchDataParams","routeQuery","$route","query","queryData","assign","pageQuery","_this$filterData","filterDataWithoutDate","objectWithoutProperties","searchWithDate","searchParams","format_date","watch","undefined","time","todayRange","Math","floor","_this","$nextTick","filterData.unit","created","getDefaultDate","methods","concat","getFullYear","getMonth","getDate","_tryToFetchList","asyncToGenerator","regenerator_default","a","mark","_callee","isChangeTime","wrap","_context","prev","next","$store","dispatch","sent","stop","_x","apply","arguments","_tryToFetchListUnit","_callee2","_context2","changeMode","valve","selectData","changeCellClass","column","rowIndex","columnIndex","param","_this2","columns","sums","forEach","values","map","Number","every","isNaN","reduce","curr","year","reg","RegExp","regSpace","replace","_handleExport","_callee3","request","_ref3","fileName","csvData","csvFormatData","blob","url","productTitle","filterFileName","tempLink","_this3","_context3","abrupt","analyticsType","submitData","objectSpread","export","count","join","Blob","window","URL","createObjectURL","find","document","createElement","download","href","revokeObjectURL","_end","_start","analytics_TabSellByOrdervue_type_script_lang_js_","injectStyles","context","TabSellByOrdervue_type_style_index_0_lang_scss_module_true_","locals","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TabSellByOrder_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TabSellByOrder_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","_arrayWithHoles","arr","isArray","_iterableToArrayLimit","i","_arr","_n","_d","_i","Symbol","iterator","done","push","err","_nonIterableRest","TypeError","_slicedToArray","d","module","exports","slide","slide-reverse","bottomInfo"],"mappings":"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","file":"js/chunk-10419ec1.f68b35bf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"btn-top-space-between\",staticStyle:{\"justify-content\":\"space-between\"}},[_c('div',[_c('el-date-picker',{staticStyle:{\"width\":\"405px\"},attrs:{\"type\":\"daterange\",\"align\":\"left\",\"unlink-panels\":\"\",\"range-separator\":\"-\",\"start-placeholder\":\"起始日期\",\"end-placeholder\":\"結束日期\",\"picker-options\":_vm.pickerOptions,\"clearable\":false},on:{\"change\":_vm.tryToFetchList},model:{value:(_vm.filterDateRange),callback:function ($$v) {_vm.filterDateRange=$$v},expression:\"filterDateRange\"}}),_c('el-button',{staticClass:\"is-round\",class:{ 'isActive': _vm.dateNow === 'day' },staticStyle:{\"margin-left\":\"10px\"},on:{\"click\":function($event){return _vm.quickSelectTime('day')}}},[_vm._v(\"\\n        今日\\n      \")]),_c('el-button',{staticClass:\"is-round\",class:{ 'isActive': _vm.dateNow === 'month' },on:{\"click\":function($event){return _vm.quickSelectTime('month')}}},[_vm._v(\"\\n        最近一個月\\n      \")])],1),_c('el-button',{staticClass:\"is-round\",attrs:{\"plain\":\"\"},on:{\"click\":_vm.handleExport}},[_c('BaseIcon',{attrs:{\"name\":\"file-export\"}}),_vm._v(\" 數據匯出\")],1)],1),_c('BaseTableSearch',{staticClass:\"isForTab\",attrs:{\"default-value\":_vm.filterData,\"hide-action\":\"\"},on:{\"update:defaultValue\":function($event){_vm.filterData=$event},\"update:default-value\":function($event){_vm.filterData=$event},\"reset\":_vm.reset,\"handleExport\":_vm.handleExport,\"tryToFetchList\":_vm.tryToFetchList},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar fields = ref.fields;\nreturn [_c('el-form-item',{attrs:{\"prop\":\"status\"}},[_c('el-select',{attrs:{\"placeholder\":\"分店\"},on:{\"change\":_vm.tryToFetchList},model:{value:(fields.productId),callback:function ($$v) {_vm.$set(fields, \"productId\", $$v)},expression:\"fields.productId\"}},[_c('el-option',{attrs:{\"label\":\"全部分店\",\"value\":\"\"}}),_vm._l((_vm.merchantProducts),function(product,index){return _c('el-option',{key:index,attrs:{\"label\":product.name,\"value\":product.id}})})],2)],1)]}}])}),(_vm.sales[0])?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tryingFetch),expression:\"tryingFetch\"}],staticClass:\"infoBox noCursor\"},[_c('div',{staticClass:\"infoBox__item\"},[_c('div',{staticClass:\"infoBox__title\"},[_vm._v(\" 服務 \")]),_c('div',{staticClass:\"infoBox__content\"},[_vm._v(\" $\"+_vm._s(_vm.sales[0].total)+\" \")])]),_c('div',{staticClass:\"infoBox__item\"},[_c('div',{staticClass:\"infoBox__title\"},[_vm._v(\" 加購 \")]),_c('div',{staticClass:\"infoBox__content\"},[_vm._v(\" $\"+_vm._s(_vm.sales[1].total)+\" \")])]),_c('div',{staticClass:\"infoBox__item\"},[_c('div',{staticClass:\"infoBox__title\"},[_vm._v(\" 包月方案 \")]),_c('div',{staticClass:\"infoBox__content\"},[_vm._v(\" $\"+_vm._s(_vm.sales[2].total)+\" \")])]),_c('div',{staticClass:\"infoBox__item\"},[_c('div',{staticClass:\"infoBox__title\"},[_vm._v(\" 銷售總額 \")]),_c('div',{staticClass:\"infoBox__content\"},[_vm._v(\" $\"+_vm._s(_vm.sales[0].total + _vm.sales[1].total + _vm.sales[2].total)+\" \")])])]):_vm._e(),_c('div',{staticClass:\"right-radio\"},[_c('div',{staticClass:\"right-radio\"},[_c('el-radio-group',{on:{\"change\":_vm.tryToFetchListUnit},model:{value:(_vm.filterData.unit),callback:function ($$v) {_vm.$set(_vm.filterData, \"unit\", $$v)},expression:\"filterData.unit\"}},[_c('el-radio-button',{attrs:{\"label\":\"day\",\"disabled\":_vm.dateRangeMode === 'year' || _vm.dateRangeMode === 'month'}},[_vm._v(\"日\")]),_c('el-radio-button',{attrs:{\"label\":\"week\",\"disabled\":_vm.dateRangeMode === 'year' || _vm.dateRangeMode === 'day'}},[_vm._v(\"週\")]),_c('el-radio-button',{attrs:{\"label\":\"month\",\"disabled\":_vm.dateRangeMode === 'week' || _vm.dateRangeMode === 'day'}},[_vm._v(\"月\")]),_c('el-radio-button',{attrs:{\"label\":\"quarter\",\"disabled\":_vm.dateRangeMode !== 'year' && _vm.dateRangeMode !== ''}},[_vm._v(\"季\")]),_c('el-radio-button',{attrs:{\"label\":\"year\",\"disabled\":_vm.dateRangeMode !== 'year' && _vm.dateRangeMode !== ''}},[_vm._v(\"年\")])],1)],1),_c('el-radio-group',{staticStyle:{\"margin-left\":\"30px\"},model:{value:(_vm.showMode),callback:function ($$v) {_vm.showMode=$$v},expression:\"showMode\"}},[_c('el-radio-button',{attrs:{\"label\":\"total\"}},[_vm._v(\"顯示金額\")]),_c('el-radio-button',{attrs:{\"label\":\"orders\"}},[_vm._v(\"顯示數量\")])],1)],1),(_vm.sales[0])?_c('div',[(_vm.filterData.unit !== 'filterSeason' && _vm.filterData.unit !== 'filterYear')?_c('div',{staticClass:\"timeSelect\"},[_c('div',{staticClass:\"timeSelect__arrow\",class:{ disabled: _vm.pageNum === 0 },on:{\"click\":function($event){_vm.pageNum--}}},[_c('BaseIcon',{attrs:{\"name\":\"angle-left\"}})],1),_c('div',{staticClass:\"timeSelect__item isActive\"},[_vm._v(\"\\n        \"+_vm._s(_vm.sales[0].items[_vm.pageNum].title)+\"\\n      \")]),_c('div',{staticClass:\"timeSelect__arrow\",class:{ disabled: _vm.pageNum + 1 >= _vm.sales[0].items.length },on:{\"click\":function($event){_vm.pageNum++}}},[_c('BaseIcon',{attrs:{\"name\":\"angle-right\"}})],1)]):_vm._e()]):_vm._e(),(_vm.sales[0])?_c('div',{staticClass:\"el-table-wrapper\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tryingFetchTime),expression:\"tryingFetchTime\"}],ref:\"table\",attrs:{\"element-loading-text\":\"取得資訊中\",\"data\":_vm.sales,\"summary-method\":_vm.getSummaries,\"show-summary\":_vm.showSum}},[_c('el-table-column',{attrs:{\"label\":\"訂單類型\",\"min-width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.title)+\" \")]}}],null,false,747769917)}),_vm._l((_vm.sales[0].items[_vm.pageNum].items),function(item,index){return _c('el-table-column',{key:index,attrs:{\"prop\":\"item.total\",\"min-width\":\"110\",\"label\":_vm.deleteYear(item.date),\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.showMode === 'total')?_c('span',[_vm._v(\"$\")]):_vm._e(),_vm._v(_vm._s(scope.row.items[_vm.pageNum].items[index][_vm.showMode])+\" \")]}}],null,true)})})],2),_c('BasePagination',{ref:\"pagination\",attrs:{\"current-page\":_vm.currentPage},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport lazyLoadComponent from '@router/lazyload-component'\n\nimport pageMixin from '@src/mixins/pagination'\nimport formatDate, { formatRequestData } from '@utils/format-date'\n// import { sellData } from './fakeData'\n\nexport default {\n  page: {\n    title: '銷售',\n    meta: [{ name: 'description', content: 'Customer Analytics' }],\n  },\n  components: {},\n  mixins: [pageMixin],\n  props: {\n    merchantProducts: {\n      type: Array,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      filterData: {\n        startDate: '',\n        endDate: '',\n        unit: 'week',\n        productId: '',\n        type: 'order',\n      },\n      pickerOptions: {\n        shortcuts: [\n          {\n            text: '今日',\n            onClick(picker) {\n              // console.log(this.$moment)\n              const end = new Date()\n              const start = new Date()\n              // start.setTime(start.getTime() - 3600 * 1000 * 24)\n              picker.$emit('pick', [start, end])\n            },\n          },\n          {\n            text: '過去7日',\n            onClick(picker) {\n              const end = new Date()\n              const start = new Date()\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\n              picker.$emit('pick', [start, end])\n            },\n          },\n          {\n            text: '最近一個月',\n            onClick(picker) {\n              const end = new Date()\n              const start = new Date()\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n              picker.$emit('pick', [start, end])\n            },\n          },\n          {\n            text: '最近一年',\n            onClick(picker) {\n              const end = new Date()\n              const start = new Date()\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 365)\n              picker.$emit('pick', [start, end])\n            },\n          },\n          // {\n          //   text: '最近三個月',\n          //   onClick(picker) {\n          //     const end = new Date()\n          //     const start = new Date()\n          //     start.setTime(start.getTime() - 3600 * 1000 * 24 * 90)\n          //     picker.$emit('pick', [start, end])\n          //   },\n          // },\n        ],\n      },\n      // inComeData,\n      // sellData,\n      // activeFilter: 'filterDay',\n      sales: {},\n      dateRangeMode: 'month',\n      dateNow:'',\n      activeCellData: '',\n      showMode: 'total',\n      pageNum: 0,\n      tryingFetch: false,\n      tryingFetchTime: false,\n      showSum:true,\n      tryingToExport:false\n    }\n  },\n  computed: {\n    filterDateRange: {\n      get() {\n        return [this.filterData.startDate, this.filterData.endDate]\n      },\n      set(value) {\n        const [start, end] = value || ['', '']\n        this.filterData.startDate = start\n        this.filterData.endDate = end\n      },\n    },\n    fetchDataParams() {\n      const routeQuery = this.$route.query\n      const queryData = Object.assign(routeQuery, this.pageQuery)\n      const { startDate, endDate, ...filterDataWithoutDate } = this.filterData\n      const searchWithDate = startDate && endDate\n      const searchParams = searchWithDate\n        ? Object.assign(this.filterData, {\n            startDate: formatRequestData(startDate),\n            endDate: formatRequestData(endDate),\n          })\n        : filterDataWithoutDate\n      return Object.assign(searchParams, queryData)\n    },\n  },\n  watch: {\n    filterDateRange(value) {\n       if (this.filterDateRange[0] === undefined) {\n          this.dateRangeMode = ''\n          return\n        }\n        const time = (new Date(this.filterDateRange[1]).getTime() / 1000 - new Date(this.filterDateRange[0]).getTime() / 1000) / 86400\n        const todayRange = Math.floor(new Date().getTime() / 1000 / 86400) - new Date(this.filterDateRange[0]).getTime() / 1000 / 86400\n        // console.log(time)\n        switch (true) {\n          case time >= 0 && time <= 7:\n            this.dateRangeMode = 'day'\n            this.filterData.unit = 'day'\n            break\n          case time > 7 && time < 30:\n            this.dateRangeMode = 'week'\n            this.filterData.unit = 'day'\n            break\n          case time >= 30 && time < 364:\n            this.dateRangeMode = 'month'\n            this.filterData.unit = 'week'\n            break\n          case time >= 365:\n            this.dateRangeMode = 'year'\n            this.filterData.unit = 'quarter'\n            break\n        }\n        switch (true) {\n          case todayRange === 0:\n            this.dateNow = 'day'\n            break\n          case todayRange === 30:\n            this.dateNow = 'month'\n            break\n          default:\n            this.dateNow = ''\n        }\n    },\n    showMode(){\n      this.showSum=false\n      this.$nextTick(()=>{\n        this.showSum=true\n      })\n    },\n    'filterData.unit': function () {\n      // this.tryToFetchListUnit()\n      this.pageNum = 0\n    },\n  },\n  created() {\n    this.getDefaultDate()\n    this.tryToFetchList()\n    // this.$nextTick(() => {\n    //   this.$refs.pagination.updateTotal(20)\n    // })\n  },\n  methods: {\n    getDefaultDate() {\n      const end = new Date()\n      const start = new Date()\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n      this.filterData.startDate = `${start.getFullYear()}/${start.getMonth() + 1}/${start.getDate()}`\n      this.filterData.endDate = `${end.getFullYear()}/${end.getMonth() + 1}/${end.getDate()}`\n      // console.log(this.filterData.startDate)\n      // console.log(start.getMonth()+1,end.getMonth()+1)\n    },\n    async tryToFetchList(isChangeTime) {\n      // this.tryingFetchDetail = true\n      // if (isChangeTime) {\n       \n      // }\n      this.tryingFetch = true\n      this.tryingFetchTime = true\n      this.sales = await this.$store.dispatch('analytics/fetchSales', this.fetchDataParams)\n\n      // this.sales = items\n      this.tryingFetch = false\n      this.tryingFetchTime = false\n      this.pageNum = 0\n\n      // this.visibleDetail = true\n      // this.tryingFetchDetail = false\n    },\n    async tryToFetchListUnit() {\n      this.tryingFetchTime = true\n      this.sales = await this.$store.dispatch('analytics/fetchSales', this.fetchDataParams)\n      this.tryingFetchTime = false\n      this.pageNum = 0\n    },\n    changeMode(valve) {\n      // console.log(456)\n      this.dateRangeMode = valve\n    },\n    reset() {\n      // this.filterDateRange = []\n      this.getDefaultDate()\n      this.dateRangeMode = 'month'\n      this.filterData.unit = 'week'\n      this.tryToFetchList()\n\n    },\n    selectData(value) {\n      this.activeCellData = value\n      this.changeCellClass()\n    },\n    changeCellClass(row, column, rowIndex, columnIndex) {\n      // console.log(row.column)\n      if (row.column.label === this.activeCellData) {\n        return 'active'\n      } else {\n        return ''\n      }\n    },\n     getSummaries(param) {\n        const { columns, data } = param;\n        const sums = [];\n        // console.log(456)\n        // console.log(columns, data)\n        columns.forEach((column, index) => {\n          if (index === 0) {\n            sums[index] = '訂單加總';\n            return;\n          }\n          // console.log(index)\n          // console.log(data[0].items[this.pageNum].items[index])\n          const values = data.map(item => Number(item.items[this.pageNum].items[index-1][this.showMode]));\n\n          // console.log(values)\n          if (!values.every(value => isNaN(value))) {\n            sums[index] = values.reduce((prev, curr) => {\n              const value = Number(curr);\n              if (!isNaN(value)) {\n                return prev + curr;\n              } else {\n                return prev;\n              }\n            }, 0);\n            sums[index]=this.showMode==='total'?'$'+sums[index]:sums[index];\n          } else {\n            sums[index] = 'N/A';\n          }\n        });\n\n        return sums;\n      },\n    deleteYear(item) {\n      const year = new Date().getFullYear()\n      // console.log(year)\n      if(this.filterData.unit==='quarter' || this.filterData.unit==='month'){\n        return item\n      }else{\n        const reg = new RegExp(`${year}-`, 'g')\n        const regSpace = new RegExp('-', 'g')\n        item = item.replace(reg, '')\n        item = item.replace(regSpace, '/')\n        return item\n      }\n    },\n    async handleExport() {\n      if (this.tryingToExport) return\n      this.tryingToExport = true\n      const request ={\n        analyticsType:'sales',\n        submitData:{\n          ...this.fetchDataParams,\n          export:1,\n          count:this.showMode === 'orders' ? 1 : 0\n\n        }\n      }\n      const { fileName, csvData } = await this.$store.dispatch('analytics/analyticsExport', request)\n      const csvFormatData = csvData.map((row) => Object.values(row).join(',')).join('\\n')\n      const blob = new Blob(['\\uFEFF', csvFormatData], {\n        type: 'text/csv;charset=utf-8;',\n      })\n\n      const url = window.URL.createObjectURL(blob)\n      const date = `${this.filterDateRange[0]} 至 ${this.filterDateRange[1]}`\n      let productTitle=''\n      if(this.fetchDataParams.productId){\n        productTitle = this.merchantProducts.find((item)=>{\n          return item.id === this.fetchDataParams.productId\n        }).name\n        productTitle=` ${productTitle}`\n      }\n      const filterFileName = `${fileName} ( ${date}${productTitle} ).csv`\n      const tempLink = document.createElement('a')\n      tempLink.download = filterFileName\n      tempLink.href = url\n      tempLink.click()\n      window.URL.revokeObjectURL(url)\n      this.tryingToExport = false\n    },\n    quickSelectTime(unit){\n      if(unit==='day'){\n        const end = new Date()\n        const start = new Date()\n        this.filterDateRange=[start,end]\n      }\n      if(unit==='month'){\n        const end = new Date()\n        const start = new Date()\n        start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n        this.filterDateRange=[start,end]\n      }\n      this.tryToFetchList()\n    }\n  },\n}\n</script>\n\n<template>\n  <div>\n    <div class=\"btn-top-space-between\" style=\"justify-content: space-between\">\n      <div>\n       <el-date-picker\n          v-model=\"filterDateRange\"\n          type=\"daterange\"\n          align=\"left\"\n          unlink-panels\n          range-separator=\"-\"\n          start-placeholder=\"起始日期\"\n          end-placeholder=\"結束日期\"\n          :picker-options=\"pickerOptions\"\n          style=\"width:405px\"\n          :clearable=\"false\"\n          @change=\"tryToFetchList\"\n        ></el-date-picker>\n        <el-button class=\"is-round\" style=\"margin-left:10px\" :class=\"{ 'isActive': dateNow === 'day' }\" @click=\"quickSelectTime('day')\">\n          今日\n        </el-button>\n        <el-button class=\"is-round\" :class=\"{ 'isActive': dateNow === 'month' }\" @click=\"quickSelectTime('month')\">\n          最近一個月\n        </el-button>\n      </div>\n    <el-button  class=\"is-round\" plain @click=\"handleExport\"><BaseIcon name=\"file-export\" /> 數據匯出</el-button>\n   \n    </div>\n    <BaseTableSearch v-slot=\"{ fields }\" class=\"isForTab\" :default-value.sync=\"filterData\" hide-action @reset=\"reset\" @handleExport=\"handleExport\" @tryToFetchList=\"tryToFetchList\">\n      <el-form-item prop=\"status\">\n        <el-select v-model=\"fields.productId\" placeholder=\"分店\" @change=\"tryToFetchList\">\n          <el-option label=\"全部分店\" value></el-option>\n          <el-option v-for=\"(product, index) in merchantProducts\" :key=\"index\" :label=\"product.name\" :value=\"product.id\"></el-option>\n        </el-select>\n      </el-form-item>\n\n    </BaseTableSearch>\n    <div v-if=\"sales[0]\" v-loading=\"tryingFetch\" class=\"infoBox noCursor\">\n      <div class=\"infoBox__item\">\n        <div class=\"infoBox__title\"> 服務 </div>\n        <div class=\"infoBox__content\"> ${{ sales[0].total }} </div>\n      </div>\n      <div class=\"infoBox__item\">\n        <div class=\"infoBox__title\"> 加購 </div>\n        <div class=\"infoBox__content\"> ${{ sales[1].total }} </div>\n      </div>\n      <div class=\"infoBox__item\">\n        <div class=\"infoBox__title\"> 包月方案 </div>\n        <div class=\"infoBox__content\"> ${{ sales[2].total }} </div>\n      </div>\n      <div class=\"infoBox__item\">\n        <div class=\"infoBox__title\"> 銷售總額 </div>\n        <div class=\"infoBox__content\"> ${{ sales[0].total + sales[1].total + sales[2].total }} </div>\n      </div>\n    </div>\n    <div class=\"right-radio\">\n      <div class=\"right-radio\">\n        <el-radio-group v-model=\"filterData.unit\" @change=\"tryToFetchListUnit\">\n          <el-radio-button label=\"day\" :disabled=\"dateRangeMode === 'year' || dateRangeMode === 'month'\">日</el-radio-button>\n          <el-radio-button label=\"week\" :disabled=\"dateRangeMode === 'year' || dateRangeMode === 'day'\">週</el-radio-button>\n          <el-radio-button label=\"month\" :disabled=\"dateRangeMode === 'week' || dateRangeMode === 'day'\">月</el-radio-button>\n\n          <el-radio-button label=\"quarter\" :disabled=\"dateRangeMode !== 'year' && dateRangeMode !== ''\">季</el-radio-button>\n          <el-radio-button label=\"year\" :disabled=\"dateRangeMode !== 'year' && dateRangeMode !== ''\">年</el-radio-button>\n        </el-radio-group>\n      </div>\n\n      <el-radio-group v-model=\"showMode\" style=\"margin-left: 30px\">\n        <el-radio-button label=\"total\">顯示金額</el-radio-button>\n        <el-radio-button label=\"orders\">顯示數量</el-radio-button>\n      </el-radio-group>\n    </div>\n    <div v-if=\"sales[0]\">\n      <div v-if=\"filterData.unit !== 'filterSeason' && filterData.unit !== 'filterYear'\" class=\"timeSelect\">\n        <div class=\"timeSelect__arrow\" :class=\"{ disabled: pageNum === 0 }\" @click=\"pageNum--\">\n          <BaseIcon name=\"angle-left\" />\n        </div>\n        <div class=\"timeSelect__item isActive\">\n          {{ sales[0].items[pageNum].title }}\n        </div>\n        <div class=\"timeSelect__arrow\" :class=\"{ disabled: pageNum + 1 >= sales[0].items.length }\" @click=\"pageNum++\">\n          <BaseIcon name=\"angle-right\" />\n        </div>\n      </div>\n    </div>\n    <div v-if=\"sales[0]\" class=\"el-table-wrapper\">\n      <el-table ref=\"table\" v-loading=\"tryingFetchTime\" element-loading-text=\"取得資訊中\" :data=\"sales\" :summary-method=\"getSummaries\" :show-summary=\"showSum\">\n        <el-table-column label=\"訂單類型\" min-width=\"80\">\n          <template slot-scope=\"scope\"> {{ scope.row.title }} </template>\n        </el-table-column>\n        <el-table-column v-for=\"(item, index) in sales[0].items[pageNum].items\" :key=\"index\" prop=\"item.total\" min-width=\"110\" :label=\"deleteYear(item.date)\" align=\"right\">\n          <template slot-scope=\"scope\"><span v-if=\"showMode === 'total'\">$</span>{{ scope.row.items[pageNum].items[index][showMode] }} </template>\n        </el-table-column>\n      </el-table>\n      <BasePagination ref=\"pagination\" :current-page.sync=\"currentPage\" />\n    </div>\n  </div>\n</template>\n<style lang=\"scss\" module>\n.bottomInfo {\n  text-align: center;\n  padding: 30px 0;\n  :global {\n    .bottomInfo {\n      &__item {\n        padding: 0 10px;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabSellByOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabSellByOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabSellByOrder.vue?vue&type=template&id=86192f8c&\"\nimport script from \"./TabSellByOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./TabSellByOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TabSellByOrder.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabSellByOrder.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabSellByOrder.vue?vue&type=style&index=0&lang=scss&module=true&\"","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"TabSellByOrder_slide_2mNoI\",\"slide-reverse\":\"TabSellByOrder_slide-reverse_30yOT\",\"bottomInfo\":\"TabSellByOrder_bottomInfo_2N7oH\"};"],"sourceRoot":""}