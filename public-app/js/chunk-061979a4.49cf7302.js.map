{"version":3,"sources":["webpack:///./src/router/views/analytics/TabSellByPrepaid.vue?5b77","webpack:///./src/router/views/analytics/TabSellByPrepaid.vue?0a7f","webpack:///./src/router/views/analytics/TabSellByPrepaid.vue?f4ad","webpack:///src/router/views/analytics/TabSellByPrepaid.vue","webpack:///./src/router/views/analytics/TabSellByPrepaid.vue?11a3","webpack:///./src/router/views/analytics/TabSellByPrepaid.vue?a4ec","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/arrayWithHoles.js","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/iterableToArrayLimit.js","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/nonIterableRest.js","webpack:///./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/slicedToArray.js"],"names":["module","exports","slide","slide-reverse","bottomInfo","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TabSellByPrepaid_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TabSellByPrepaid_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","justify-content","width","attrs","type","align","unlink-panels","range-separator","start-placeholder","end-placeholder","picker-options","pickerOptions","clearable","on","change","tryToFetchList","model","value","callback","$$v","filterDateRange","expression","class","isActive","dateNow","margin-left","click","$event","quickSelectTime","_v","plain","handleExport","name","default-value","filterData","hide-action","update:defaultValue","update:default-value","reset","scopedSlots","_u","key","fn","ref","fields","prop","placeholder","$set","label","_l","product","index","id","padding-top","tryToFetchListUnit","disabled","dateRangeMode","showMode","sales","activeDate","unit","dateGroup","changeGroup","_s","length","_e","directives","rawName","element-loading-text","data","summary-method","getSummaries","show-summary","showSum","min-width","scope","row","title","item","deleteYear","date","items","current-page","currentPage","update:currentPage","update:current-page","staticRenderFns","TabSellByPrepaidvue_type_script_lang_js_","page","meta","content","components","mixins","pagination","props","merchantProducts","Array","required","startDate","endDate","productId","petCategoryId","petSizeId","categoryList","shortcuts","text","onClick","picker","end","Date","start","$emit","setTime","getTime","activeDateIndex","activeCellData","pageNum","tryingFetch","tryingFetchTime","tryingToExport","computed","activeSizeList","_this","find","get","set","_ref","_ref2","Object","slicedToArray","fetchDataParams","routeQuery","$route","query","queryData","assign","pageQuery","_this$filterData","filterDataWithoutDate","objectWithoutProperties","searchWithDate","searchParams","format_date","watch","undefined","time","todayRange","Math","floor","_this2","$nextTick","filterData.unit","created","getDefaultDate","tryToFetchCategory","methods","concat","getFullYear","getMonth","getDate","_tryToFetchCategory","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$store","dispatch","sent","stop","apply","arguments","_tryToFetchList","_callee2","isChangeTime","_context2","keys","_x","_tryToFetchListUnit","_callee3","_context3","changeMode","valve","selectData","changeCellClass","year","reg","RegExp","regSpace","replace","isPlus","param","_this3","columns","sums","forEach","column","values","map","Number","every","isNaN","reduce","curr","_handleExport","_callee4","request","_ref3","fileName","csvData","csvFormatData","blob","url","productTitle","filterFileName","tempLink","_this4","_context4","abrupt","analyticsType","submitData","objectSpread","export","count","join","Blob","window","URL","createObjectURL","document","createElement","download","href","revokeObjectURL","_end","_start","analytics_TabSellByPrepaidvue_type_script_lang_js_","injectStyles","context","TabSellByPrepaidvue_type_style_index_0_lang_scss_module_true_","locals","component","componentNormalizer","_arrayWithHoles","arr","isArray","_iterableToArrayLimit","i","_arr","_n","_d","_i","Symbol","iterator","done","push","err","_nonIterableRest","TypeError","_slicedToArray","d"],"mappings":"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","file":"js/chunk-061979a4.49cf7302.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"TabSellByPrepaid_slide_3MfsB\",\"slide-reverse\":\"TabSellByPrepaid_slide-reverse_2XD0w\",\"bottomInfo\":\"TabSellByPrepaid_bottomInfo_39iXm\"};","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabSellByPrepaid.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabSellByPrepaid.vue?vue&type=style&index=0&lang=scss&module=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"btn-top-space-between\",staticStyle:{\"justify-content\":\"space-between\"}},[_c('div',[_c('el-date-picker',{staticStyle:{\"width\":\"405px\"},attrs:{\"type\":\"daterange\",\"align\":\"left\",\"unlink-panels\":\"\",\"range-separator\":\"-\",\"start-placeholder\":\"起始日期\",\"end-placeholder\":\"結束日期\",\"picker-options\":_vm.pickerOptions,\"clearable\":false},on:{\"change\":_vm.tryToFetchList},model:{value:(_vm.filterDateRange),callback:function ($$v) {_vm.filterDateRange=$$v},expression:\"filterDateRange\"}}),_c('el-button',{staticClass:\"is-round\",class:{ 'isActive': _vm.dateNow === 'day' },staticStyle:{\"margin-left\":\"10px\"},on:{\"click\":function($event){return _vm.quickSelectTime('day')}}},[_vm._v(\"\\n        今日\\n      \")]),_c('el-button',{staticClass:\"is-round\",class:{ 'isActive': _vm.dateNow === 'month' },on:{\"click\":function($event){return _vm.quickSelectTime('month')}}},[_vm._v(\"\\n        最近一個月\\n      \")])],1),_c('el-button',{staticClass:\"is-round\",attrs:{\"plain\":\"\"},on:{\"click\":_vm.handleExport}},[_c('BaseIcon',{attrs:{\"name\":\"file-export\"}}),_vm._v(\" 數據匯出\")],1)],1),_c('BaseTableSearch',{staticClass:\"isForTab\",attrs:{\"default-value\":_vm.filterData,\"hide-action\":\"\"},on:{\"update:defaultValue\":function($event){_vm.filterData=$event},\"update:default-value\":function($event){_vm.filterData=$event},\"reset\":_vm.reset,\"handleExport\":_vm.handleExport,\"tryToFetchList\":_vm.tryToFetchList},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar fields = ref.fields;\nreturn [_c('el-form-item',{attrs:{\"prop\":\"status\"}},[_c('el-select',{attrs:{\"placeholder\":\"分店\"},on:{\"change\":_vm.tryToFetchList},model:{value:(fields.productId),callback:function ($$v) {_vm.$set(fields, \"productId\", $$v)},expression:\"fields.productId\"}},[_c('el-option',{attrs:{\"label\":\"全部分店\",\"value\":\"\"}}),_vm._l((_vm.merchantProducts),function(product,index){return _c('el-option',{key:index,attrs:{\"label\":product.name,\"value\":product.id}})})],2)],1)]}}])}),_c('div',{staticClass:\"right-radio\",staticStyle:{\"padding-top\":\"30px\"}},[_c('div',{staticClass:\"right-radio\"},[_c('el-radio-group',{on:{\"change\":_vm.tryToFetchListUnit},model:{value:(_vm.filterData.unit),callback:function ($$v) {_vm.$set(_vm.filterData, \"unit\", $$v)},expression:\"filterData.unit\"}},[_c('el-radio-button',{attrs:{\"label\":\"day\",\"disabled\":_vm.dateRangeMode === 'year' || _vm.dateRangeMode === 'month'}},[_vm._v(\"日\")]),_c('el-radio-button',{attrs:{\"label\":\"week\",\"disabled\":_vm.dateRangeMode === 'year' || _vm.dateRangeMode === 'day'}},[_vm._v(\"週\")]),_c('el-radio-button',{attrs:{\"label\":\"month\",\"disabled\":_vm.dateRangeMode === 'week' || _vm.dateRangeMode === 'day'}},[_vm._v(\"月\")]),_c('el-radio-button',{attrs:{\"label\":\"quarter\",\"disabled\":_vm.dateRangeMode !== 'year' && _vm.dateRangeMode !== ''}},[_vm._v(\"季\")]),_c('el-radio-button',{attrs:{\"label\":\"year\",\"disabled\":_vm.dateRangeMode !== 'year' && _vm.dateRangeMode !== ''}},[_vm._v(\"年\")])],1)],1),_c('el-radio-group',{staticStyle:{\"margin-left\":\"30px\"},model:{value:(_vm.showMode),callback:function ($$v) {_vm.showMode=$$v},expression:\"showMode\"}},[_c('el-radio-button',{attrs:{\"label\":\"total\"}},[_vm._v(\"顯示金額\")]),_c('el-radio-button',{attrs:{\"label\":\"orders\"}},[_vm._v(\"顯示數量\")])],1)],1),(_vm.sales[_vm.activeDate])?_c('div',[(_vm.filterData.unit !== 'filterSeason' && _vm.filterData.unit !== 'filterYear')?_c('div',{staticClass:\"timeSelect\"},[_c('div',{staticClass:\"timeSelect__arrow\",class:{ disabled: _vm.activeDate === _vm.dateGroup[0] },on:{\"click\":function($event){return _vm.changeGroup(false)}}},[_c('BaseIcon',{attrs:{\"name\":\"angle-left\"}})],1),_c('div',{staticClass:\"timeSelect__item isActive\"},[_vm._v(\"\\n        \"+_vm._s(_vm.activeDate)+\"\\n      \")]),_c('div',{staticClass:\"timeSelect__arrow\",class:{ disabled: _vm.activeDate === _vm.dateGroup[_vm.dateGroup.length - 1] },on:{\"click\":function($event){return _vm.changeGroup(true)}}},[_c('BaseIcon',{attrs:{\"name\":\"angle-right\"}})],1)]):_vm._e()]):_vm._e(),(_vm.sales[_vm.activeDate])?_c('div',[(_vm.sales[_vm.activeDate].length > 0)?_c('div',{staticClass:\"el-table-wrapper\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tryingFetchTime),expression:\"tryingFetchTime\"}],attrs:{\"element-loading-text\":\"取得資訊中\",\"data\":_vm.sales[_vm.activeDate],\"summary-method\":_vm.getSummaries,\"show-summary\":_vm.showSum}},[_c('el-table-column',{attrs:{\"label\":\"方案名稱\",\"min-width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.title)+\" \\n            \")]}}],null,false,1756198031)}),_vm._l((_vm.sales[_vm.activeDate][0].items),function(item,index){return _c('el-table-column',{key:index,attrs:{\"label\":_vm.deleteYear(item.date),\"min-width\":\"110\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.showMode === 'total')?_c('span',[_vm._v(\"$\")]):_vm._e(),_vm._v(_vm._s(scope.row.items[index][_vm.showMode])+\" \")]}}],null,true)})})],2),_c('BasePagination',{ref:\"pagination\",attrs:{\"current-page\":_vm.currentPage},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1):_c('div',[_c('el-alert',{staticClass:\"flex-center\",attrs:{\"title\":\"所選擇的條件與時間內沒有相關數據\",\"type\":\"warning\"}})],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  \n     \n<script>\nimport lazyLoadComponent from '@router/lazyload-component'\n\nimport pageMixin from '@src/mixins/pagination'\nimport formatDate, { formatRequestData } from '@utils/format-date'\n// import { sellData } from './fakeData'\n\nexport default {\n  page: {\n    title: '銷售',\n    meta: [{ name: 'description', content: 'Customer Analytics' }],\n  },\n  components: {},\n  mixins: [pageMixin],\n  props: {\n    merchantProducts: {\n      type: Array,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      filterData: {\n        startDate: '',\n        endDate: '',\n        unit: 'week',\n        productId: '',\n        type: 'prepaid',\n        petCategoryId: '',\n        petSizeId: '',\n      },\n      categoryList:[],\n      pickerOptions: {\n        shortcuts: [\n          {\n            text: '今日',\n            onClick(picker) {\n              // console.log(this.$moment)\n              const end = new Date()\n              const start = new Date()\n              // start.setTime(start.getTime() - 3600 * 1000 * 24)\n              picker.$emit('pick', [start, end])\n            },\n          },\n          {\n            text: '過去7日',\n            onClick(picker) {\n              const end = new Date()\n              const start = new Date()\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\n              picker.$emit('pick', [start, end])\n            },\n          },\n          {\n            text: '最近一個月',\n            onClick(picker) {\n              const end = new Date()\n              const start = new Date()\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n              picker.$emit('pick', [start, end])\n            },\n          },\n          {\n            text: '最近一年',\n            onClick(picker) {\n              const end = new Date()\n              const start = new Date()\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 365)\n              picker.$emit('pick', [start, end])\n            },\n          },\n          // {\n          //   text: '最近三個月',\n          //   onClick(picker) {\n          //     const end = new Date()\n          //     const start = new Date()\n          //     start.setTime(start.getTime() - 3600 * 1000 * 24 * 90)\n          //     picker.$emit('pick', [start, end])\n          //   },\n          // },\n        ],\n      },\n      // inComeData,\n      // sellData,\n      // activeFilter: 'filterDay',\n      sales: {},\n      dateGroup: [],\n      activeDate: '',\n      activeDateIndex:0,\n      dateRangeMode: 'month',\n      dateNow:'',\n      activeCellData: '',\n      showMode: 'total',\n      pageNum: 0,\n      tryingFetch: false,\n      tryingFetchTime: false,\n      showSum:true,\n      tryingToExport:false\n    }\n  },\n  computed: {\n    activeSizeList(){\n      return this.categoryList.find((item)=>{\n        return item.id===this.filterData.petCategoryId\n      })\n    },\n    filterDateRange: {\n      get() {\n        return [this.filterData.startDate, this.filterData.endDate]\n      },\n      set(value) {\n        const [start, end] = value || ['', '']\n        this.filterData.startDate = start\n        this.filterData.endDate = end\n      },\n    },\n    fetchDataParams() {\n      const routeQuery = this.$route.query\n      const queryData = Object.assign(routeQuery, this.pageQuery)\n      const { startDate, endDate, ...filterDataWithoutDate } = this.filterData\n      const searchWithDate = startDate && endDate\n      const searchParams = searchWithDate\n        ? Object.assign(this.filterData, {\n            startDate: formatRequestData(startDate),\n            endDate: formatRequestData(endDate),\n          })\n        : filterDataWithoutDate\n      return Object.assign(searchParams, queryData)\n    },\n  },\n  watch: {\n    filterDateRange(value) {\n       if (this.filterDateRange[0] === undefined) {\n          this.dateRangeMode = ''\n          return\n        }\n        const time = (new Date(this.filterDateRange[1]).getTime() / 1000 - new Date(this.filterDateRange[0]).getTime() / 1000) / 86400\n        // console.log(Math.floor(new Date().getTime() / 1000 / 86400),new Date(this.filterDateRange[0]).getTime() / 1000 / 86400)\n        const todayRange = Math.floor(new Date().getTime() / 1000 / 86400) - new Date(this.filterDateRange[0]).getTime() / 1000 / 86400\n        // console.log(time)\n        switch (true) {\n          case time >= 0 && time <= 7:\n            this.dateRangeMode = 'day'\n            this.filterData.unit = 'day'\n            break\n          case time > 7 && time < 30:\n            this.dateRangeMode = 'week'\n            this.filterData.unit = 'day'\n            break\n          case time >= 30 && time < 364:\n            this.dateRangeMode = 'month'\n            this.filterData.unit = 'week'\n            break\n          case time >= 365:\n            this.dateRangeMode = 'year'\n            this.filterData.unit = 'quarter'\n            break\n        }\n        switch (true) {\n          case todayRange === 0:\n            this.dateNow = 'day'\n            break\n          case todayRange === 30:\n            this.dateNow = 'month'\n            break\n          default:\n            this.dateNow = ''\n        }\n    },\n    showMode(){\n      this.showSum=false\n      this.$nextTick(()=>{\n        this.showSum=true\n      })\n    },\n    'filterData.unit': function () {\n      // this.tryToFetchListUnit()\n      this.activeDateIndex=0\n      this.activeDate = this.dateGroup[this.activeDateIndex]\n    },\n  },\n  created() {\n    this.getDefaultDate()\n    this.tryToFetchList()\n    this.tryToFetchCategory()\n    // this.$nextTick(() => {\n    //   this.$refs.pagination.updateTotal(20)\n    // })\n  },\n  methods: {\n    getDefaultDate() {\n      const end = new Date()\n      const start = new Date()\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n      this.filterData.startDate = `${start.getFullYear()}/${start.getMonth() + 1}/${start.getDate()}`\n      this.filterData.endDate = `${end.getFullYear()}/${end.getMonth() + 1}/${end.getDate()}`\n      // console.log(this.filterData.startDate)\n      // console.log(start.getMonth()+1,end.getMonth()+1)\n    },\n    async tryToFetchCategory() {\n      this.categoryList = await this.$store.dispatch('product/fetchServiceCategory')\n    },\n    async tryToFetchList(isChangeTime) {\n      // this.tryingFetchDetail = true\n      // if (isChangeTime) {\n       \n      // }\n      this.tryingFetch = true\n      this.tryingFetchTime = true\n      this.sales = await this.$store.dispatch('analytics/fetchSales', this.fetchDataParams)\n      this.dateGroup = Object.keys(this.sales)\n      this.activeDateIndex=0\n      this.activeDate = this.dateGroup[this.activeDateIndex]\n\n      // this.sales = items\n      this.tryingFetch = false\n      this.tryingFetchTime = false\n      \n      // this.pageNum = 0\n      // this.visibleDetail = true\n      // this.tryingFetchDetail = false\n    },\n    async tryToFetchListUnit() {\n      this.tryingFetchTime = true\n      this.sales = await this.$store.dispatch('analytics/fetchSales', this.fetchDataParams)\n      this.tryingFetchTime = false\n      this.dateGroup = Object.keys(this.sales)\n      this.activeDateIndex=0\n      this.activeDate = this.dateGroup[this.activeDateIndex]\n      // this.pageNum = 0\n    },\n    changeMode(valve) {\n      // console.log(456)\n      this.dateRangeMode = valve\n    },\n    reset() {\n      // this.filterDateRange = []\n      this.getDefaultDate()\n      this.dateRangeMode = 'month'\n      this.filterData.unit = 'week'\n      this.tryToFetchList()\n    },\n    selectData(value) {\n      this.activeCellData = value\n      this.changeCellClass()\n    },\n    deleteYear(item) {\n      const year = new Date().getFullYear()\n      // console.log(year)\n      if(this.filterData.unit==='quarter' || this.filterData.unit==='month'){\n        return item\n      }else{\n        const reg = new RegExp(`${year}-`, 'g')\n        const regSpace = new RegExp('-', 'g')\n        item = item.replace(reg, '')\n        item = item.replace(regSpace, '/')\n        return item\n      }\n    },\n    changeGroup(isPlus){\n      if(isPlus){\n        this.activeDateIndex++\n        this.activeDate=this.dateGroup[this.activeDateIndex]\n      }else{\n        this.activeDateIndex--\n        this.activeDate=this.dateGroup[this.activeDateIndex]\n      }\n    },\n    getSummaries(param) {\n        const { columns, data } = param;\n        const sums = [];\n        // console.log(columns, data)\n        columns.forEach((column, index) => {\n          if (index === 0) {\n            sums[index] = '加總';\n            return;\n          }\n          // if (index === 1) {\n          //   sums[index] = '全部分店';\n          //   return;\n          // }\n          // console.log(index)\n          // console.log(data)\n          // console.log(data[0].items[0])\n          // console.log(columns,index)\n          const values = data.map(item => Number(item.items[index-1][this.showMode]));\n\n          // console.log(values)\n          if (!values.every(value => isNaN(value))) {\n            sums[index] = values.reduce((prev, curr) => {\n              const value = Number(curr);\n              if (!isNaN(value)) {\n                return prev + curr;\n              } else {\n                return prev;\n              }\n            }, 0);\n            sums[index]=this.showMode==='total'?'$'+sums[index]:sums[index];\n          } else {\n            sums[index] = 'N/A';\n          }\n        });\n\n        return sums;\n      },\n      async handleExport() {\n      if (this.tryingToExport) return\n      this.tryingToExport = true\n      const request ={\n        analyticsType:'sales',\n        submitData:{\n          ...this.fetchDataParams,\n          export:1,\n          count:this.showMode === 'orders' ? 1 : 0\n\n        }\n      }\n      const { fileName, csvData } = await this.$store.dispatch('analytics/analyticsExport', request)\n      const csvFormatData = csvData.map((row) => Object.values(row).join(',')).join('\\n')\n      const blob = new Blob(['\\uFEFF', csvFormatData], {\n        type: 'text/csv;charset=utf-8;',\n      })\n\n      const url = window.URL.createObjectURL(blob)\n      const date = `${this.filterDateRange[0]} 至 ${this.filterDateRange[1]}`\n      let productTitle=''\n      if(this.fetchDataParams.productId){\n        productTitle = this.merchantProducts.find((item)=>{\n          return item.id === this.fetchDataParams.productId\n        }).name\n        productTitle=` ${productTitle}`\n      }\n      const filterFileName = `${fileName} ( ${date}${productTitle} ).csv`\n      const tempLink = document.createElement('a')\n      tempLink.download = filterFileName\n      tempLink.href = url\n      tempLink.click()\n      window.URL.revokeObjectURL(url)\n      this.tryingToExport = false\n    },\n    quickSelectTime(unit){\n      if(unit==='day'){\n        const end = new Date()\n        const start = new Date()\n        this.filterDateRange=[start,end]\n      }\n      if(unit==='month'){\n        const end = new Date()\n        const start = new Date()\n        start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n        this.filterDateRange=[start,end]\n      }\n      this.tryToFetchList()\n    }\n  },\n}\n</script>\n\n<template>\n  <div>\n    <div class=\"btn-top-space-between\" style=\"justify-content: space-between\">\n      <div>\n       <el-date-picker\n          v-model=\"filterDateRange\"\n          type=\"daterange\"\n          align=\"left\"\n          unlink-panels\n          range-separator=\"-\"\n          start-placeholder=\"起始日期\"\n          end-placeholder=\"結束日期\"\n          :picker-options=\"pickerOptions\"\n          style=\"width:405px\"\n          :clearable=\"false\"\n          @change=\"tryToFetchList\"\n        ></el-date-picker>\n        <el-button class=\"is-round\" style=\"margin-left:10px\" :class=\"{ 'isActive': dateNow === 'day' }\" @click=\"quickSelectTime('day')\">\n          今日\n        </el-button>\n        <el-button class=\"is-round\" :class=\"{ 'isActive': dateNow === 'month' }\" @click=\"quickSelectTime('month')\">\n          最近一個月\n        </el-button>\n      </div>\n      <el-button  class=\"is-round\" plain @click=\"handleExport\"><BaseIcon name=\"file-export\" /> 數據匯出</el-button>\n    </div>\n    <BaseTableSearch v-slot=\"{ fields }\" :default-value.sync=\"filterData\" class=\"isForTab\" hide-action @reset=\"reset\" @handleExport=\"handleExport\" @tryToFetchList=\"tryToFetchList\">\n      <el-form-item prop=\"status\">\n        <el-select v-model=\"fields.productId\" placeholder=\"分店\" @change=\"tryToFetchList\">\n          <el-option label=\"全部分店\" value></el-option>\n          <el-option v-for=\"(product, index) in merchantProducts\" :key=\"index\" :label=\"product.name\" :value=\"product.id\"></el-option>\n        </el-select>\n      </el-form-item>\n  \n      <!-- <el-form-item >\n        <el-select v-model=\"fields.petCategoryId\" placeholder=\"寵物類別\">\n          <el-option v-for=\"item in categoryList\" :key=\"item.id\" :label=\"item.title\" :value=\"item.id\"></el-option>\n   \n        </el-select>\n      </el-form-item>\n      <el-form-item v-if=\"activeSizeList\">\n        <el-select v-model=\"filterData.petSizeId\" placeholder=\"寵物體型\" @change=\"tryToFetchList(false)\">\n          <el-option v-for=\"item in activeSizeList.children\"  :key=\"item.id\" :label=\"item.categoryTitle\" :value=\"item.id\"></el-option>\n        </el-select>\n      </el-form-item> -->\n\n    </BaseTableSearch>\n\n    <div class=\"right-radio\" style=\"padding-top:30px\">\n      <div class=\"right-radio\">\n        <el-radio-group v-model=\"filterData.unit\" @change=\"tryToFetchListUnit\">\n          <el-radio-button label=\"day\" :disabled=\"dateRangeMode === 'year' || dateRangeMode === 'month'\">日</el-radio-button>\n          <el-radio-button label=\"week\" :disabled=\"dateRangeMode === 'year' || dateRangeMode === 'day'\">週</el-radio-button>\n          <el-radio-button label=\"month\" :disabled=\"dateRangeMode === 'week' || dateRangeMode === 'day'\">月</el-radio-button>\n\n          <el-radio-button label=\"quarter\" :disabled=\"dateRangeMode !== 'year' && dateRangeMode !== ''\">季</el-radio-button>\n          <el-radio-button label=\"year\" :disabled=\"dateRangeMode !== 'year' && dateRangeMode !== ''\">年</el-radio-button>\n        </el-radio-group>\n      </div>\n\n      <el-radio-group v-model=\"showMode\" style=\"margin-left: 30px\">\n        <el-radio-button label=\"total\">顯示金額</el-radio-button>\n        <el-radio-button label=\"orders\">顯示數量</el-radio-button>\n      </el-radio-group>\n    </div>\n    <div v-if=\"sales[activeDate]\">\n      <div v-if=\"filterData.unit !== 'filterSeason' && filterData.unit !== 'filterYear'\" class=\"timeSelect\">\n        <div class=\"timeSelect__arrow\" :class=\"{ disabled: activeDate === dateGroup[0] }\" @click=\"changeGroup(false)\">\n          <BaseIcon name=\"angle-left\" />\n        </div>\n        <div class=\"timeSelect__item isActive\">\n          {{ activeDate }}\n        </div>\n        <div class=\"timeSelect__arrow\" :class=\"{ disabled: activeDate === dateGroup[dateGroup.length - 1] }\" @click=\"changeGroup(true)\">\n          <BaseIcon name=\"angle-right\" />\n        </div>\n      </div>\n    </div>\n    <div v-if=\"sales[activeDate]\">\n      <div v-if=\"sales[activeDate].length > 0\" class=\"el-table-wrapper\">\n        <el-table v-loading=\"tryingFetchTime\" element-loading-text=\"取得資訊中\" :data=\"sales[activeDate]\" :summary-method=\"getSummaries\" :show-summary=\"showSum\">\n          <el-table-column label=\"方案名稱\" min-width=\"200\">\n            <template slot-scope=\"scope\"> {{ scope.row.title }} \n              <!-- <br>{{scope.row.petCategory}}{{scope.row.petSizeId}} -->\n            </template>\n          </el-table-column>\n          <!-- <el-table-column label=\"分店\" width=\"100\">\n            <template slot-scope=\"scope\"> {{ scope.row.store }} </template>\n          </el-table-column> -->\n          <el-table-column v-for=\"(item, index) in sales[activeDate][0].items\" :key=\"index\" :label=\"deleteYear(item.date)\" min-width=\"110\" align=\"right\">\n            <template slot-scope=\"scope\"><span v-if=\"showMode === 'total'\">$</span>{{ scope.row.items[index][showMode] }} </template>\n          </el-table-column>\n        </el-table>\n        <BasePagination ref=\"pagination\" :current-page.sync=\"currentPage\" />\n      </div>\n      <div v-else>  <el-alert class=\"flex-center\"\n    title=\"所選擇的條件與時間內沒有相關數據\"\n    type=\"warning\">\n  </el-alert></div>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\" module>\n.bottomInfo {\n  text-align: center;\n  padding: 30px 0;\n  :global {\n    .bottomInfo {\n      &__item {\n        padding: 0 10px;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabSellByPrepaid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabSellByPrepaid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabSellByPrepaid.vue?vue&type=template&id=856bb80a&\"\nimport script from \"./TabSellByPrepaid.vue?vue&type=script&lang=js&\"\nexport * from \"./TabSellByPrepaid.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TabSellByPrepaid.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}"],"sourceRoot":""}