{"version":3,"sources":["webpack:///./src/router/views/settings/index.vue?3491","webpack:///src/router/views/settings/index.vue","webpack:///./src/router/views/settings/index.vue?2222","webpack:///./src/router/views/settings/index.vue?18c0","webpack:///./src/router/views/settings/index.vue?61c3","webpack:///./src/router/views/settings/index.vue?fd94"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","$style","page","attrs","stretch","type","model","value","callback","$$v","activeTab","expression","_l","tab","index","directives","name","rawName","arg","key","label","alias","setting-guide-title","setting-guide-intro","description","lazy","component","tag","on","update","tryToFetchMerchant","_e","staticRenderFns","settingsvue_type_script_lang_js_","title","meta","content","components","Layout","main","data","tabList","actionName","Object","lazyload_component","__webpack_require__","e","then","bind","Promise","all","computed","permittedTabList","_this","filter","_ref","$can","created","changeActiveTabFromRouter","handleChangeCard","methods","_tryToFetchMerchant","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$store","dispatch","stop","apply","arguments","undefined","$route","params","sessionStorage","getItem","routeFrom","$alert","confirmButtonText","center","removeItem","views_settingsvue_type_script_lang_js_","injectStyles","context","settingsvue_type_style_index_0_lang_scss_module_true_","locals","settings_component","componentNormalizer","__webpack_exports__","module","exports","slide","slide-reverse","card-wrapper","footer","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-7f641dcd.65fac1e5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',[_c('div',{class:_vm.$style.page},[_c('el-tabs',{attrs:{\"stretch\":\"\",\"type\":\"border-card\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},_vm._l((_vm.permittedTabList),function(tab,index){return _c('el-tab-pane',{directives:[{name:\"can\",rawName:\"v-can:api\",value:(tab.actionName),expression:\"tab.actionName\",arg:\"api\"}],key:index,attrs:{\"label\":tab.label,\"name\":tab.alias,\"setting-guide-title\":tab.label,\"setting-guide-intro\":tab.description,\"lazy\":\"\"}},[(tab.alias === _vm.activeTab)?_c(tab.component,{tag:\"component\",on:{\"update\":_vm.tryToFetchMerchant}}):_vm._e()],1)}),1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport lazyLoadComponent from '@router/lazyload-component'\nimport Layout from '@layouts/main'\n\nexport default {\n  page: {\n    title: '商店設定',\n    meta: [{ name: 'description', content: 'Settings' }],\n  },\n\n  components: {\n    Layout,\n  },\n  data() {\n    return {\n      activeTab: 'info',\n      tabList: [\n        {\n          label: '商店資訊',\n          description:\n            '設定商店名稱、簡介、Logo 圖等資訊，同步更新您專屬訂購頁面。',\n          alias: 'info',\n          actionName: 'getInfo',\n          component: () => lazyLoadComponent(import('./TabInfo')),\n        },\n        {\n          label: '方案訂閱',\n          description: '查看您目前訂閱的方案。',\n          alias: 'subscription',\n          actionName: 'subscription',\n          component: () => lazyLoadComponent(import('./TabSubscription')),\n        },\n        {\n          label: '訂閱付費紀錄',\n          description: '瀏覽您所有方案續約扣款紀錄。',\n          alias: 'subscription-history',\n          actionName: 'subscriptionHistory',\n          component: () =>\n            lazyLoadComponent(import('./TabSubscriptionHistory')),\n        },\n        // {\n        //   label: '收款金流開通／設定',\n        //   description: '申請金流並開通，即可變更價格。',\n        //   alias: 'payment',\n        //   actionName: 'payment',\n        //   component: () => lazyLoadComponent(import('./TabPayment')),\n        // },\n        // {\n        //   label: 'LINE Bot 設定',\n        //   description: '設定 LINE Bot 讓客戶透過 LINE 快速預約，生意強強滾！',\n        //   alias: 'line-bot',\n        //   actionName: 'linebot',\n        //   component: () => lazyLoadComponent(import('./TabLineBot')),\n        // },\n        {\n          label: '通知設定',\n          description: '通知設定',\n          alias: 'notification',\n          actionName: 'getDashboardSmsInfo',\n          component: () => lazyLoadComponent(import('./TabNotification')),\n        },\n        {\n          label: '簡訊紀錄',\n          description: '簡訊紀錄',\n          alias: 'sms-record',\n          actionName: 'getDashboardSmsInfo',\n          component: () => lazyLoadComponent(import('./TabSmsHistory')),\n        },\n      ],\n    }\n  },\n  computed: {\n    permittedTabList() {\n      return this.tabList.filter(({ actionName }) =>\n        this.$can('api', actionName)\n      )\n    },\n  },\n  created() {\n    this.changeActiveTabFromRouter()\n    this.handleChangeCard()\n  },\n  methods: {\n    async tryToFetchMerchant() {\n      await this.$store.dispatch('merchant/fetchSingle')\n    },\n    changeActiveTabFromRouter() {\n      if (this.$route.params.activeTab !== undefined)\n        this.activeTab = this.$route.params.activeTab\n    },\n    handleChangeCard() {\n      if (sessionStorage.getItem('merchant.tryToChangeCard') === null) return\n      if (this.$route.params.routeFrom === 'newebpay-success') {\n        this.$alert(\n          '已經可以開始使用 iPetBooking 管理您的預約事業囉！',\n          '付款方式已設定成功',\n          {\n            confirmButtonText: '確定',\n            type: 'success',\n            center: true,\n          }\n        )\n      }\n      if (this.$route.params.routeFrom === 'newebpay-fail') {\n        this.$alert(\n          '很可惜，因為種種因素我們無法成功取得您付款方式的授權，請重新再試。',\n          '付款方式設定失敗',\n          {\n            confirmButtonText: '確定',\n            type: 'error',\n            center: true,\n          }\n        )\n      }\n      this.activeTab = 'subscription'\n      sessionStorage.removeItem('merchant.tryToChangeCard')\n    },\n  },\n}\n</script>\n\n<template>\n  <Layout>\n <div :class=\"$style.page\">\n    <el-tabs v-model=\"activeTab\" stretch type=\"border-card\">\n      <el-tab-pane\n        v-for=\"(tab, index) in permittedTabList\"\n        :key=\"index\"\n        v-can:api=\"tab.actionName\"\n        :label=\"tab.label\"\n        :name=\"tab.alias\"\n        :setting-guide-title=\"tab.label\"\n        :setting-guide-intro=\"tab.description\"\n        lazy\n      >\n        <component\n          :is=\"tab.component\"\n          v-if=\"tab.alias === activeTab\"\n          @update=\"tryToFetchMerchant\"\n        ></component>\n      </el-tab-pane>\n    </el-tabs>\n </div>\n  </Layout>\n</template>\n\n<style lang=\"scss\" module>\n@import '@src/design/layout_detail_steps.scss';\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9c8b7b82&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"index_slide_K2zis\",\"slide-reverse\":\"index_slide-reverse_f2z_M\",\"page\":\"index_page_1Tara\",\"card-wrapper\":\"index_card-wrapper_3uYJl\",\"footer\":\"index_footer_10k1b\"};","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&module=true&\""],"sourceRoot":""}