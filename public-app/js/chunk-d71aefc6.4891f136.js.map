{"version":3,"sources":["webpack:///./src/utils/scroll-to-element.js","webpack:///./src/components/Order/AdditionForm.vue?a9d2","webpack:///./src/components/Order/AdditionForm.vue?6160","webpack:///src/components/Order/AdditionForm.vue","webpack:///./src/components/Order/AdditionForm.vue?9bc0","webpack:///./src/components/Order/AdditionForm.vue?973f","webpack:///./src/components/Order/AdditionForm.vue?5030"],"names":["scrollToElement","$el","offset","arguments","length","undefined","container","findScrollableContainer","scrollTo","top","findPos","behavior","isScrollable","hasScrollableContent","scrollHeight","clientHeight","overflowYStyle","window","getComputedStyle","overflowY","isOverflowYScroll","includes","parentElement","el","curtop","offsetParent","offsetTop","__webpack_require__","d","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AdditionForm_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AdditionForm_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","class","$style","ref","staticClass","attrs","model","submitData","rules","submitRules","label-position","_v","_s","defaultValue","scheduleItem","name","time","style","totalMinute","differMinute","serviceEndTime","productName","params","title","introtext","icon-style","_f","nextOrder","startDate","priceTitle","priceIntrotext","danger","_e","label","prop","addItems","_l","item","index","key","value","callback","$$v","$set","expression","id","border","price","serviceTime","total","placeholder","on","change","onStatusChange","status","statusValue","text","disabled","isHomeService","isEmployee","storeCashflowSetting","type","closable","paymentMethod","bank","staticStyle","margin-top","gutter","span","xs","click","$event","$emit","loading","tryingToCreteOrder","createOrder","staticRenderFns","AdditionFormvue_type_script_lang_js_","components","filters","orderStatusMap","filter_value_to_text","formatDate","format_date","props","Object","default","data","priceList","bankTypeList","created","tryToFetchPrice","mounted","computed","objectSpread","helpers","bankType","required","isRequiredBankType","message","hasNextOrder","filteredStatusMap","_this","filteredStatus","keys","filter","reduce","obj","isEditMode","date_fns","endDate","bookingEndDate","nextBookingStartDate","differ","selectedItem","_this2","cur","next","filterSubmitData","_this3","_this$submitData","map","addId","orderId","storeType","currentUser","scheduleItemId","showVacc","bookingDate","Date","date","today","methods","_tryToFetchPrice","asyncToGenerator","regenerator_default","a","mark","_callee","_ref","items","_this4","wrap","_context","prev","$store","dispatch","state","order_by","productId","limit","sent","categoryIds","sizeId","stop","apply","_this5","$refs","form","validate","valid","tryToCreateOrder","$nextTick","scroll_to_element","querySelector","_tryToCreateOrder","_callee2","_context2","Order_AdditionFormvue_type_script_lang_js_","injectStyles","context","AdditionFormvue_type_style_index_0_lang_scss_module_true_","locals","component","componentNormalizer","module","exports","slide","slide-reverse","create-addition","payment-methods"],"mappings":"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","file":"js/chunk-d71aefc6.4891f136.js","sourcesContent":["export default function scrollToElement($el, offset = 0) {\n  const container = findScrollableContainer($el)\n  container.scrollTo({\n    top: findPos($el) - offset,\n    behavior: \"smooth\"\n  })\n}\n\nfunction isScrollable($el) {\n  // Compare the height to see if the element has scrollable content\n  const hasScrollableContent = $el.scrollHeight > $el.clientHeight;\n\n  // It's not enough because the element's `overflow-y` style can be set as\n  // * `hidden`\n  // * `hidden !important`\n  // In those cases, the scrollbar isn't shown\n  const overflowYStyle = window.getComputedStyle($el).overflowY;\n  const isOverflowYScroll = ['scroll', 'auto'].includes(overflowYStyle)\n\n  return hasScrollableContent && isOverflowYScroll;\n}\n\nfunction findScrollableContainer($el) {\n  if(!isScrollable($el))\n    return findScrollableContainer($el.parentElement)\n  else\n    return $el\n}\n\nfunction findPos(el) {\n  var curtop = 0\n  if (el.offsetParent) {\n    do {\n      curtop += el.offsetTop\n    } while ((el = el.offsetParent))\n    return curtop\n  }\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdditionForm.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdditionForm.vue?vue&type=style&index=0&lang=scss&module=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style['create-addition']},[_c('el-form',{ref:\"form\",staticClass:\"el-form-item--normal-margin el-form-item--white-bg\",attrs:{\"model\":_vm.submitData,\"rules\":_vm.submitRules,\"label-position\":\"top\"}},[_c('div',{staticClass:\"header\"},[_c('div',[_vm._v(\"目前排程\")]),_c('div',[_vm._v(\"美容師：\"+_vm._s(_vm.defaultValue.scheduleItem.name))])]),_c('div',{staticClass:\"schedule-group-wrap\"},[_c('div',{staticClass:\"schedule\"},[_c('div',[_vm._v(\"本服務(含緩衝)時間\")]),_c('div',{staticClass:\"date\"},[_c('span',{staticClass:\"today\"},[_vm._v(\"今天\")]),_c('br'),_c('span',{staticClass:\"time Jost\"},[_vm._v(_vm._s(_vm.defaultValue.time)+\"－\"),_c('span',{style:((\"color:\" + (_vm.totalMinute === 0 ? '' : _vm.differMinute > 0 ? '#C79484' : '#E35D5D') + \";\"))},[_c('span',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm.serviceEndTime))])])])]),_c('div',{staticClass:\"service\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.defaultValue.productName)+\" \"+_vm._s(_vm.defaultValue.params[0].title))]),_c('br'),_c('span',{staticClass:\"size\"},[_vm._v(_vm._s(_vm.defaultValue.params[0].introtext))])])]),_c('div',{staticClass:\"schedule\"},[_c('BaseIcon',{attrs:{\"name\":\"angle-double-right\",\"icon-style\":'fal'}}),_c('div',[_vm._v(\"下個服務開始時間\")]),(_vm.hasNextOrder)?[_c('div',{staticClass:\"date\"},[_c('span',{staticClass:\"today\"},[_vm._v(\"今天\")]),_c('br'),_c('span',{staticClass:\"time Jost\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(_vm.defaultValue.scheduleItem.nextOrder.startDate,'time')))])]),_c('div',{staticClass:\"service\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.defaultValue.scheduleItem.nextOrder.productName)+\" \"+_vm._s(_vm.defaultValue.scheduleItem.nextOrder.priceTitle))]),_c('br'),_c('span',{staticClass:\"size\"},[_vm._v(_vm._s(_vm.defaultValue.scheduleItem.nextOrder.priceIntrotext))])])]:_c('div',{staticClass:\"date\"},[_c('span',{staticClass:\"today vs-hide\"},[_vm._v(\"今天\")]),_c('br'),_c('span',{staticClass:\"no-booking\"},[_vm._v(\"暫無預約\")])])],2)]),_c('div',{staticClass:\"alert Jost\",class:{ danger: _vm.differMinute <= 0 }},[_vm._v(\"本次加購時間 \"),_c('span',{staticClass:\"text-secondary\"},[_vm._v(_vm._s(_vm.totalMinute))]),_vm._v(\" 分\\n      \"),(_vm.hasNextOrder)?_c('span',[(_vm.differMinute > 0)?_c('span',[_vm._v(\"\\n         ，空檔時間剩餘 \"),_c('span',{staticClass:\"text-secondary\"},[_vm._v(_vm._s(_vm.differMinute))]),_vm._v(\" 分\\n        \")]):_c('span',[_vm._v(\"\\n          ，已與下個預約重疊\\n        \")])]):_vm._e()]),_c('el-form-item',{attrs:{\"label\":\"選擇加購項目\",\"prop\":\"addItems\"}},[_c('div',{class:_vm.$style.addItems},[_c('div',{staticClass:\"wrap\"},_vm._l((_vm.priceList),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('el-checkbox-group',{model:{value:(_vm.submitData.addItems),callback:function ($$v) {_vm.$set(_vm.submitData, \"addItems\", $$v)},expression:\"submitData.addItems\"}},[_c('el-checkbox',{attrs:{\"label\":item.id,\"border\":\"\"}},[_c('div',[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.title))]),_c('br'),_c('span',{staticClass:\"size\"},[_vm._v(_vm._s(item.introtext))])]),_c('div',{staticClass:\"price\"},[_vm._v(\"$\"+_vm._s(item.price)+\"/\"+_vm._s(item.serviceTime)+\"分\")])])],1)],1)}),0),_c('div',{staticClass:\"total\"},[_c('div',[_vm._v(\"加購總計\")]),_c('div',[_vm._v(\"$\"+_vm._s(_vm.total)+\"，共 \"+_vm._s(_vm.totalMinute)+\" 分\")])])])]),_c('el-form-item',{attrs:{\"prop\":\"status\",\"label\":\"訂單狀態\"}},[_c('el-select',{attrs:{\"placeholder\":\"訂單狀態\"},on:{\"change\":_vm.onStatusChange},model:{value:(_vm.submitData.status),callback:function ($$v) {_vm.$set(_vm.submitData, \"status\", $$v)},expression:\"submitData.status\"}},[_vm._l((_vm.filteredStatusMap),function(status,statusValue){return [([1, 2].includes(+statusValue))?_c('el-option',{key:statusValue,attrs:{\"value\":+statusValue,\"label\":status.text,\"disabled\":+statusValue === 1 && (_vm.isHomeService && _vm.isEmployee)}}):_vm._e()]})],2)],1),_c('el-form-item',{attrs:{\"label\":\"付款方式\"}},[(_vm.total > 0)?_c('el-radio-group',{staticClass:\"hidden-mobile\",class:_vm.$style['payment-methods'],model:{value:(_vm.submitData.paymentMethod),callback:function ($$v) {_vm.$set(_vm.submitData, \"paymentMethod\", $$v)},expression:\"submitData.paymentMethod\"}},[(_vm.submitData.status === 2 && (!_vm.isEmployee || !_vm.isHomeService))?_c('el-radio',{attrs:{\"label\":\"\",\"border\":\"\"}},[_vm._v(\"不指定\")]):_vm._e(),(!(_vm.isEmployee || _vm.isHomeService))?[_c('el-radio',{attrs:{\"label\":\"Cash\",\"border\":\"\"}},[_vm._v(\"到店付款(現金)\")]),_c('el-radio',{attrs:{\"label\":\"StoreCredit\",\"border\":\"\"}},[_vm._v(\"現場刷卡\")])]:_vm._e(),_c('el-radio',{attrs:{\"label\":\"Atm\",\"border\":\"\"}},[_vm._v(\"線下匯款\")]),(_vm.submitData.status === 2 && _vm.storeCashflowSetting === 1)?_c('el-radio',{attrs:{\"label\":\"Credit\",\"border\":\"\"}},[_vm._v(\"信用卡付款\")]):_vm._e(),(_vm.submitData.status === 2 && _vm.storeCashflowSetting !== 0)?_c('el-radio',{attrs:{\"label\":\"Vacc\",\"border\":\"\"}},[_vm._v(\"ATM虛擬帳戶\")]):_vm._e()],2):_vm._e(),(_vm.total > 0)?_c('el-select',{staticClass:\"visible-mobile\",model:{value:(_vm.submitData.paymentMethod),callback:function ($$v) {_vm.$set(_vm.submitData, \"paymentMethod\", $$v)},expression:\"submitData.paymentMethod\"}},[(_vm.submitData.status === 2 && (!_vm.isEmployee || !_vm.isHomeService))?_c('el-option',{attrs:{\"value\":\"\",\"label\":\"不指定\"}}):_vm._e(),(!(_vm.isEmployee || _vm.isHomeService))?[_c('el-option',{attrs:{\"value\":\"Cash\",\"label\":\"到店付款(現金)\"}}),_c('el-option',{attrs:{\"value\":\"StoreCredit\",\"label\":\"現場刷卡\"}})]:_vm._e(),_c('el-option',{attrs:{\"value\":\"Atm\",\"label\":\"線下匯款\"}}),(_vm.submitData.status === 2 && _vm.storeCashflowSetting === 1)?_c('el-option',{attrs:{\"value\":\"Credit\",\"label\":\"信用卡付款\"}}):_vm._e(),(_vm.submitData.status === 2 && _vm.storeCashflowSetting !== 0)?_c('el-option',{attrs:{\"value\":\"Vacc\",\"label\":\"ATM虛擬帳戶\"}}):_vm._e()],2):_c('el-alert',{attrs:{\"title\":\"請先選擇加購項目\",\"type\":\"warning\",\"closable\":false}})],1),(_vm.submitData.paymentMethod === 'Vacc')?_c('el-form-item',{attrs:{\"prop\":\"bankType\",\"label\":\"轉帳銀行\"}},[_c('el-select',{model:{value:(_vm.submitData.bankType),callback:function ($$v) {_vm.$set(_vm.submitData, \"bankType\", $$v)},expression:\"submitData.bankType\"}},_vm._l((_vm.bankTypeList),function(bank,index){return _c('el-option',{key:(\"bank-\" + index),attrs:{\"value\":bank.id,\"label\":bank.title}})}),1)],1):_vm._e()],1),_c('el-row',{staticClass:\"footer\",staticStyle:{\"margin-top\":\"40px\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12,\"xs\":24}},[_c('el-button',{staticClass:\"is-round is-fullwidth\",on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\"取消加購\")])],1),_c('el-col',{attrs:{\"span\":12,\"xs\":24}},[_c('el-button',{staticClass:\"is-round is-fullwidth\",attrs:{\"loading\":_vm.tryingToCreteOrder,\"type\":\"primary\"},on:{\"click\":_vm.createOrder}},[_vm._v(\"確定加購\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { orderStatusMap } from '@utils/filter-value-to-text'\nimport formatDate from '@utils/format-date'\nimport { addMinutes, differenceInMinutes, differenceInDays } from 'date-fns'\nimport scrollToElement from '@utils/scroll-to-element'\nimport { authComputed } from '@state/helpers'\n\nexport default {\n  components: {},\n  filters: {\n    orderStatusMap,\n    formatDate,\n  },\n  props: {\n    defaultValue: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      submitData: {\n        status: 2,\n        paymentMethod: '',\n        addItems: [],\n      },\n      priceList: [],\n      tryingToCreteOrder: false,\n      bankTypeList: [{ id: 'BOT', title: '台灣銀行' }, { id: 'Taishin', title: '台新' }, { id: 'HNCB', title: '華南' }],\n    }\n  },\n  created() {\n    this.tryToFetchPrice()\n    if (this.isEmployee && this.isHomeService) {\n      this.submitData.paymentMethod = 'Credit'\n    }\n  },\n  mounted() {\n    this.$emit('scrollToTop')\n    \n  },\n  computed: {\n    ...authComputed,\n    submitRules() {\n      return {\n        bankType: [{ required: this.isRequiredBankType, message: '請選擇轉帳銀行' }],\n        addItems: [{ required: true, message: '請選擇服務項目' }],\n      }\n    },\n    hasNextOrder() {\n      return this.defaultValue.scheduleItem.nextOrder !== null\n    },\n    filteredStatusMap() {\n      // ! 已付款不能手動改成未付款\n      const filteredStatus = Object.keys(orderStatusMap)\n        .filter((status) => {\n          switch (this.defaultValue.status) {\n            case 1:\n              return +status < 2\n            case 2:\n              //  虛擬帳戶不能手動改成已付款\n              if (+status === 1 && this.defaultValue.paymentMethod === 'Vacc') return false\n              return +status <= 2\n            case 3:\n              return +status === 0 || +status === 3\n            case 4:\n              return +status === 4\n            case 5:\n              return +status === 0 || +status === 5\n            case 6:\n              return +status === 6\n            default:\n              return false\n          }\n        })\n        .reduce((obj, key) => {\n          obj[key] = orderStatusMap[key]\n          return obj\n        }, {})\n        // console.log(orderStatusMap)\n      return this.isEditMode ? filteredStatus : orderStatusMap\n    },\n    serviceEndTime() {\n      return formatDate(addMinutes(this.defaultValue.endDate, this.totalMinute), 'time')\n    },\n    differMinute() {\n      if (!this.hasNextOrder) return 10000\n      const bookingEndDate = this.defaultValue.endDate\n      const nextBookingStartDate = this.defaultValue.scheduleItem.nextOrder.startDate\n      const differ = differenceInMinutes(nextBookingStartDate, bookingEndDate)\n      return differ - this.totalMinute\n    },\n    selectedItem() {\n      return this.priceList.filter((price) => this.submitData.addItems.includes(price.id))\n    },\n    total() {\n      return this.selectedItem.reduce((cur, next) => {\n        return (cur += next.price)\n      }, 0)\n    },\n    totalMinute() {\n      return this.selectedItem.reduce((cur, next) => {\n        return (cur += next.serviceTime)\n      }, 0)\n    },\n    filterSubmitData() {\n      const { status, paymentMethod ,bankType} = this.submitData\n      const addItems = this.selectedItem.map((item) => ({\n        id: '',\n        addId: item.id,\n        status: this.submitData.status,\n      }))\n      return {\n        addItems,\n        orderId: this.defaultValue.id,\n        total: this.total,\n        status,\n        paymentMethod,\n        bankType\n      }\n    },\n    isHomeService() {\n      return this.defaultValue.storeType === 'home'\n    },\n    isEmployee() {\n      // console.log(this.currentUser)\n      return !!this.currentUser.scheduleItemId\n      // return this.currentUserRoutes.includes('employee-calendar')\n    },\n    showVacc() {\n      const bookingDate = new Date(formatDate(new Date(this.defaultValue.date)))\n      const today = new Date(formatDate(new Date()))\n      // 虛擬帳戶付款距離預約日要大於1天\n      return differenceInDays(bookingDate, today) > 1\n    },\n    isRequiredBankType() {\n      return this.submitData.paymentMethod === 'Vacc'\n    },\n    storeCashflowSetting(){\n      return this.defaultValue.storeCashflowSetting\n    }\n  },\n  methods: {\n    async tryToFetchPrice() {\n      const { items } = await this.$store.dispatch('product/fetchAdditionalPrices', {\n        state: 1,\n        // type:'',\n        order_by:'groupOrdering',\n        productId: this.defaultValue.productId,\n        introtext: this.defaultValue.params[0].introtext,\n        limit: 10000,\n      })\n\n      this.priceList = items.filter(item=>{\n       return item.categoryIds[0] === this.defaultValue.sizeId\n      })\n    },\n    onStatusChange(value) {\n      if (!this.isEditMode && value === 1) this.submitData.paymentMethod = 'Cash'\n    },\n    createOrder() {\n      this.$refs.form.validate((valid) => {\n        if (valid) this.tryToCreateOrder()\n        else\n          this.$nextTick(() => {\n            scrollToElement(this.$refs.form.$el.querySelector('.el-form-item__error'), 182)\n          })\n      })\n    },\n    async tryToCreateOrder() {\n      this.tryingToCreteOrder = true\n      await this.$store.dispatch('order/storeAdditionalOrder', this.filterSubmitData)\n      this.tryingToCreteOrder = false\n      this.$emit('update')\n    },\n  },\n}\n</script>\n\n<template>\n  <div :class=\"$style['create-addition']\">\n    <el-form ref=\"form\" :model=\"submitData\" :rules=\"submitRules\" label-position=\"top\" class=\"el-form-item--normal-margin el-form-item--white-bg\">\n      <div class=\"header\">\n        <div>目前排程</div>\n        <div>美容師：{{ defaultValue.scheduleItem.name }}</div>\n      </div>\n\n      <div class=\"schedule-group-wrap\">\n        <div class=\"schedule\">\n          <div>本服務(含緩衝)時間</div>\n          <div class=\"date\">\n            <span class=\"today\">今天</span><br />\n            <span class=\"time Jost\"\n              >{{ defaultValue.time }}－<span :style=\"`color:${totalMinute === 0 ? '' : differMinute > 0 ? '#C79484' : '#E35D5D'};`\"><span class=\"text-primary\">{{ serviceEndTime }}</span></span></span\n            >\n          </div>\n          <div class=\"service\">\n            <span class=\"title\">{{ defaultValue.productName }} {{ defaultValue.params[0].title }}</span\n            ><br />\n            <span class=\"size\">{{ defaultValue.params[0].introtext }}</span>\n          </div>\n        </div>\n        <div class=\"schedule\">\n          <BaseIcon name=\"angle-double-right\" :icon-style=\"'fal'\"></BaseIcon>\n          <div>下個服務開始時間</div>\n          <template v-if=\"hasNextOrder\">\n            <div class=\"date\">\n              <span class=\"today\">今天</span><br />\n              <span class=\"time Jost\">{{ defaultValue.scheduleItem.nextOrder.startDate | formatDate('time') }}</span>\n            </div>\n            <div class=\"service\">\n              <span class=\"title\">{{ defaultValue.scheduleItem.nextOrder.productName }} {{ defaultValue.scheduleItem.nextOrder.priceTitle }}</span\n              ><br />\n              <span class=\"size\">{{ defaultValue.scheduleItem.nextOrder.priceIntrotext }}</span>\n            </div>\n          </template>\n          <div v-else class=\"date\">\n            <span class=\"today vs-hide\">今天</span><br />\n            <span class=\"no-booking\">暫無預約</span>\n          </div>\n        </div>\n      </div>\n      <div class=\"alert Jost\" :class=\"{ danger: differMinute <= 0 }\"\n        >本次加購時間 <span class=\"text-secondary\">{{ totalMinute }}</span> 分\n        <span v-if=\"hasNextOrder\">\n          <span v-if=\"differMinute > 0\">\n           ，空檔時間剩餘 <span class=\"text-secondary\">{{differMinute}}</span> 分\n          </span>\n          <span v-else>\n            ，已與下個預約重疊\n          </span>\n          <!-- {{ differMinute > 0 ? `，空檔時間剩餘 ${differMinute} 分` : `，已與下個預約重疊` }} -->\n\n        </span>\n      </div>\n      <el-form-item label=\"選擇加購項目\" prop=\"addItems\">\n        <div :class=\"$style.addItems\">\n          <div class=\"wrap\">\n            <div v-for=\"(item, index) in priceList\" :key=\"index\" class=\"item\">\n              <el-checkbox-group v-model=\"submitData.addItems\">\n                <el-checkbox :label=\"item.id\" border>\n                  <div>\n                    <span class=\"name\">{{ item.title }}</span>\n                    <br />\n                    <span class=\"size\">{{ item.introtext }}</span>\n                  </div>\n                  <div class=\"price\">${{ item.price }}/{{ item.serviceTime }}分</div>\n                </el-checkbox>\n              </el-checkbox-group>\n            </div>\n          </div>\n          <div class=\"total\">\n            <div>加購總計</div>\n            <div>${{ total }}，共 {{ totalMinute }} 分</div>\n          </div>\n        </div>\n      </el-form-item>\n      <el-form-item prop=\"status\" label=\"訂單狀態\">\n        <el-select v-model=\"submitData.status\" placeholder=\"訂單狀態\" @change=\"onStatusChange\">\n          <template v-for=\"(status, statusValue) in filteredStatusMap\">\n            <!-- 新增訂單只有已付款、未付款狀態(員工不可選已付款) -->\n            <el-option v-if=\"[1, 2].includes(+statusValue)\" :key=\"statusValue\" :value=\"+statusValue\" :label=\"status.text\" :disabled=\"+statusValue === 1 && (isHomeService && isEmployee)\"></el-option>\n          </template>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"付款方式\">\n        <el-radio-group v-if=\"total > 0\" v-model=\"submitData.paymentMethod\" class=\"hidden-mobile\" :class=\"$style['payment-methods']\">\n          <el-radio v-if=\"submitData.status === 2 && (!isEmployee || !isHomeService)\" label border>不指定</el-radio>\n          <template v-if=\"!(isEmployee || isHomeService)\">\n            <el-radio label=\"Cash\" border>到店付款(現金)</el-radio>\n            <el-radio label=\"StoreCredit\" border>現場刷卡</el-radio>\n            \n          </template>\n          <el-radio label=\"Atm\" border>線下匯款</el-radio>\n          <el-radio v-if=\"submitData.status === 2 && storeCashflowSetting === 1\" label=\"Credit\" border>信用卡付款</el-radio>\n          <el-radio v-if=\"submitData.status === 2 && storeCashflowSetting !== 0\"  label=\"Vacc\"  border>ATM虛擬帳戶</el-radio>\n        </el-radio-group>\n        <el-select v-if=\"total > 0\" v-model=\"submitData.paymentMethod\" class=\"visible-mobile\">\n          <el-option v-if=\"submitData.status === 2 && (!isEmployee || !isHomeService)\" value label=\"不指定\"></el-option>\n          <template v-if=\"!(isEmployee || isHomeService)\">\n            <el-option value=\"Cash\" label=\"到店付款(現金)\"></el-option>\n            <el-option value=\"StoreCredit\" label=\"現場刷卡\"></el-option>\n            \n          </template>\n          <el-option value=\"Atm\" label=\"線下匯款\" ></el-option>\n          <el-option v-if=\"submitData.status === 2 && storeCashflowSetting === 1\" value=\"Credit\" label=\"信用卡付款\"></el-option>\n          <el-option v-if=\"submitData.status === 2 && storeCashflowSetting !== 0\"  value=\"Vacc\" label=\"ATM虛擬帳戶\" ></el-option>\n        </el-select>\n        <el-alert v-else title=\"請先選擇加購項目\" type=\"warning\" :closable=\"false\"></el-alert>\n      </el-form-item>\n      <el-form-item v-if=\"submitData.paymentMethod === 'Vacc'\" prop=\"bankType\" label=\"轉帳銀行\">\n        <el-select v-model=\"submitData.bankType\">\n          <el-option v-for=\"(bank, index) in bankTypeList\" :key=\"`bank-${index}`\" :value=\"bank.id\" :label=\"bank.title\"></el-option>\n        </el-select>\n      </el-form-item>\n    </el-form>\n    <el-row :gutter=\"20\" class=\"footer\" style=\"margin-top: 40px;\">\n      <el-col :span=\"12\" :xs=\"24\">\n        <el-button class=\"is-round is-fullwidth\" @click=\"$emit('close')\">取消加購</el-button>\n      </el-col>\n      <el-col :span=\"12\" :xs=\"24\">\n        <el-button class=\"is-round is-fullwidth\" :loading=\"tryingToCreteOrder\" type=\"primary\" @click=\"createOrder\">確定加購</el-button>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<style lang=\"scss\" module>\n@import '@design';\n.create-addition {\n  :global {\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 16px;\n    }\n    .vs-hide {\n      visibility: hidden;\n    }\n    .schedule-group-wrap {\n      display: flex;\n      padding: 24px 22px;\n      background-color: white;\n      border: 1px solid $color-border-base;\n      .schedule {\n        position: relative;\n        flex: 1;\n        svg {\n          position: absolute;\n          left: -40px;\n          top: 62px;\n          color: #c6c6ba;\n          font-size: 27px;\n          @include touch {\n            top: 77px;\n          }\n        }\n        & + .schedule {\n          margin-left: 50px;\n        }\n        > div:first-of-type {\n          // color: #726f65;\n          margin-bottom: 26px;\n          letter-spacing: 1.4px;\n        }\n        .date {\n          margin-bottom: 25px;\n          .today {\n            display: inline-block;\n            font-size: 12px;\n            letter-spacing: 1.2px;\n            margin-bottom: 10px;\n          }\n          .time {\n            font-size: 20px;\n            color: $color-secondary;\n            letter-spacing: 2px;\n            line-height: 18px;\n            font-weight: 500;\n          }\n        }\n        .service {\n          .title {\n            display: inline-block;\n            margin-bottom: 5px;\n            letter-spacing: 1.4px;\n          }\n          .size {\n            font-size: 12px;\n            color: #726f65;\n          }\n        }\n        .no-booking {\n          color: #d0d0d0;\n          letter-spacing: 1.4px;\n        }\n      }\n    }\n    .alert {\n      margin-top: 15px;\n      margin-bottom: 47px;\n      padding: 15px 20px;\n      letter-spacing: 1.4px;\n      // color: #41695b;\n      background-color: #FDD7AA65;\n      &.danger {\n        color: $color-state-danger;\n        background-color: #e35d5d17;\n      }\n    }\n    @include touch {\n      .el-input__inner {\n        background-color: white;\n        border-color: $color-border-base;\n        border-radius: 8px;\n      }\n      .footer {\n        display: flex;\n        flex-direction: column-reverse;\n        .el-col + .el-col {\n          margin-bottom: 10px;\n        }\n      }\n    }\n  }\n}\n.addItems {\n  border: 1px solid $color-border-base;\n  :global {\n    .wrap {\n      max-height: 350px;\n      overflow: auto;\n      background-color: white;\n      &::-webkit-scrollbar {\n        display: block;\n        width: 4px;\n      }\n      &::-webkit-scrollbar-thumb {\n        border-radius: 10px;\n        background-color: #d8d8d8;\n      }\n      &::-webkit-scrollbar-track {\n        background: #f5f5f5ed;\n      }\n      .item {\n        &:last-child .el-checkbox {\n          border-bottom: none;\n        }\n        .el-checkbox {\n          width: 100%;\n          display: flex;\n          align-items: center;\n          border: none;\n          border-bottom: 1px solid $color-border-base;\n          padding: 18px 22px;\n          height: auto;\n          .el-checkbox__label {\n            display: flex;\n            justify-content: space-between;\n            flex: 2;\n            letter-spacing: 1.4px;\n            align-items: center;\n            .name {\n              display: inline-block;\n              min-width: 90px;\n            }\n            br {\n              display: none;\n            }\n            @include touch {\n              br {\n                display: inherit;\n              }\n              .size {\n                color: #d0d0d0;\n              }\n            }\n            .size {\n              font-size: 12px;\n            }\n          }\n          .el-checkbox__inner {\n            width: 18px;\n            height: 18px;\n            &::after {\n              height: 9px;\n              width: 5px;\n              border-width: 2px;\n            }\n          }\n        }\n      }\n    }\n    .total {\n      display: flex;\n      justify-content: space-between;\n      padding: 20px 25px;\n      // color: #41695b;\n      background-color: #F1F9FB;\n      line-height: 1;\n      letter-spacing: 1.4px;\n      border-top: 1px solid $color-border-base;\n    }\n  }\n}\n.payment-methods {\n  :global {\n    .el-radio {\n      margin: 5px !important;\n    }\n    .vacc-disabled {\n      margin-bottom: 20px;\n      &::after {\n        content: '(服務前一日不提供)';\n        position: absolute;\n        bottom: -20px;\n        left: 50%;\n        transform: translateX(-50%);\n        color: #c2c6ce;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdditionForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdditionForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdditionForm.vue?vue&type=template&id=4d1c12a2&\"\nimport script from \"./AdditionForm.vue?vue&type=script&lang=js&\"\nexport * from \"./AdditionForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdditionForm.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"AdditionForm_slide_1C7l-\",\"slide-reverse\":\"AdditionForm_slide-reverse_2xkiV\",\"create-addition\":\"AdditionForm_create-addition_3Brwd\",\"addItems\":\"AdditionForm_addItems_20PZD\",\"payment-methods\":\"AdditionForm_payment-methods_2jAH-\"};"],"sourceRoot":""}