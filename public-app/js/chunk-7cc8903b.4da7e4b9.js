(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cc8903b"],{"489d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.tryingFetchSpecificChat,expression:"tryingFetchSpecificChat"}],class:t.$style.wrap},[t.isLog?i("div",{ref:"logs",staticClass:"log",attrs:{id:"log-container"},on:{scroll:t.onScroll}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"log-item"},[i("el-button",{staticClass:"loading-chat",attrs:{loading:t.loading,disabled:""}},[t._v("載入中...")])],1),i("transition-group",{attrs:{name:t.$style.flip,tag:"div"}},[t._l(t.logList,function(e,a){return[void 0!==e.dateTime?i("div",{key:e.dateTime+"-"+a,staticClass:"log-item log-date"},[i("span",[t._v(t._s(t.formatDate(e.dateTime,"dateWeekDay")))])]):i("div",{key:"log-item-"+(e.rid?e.rid:e.data.id),class:["log-item",e.data.sender.id===t.memberId?"member":"merchant"],attrs:{id:"log-item-"+e.data.id}},[i("div",{class:["content",t.focused===e.data.id?"focus":""]},[null!==e.data.order?i("div",{staticClass:"order content-child"},[i("div",[i("BaseStateLabel",{attrs:{state:t._f("orderStatusFilter")(e.data.order.status,"color")}},[t._v(t._s(t._f("orderStatusFilter")(e.data.order.status,"text")))]),i("span",[t._v(" #"+t._s(e.data.order.id))])],1),i("el-button",{on:{click:function(i){return t.showOrderDetail(e.data.order.id)}}},[t._v("查看")])],1):t._e(),e.data.reply?i("div",{staticClass:"reply content-child",on:{click:function(i){return t.scrollToMessageOrFetchMessage(e.data.reply.data.id)}}},[t._v("\n              回覆：\n              "),null!==e.data.reply.data.message?i("span",[t._v(t._s(e.data.reply.data.message))]):i("BaseIcon",{attrs:{name:"image"}})],1):t._e(),null!==e.data.message?i("div",{staticClass:"message content-child"},[t._v(t._s(e.data.message))]):t._e(),null!==e.data.attached&&e.data.attached.length>0?[i("div",{staticClass:"files content-child"},[i("FileGallery",{attrs:{"file-list":e.data.attached}})],1)]:t._e()],2),!0!==e.needUpdate?i("div",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(e.data.created_at,"time")))]):i("div",{staticClass:"time"}),!0!==e.needUpdate?i("el-button",{on:{click:function(i){return t.updateReply(e)}}},[i("BaseIcon",{attrs:{"icon-style":"fas",name:"reply"}})],1):t._e(),t.errorList.includes(e.data.id)?i("div",{staticClass:"error"},[t._v("此訊息傳送失敗")]):t._e()],1)]})],2),t.showNewLog?i("div",{staticClass:"new-log",on:{click:t.scrollToBottom}},[t._v("有新訊息")]):t._e()],1):i("div",{ref:"historys",staticClass:"log",attrs:{id:"log-container"}},[t.nothingToLoading_previous?t._e():i("div",{staticClass:"log-item loading_previous"},[i("el-button",{staticClass:"loading-history",attrs:{loading:t.loading_previous,disabled:t.loading_previous},on:{click:t.onClickPrevious}},[t._v("載入更多...")])],1),i("transition-group",{attrs:{name:t.$style.flip,tag:"div"}},[t._l(t.historyList,function(e,a){return[void 0!==e.dateTime?i("div",{key:e.dateTime+"-"+a,staticClass:"log-item log-date"},[i("span",[t._v(t._s(t.formatDate(e.dateTime,"dateWeekDay")))])]):i("div",{key:"log-item-"+e.data.id,class:["log-item",e.data.sender.id===t.memberId?"member":"merchant"],attrs:{id:"log-item-"+e.data.id}},[i("div",{class:["content",t.focused===e.data.id?"focus":"",t.history_request_id===e.data.id?"focused-infinite":""]},[null!==e.data.order?i("div",{staticClass:"order content-child"},[i("div",{staticClass:"order-title"},[i("BaseStateLabel",{attrs:{state:t._f("orderStatusFilter")(e.data.order.status,"color")}},[t._v(t._s(t._f("orderStatusFilter")(e.data.order.status,"text")))]),i("span",[t._v(" #"+t._s(e.data.order.id))])],1),i("el-button",{on:{click:function(i){return t.showOrderDetail(e.data.order.id)}}},[t._v("查看")])],1):t._e(),e.data.reply?i("div",{staticClass:"reply content-child",on:{click:function(i){return t.scrollToMessageOrFetchMessage(e.data.reply.data.id)}}},[t._v("\n              回覆：\n              "),null!==e.data.reply.data.message?i("span",[t._v(t._s(e.data.reply.data.message))]):i("BaseIcon",{attrs:{name:"image"}})],1):t._e(),null!==e.data.message?i("div",{staticClass:"message content-child"},[t._v(t._s(e.data.message))]):t._e(),null!==e.data.attached&&e.data.attached.length>0?[i("div",{staticClass:"files content-child"},[i("FileGallery",{attrs:{"file-list":e.data.attached}})],1)]:t._e()],2),i("div",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(e.data.created_at,"time")))]),i("el-button",{on:{click:function(i){return t.updateReply(e)}}},[i("BaseIcon",{attrs:{"icon-style":"fas",name:"reply"}})],1)],1)]})],2),t.nothingToLoading_latest?t._e():i("div",{staticClass:"log-item loading_latest"},[i("el-button",{staticClass:"loading-history",attrs:{loading:t.loading_latest,disabled:t.loading_latest},on:{click:t.onClickLatest}},[t._v("載入更多...")])],1),i("el-button",{class:t.$style["leave"],attrs:{circle:""},on:{click:t.onLeaveHistory}},[i("BaseIcon",{attrs:{name:"arrow-down"}})],1)],1),t.showReply?i("div",{staticClass:"reply-to"},[i("div",{staticClass:"reply-to-message"},[t._v("\n      回覆：\n      "),null!==t.replyTo.data.message?i("span",[t._v(t._s(t.replyTo.data.message))]):i("BaseIcon",{attrs:{name:"image"}})],1),i("el-button",{attrs:{type:"text"},on:{click:t.clearReply}},[i("BaseIcon",{attrs:{name:"times"}})],1)],1):t._e(),i("div",{staticClass:"upload-image-area"},[i("FileUpload",{ref:"file-upload",attrs:{resource:"merchant"}})],1),i("div",{staticClass:"textarea"},[i("el-button",{staticClass:"upload-image",attrs:{type:"text"},on:{click:t.showUpload}},[i("BaseIcon",{attrs:{name:"image"}})],1),i("el-input",{staticStyle:{"min-height":"46.5px"},attrs:{autosize:{minRows:1,maxRows:5},type:"textarea",resize:"none",placeholder:"請輸入訊息"},nativeOn:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.onSend(e)}},model:{value:t.submitText,callback:function(e){t.submitText=e},expression:"submitText"}}),i("el-button",{attrs:{type:"primary",disabled:0===t.submitText.trim().length&&t.isEmptyFile()},on:{click:t.onSend}},[i("BaseIcon",{attrs:{name:"paper-plane"}})],1)],1)])},s=[],n=i("f210"),o=i("4795"),r=i.n(o),l=i("cb0c"),c=i("9395"),d=i("a315"),u=i("6bea"),h=i("2ef0"),f=i("7e02"),p=i("4d77"),g=i("8055"),m=i.n(g),v=i("5638"),y=i("f13c"),_=i.n(y);function b(t){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=i.length,s=0;s<t;s++)e+=i.charAt(Math.floor(Math.random()*a));return e}var w={components:{BaseStateLabel:function(){return Object(d["a"])(i.e("chunk-12bed50d").then(i.bind(null,"38d1")))},FileUpload:function(){return Object(d["a"])(i.e("chunk-1c25807e").then(i.bind(null,"fb25")))},FileGallery:function(){return Object(d["a"])(i.e("chunk-280942ee").then(i.bind(null,"53e7")))}},filters:{orderStatusFilter:f["o"],formatDate:u["a"]},props:{dialogVisible:{type:Boolean},phone:{type:String,required:!0}},data:function(){return{submitText:"",echo:{},scrollOptions:{container:"#log-container",easing:"cubic-bezier(0.4, 0.0, 1, 1)",force:!0,cancelable:!0,x:!1,y:!0},logList:[],historyList:[],replyTo:{},focused:"",status:"1",mode:"log",loading:!1,loading_previous:!1,loading_latest:!1,lastMessageId:"",nothingToLoading:!1,nothingToLoading_previous:!1,nothingToLoading_latest:!1,message_per_page:10,memberId:this.$route.params.memberId,previous_page:1,history_request_id:"",history_previous_page:1,history_latest_page:1,errorList:[],showNewLog:!1,tryingSendMessage:!1,tryingFetchSpecificChat:!1,unwatch:{},cachedTimestamp:Date.now().toString()}},computed:Object(c["a"])({},p["b"],{showReply:function(){return Object.keys(this.replyTo).length>0},isLog:function(){return"log"===this.mode},isHistory:function(){return"history"===this.mode},isHttps:function(){return"https:"===window.location.protocol}}),created:function(){var t=this;this.$route.params.messageId?this.tryToFetchSpecificChat(this.$route.params.messageId):this.tryToFetchHistory(),this.unwatch=this.$store.watch(function(t){return t.member.cachedMessageId},function(e){""!==e&&t.scrollToMessageOrFetchMessage(e)})},mounted:function(){this.isHttps&&this.initEcho(),this.tryToStoreChatReaded()},beforeDestroy:function(){this.isHttps&&this.closeEcho(),this.tryToStoreChatReaded(),this.unwatch(),this.$store.dispatch("member/updateActiveChatMemberId","")},methods:{formatDate:u["a"],initEcho:function(){var t=this,e="https:"===document.location.protocol?":8443":":6001";this.echo=new v["a"]({client:m.a,broadcaster:"socket.io",host:window.location.hostname+e,namespace:"DaydreamLab.Dddream.Events.Chat",auth:{headers:{Authorization:"Bearer "+this.currentUser.token}}}),this.echo.private("chat.".concat(this.memberId)).listen("ChatSendMessageEvent",function(e){e.data.data.sender.id===t.memberId&&(t.logList.push(e.data),t.showNotification())})},tryToFetchHistory:function(){var t=Object(l["a"])(r.a.mark(function t(){var e,i=this;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.$store.dispatch("member/fetchSingleChat",{phone:this.phone,page:this.previous_page,limit:this.message_per_page,request_time:this.cachedTimestamp});case 3:e=t.sent,this.mergeList(e),this.loading=!1,1===this.previous_page&&this.$nextTick(function(){i.scrollToBottom(),setTimeout(i.scrollToBottom,500)});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),tryToStoreChatReaded:function(){var t=Object(l["a"])(r.a.mark(function t(){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("member/storeChatReaded",{member_id:this.memberId,type:"chat"});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),tryToFetchMoreChat:function(){var t=Object(l["a"])(r.a.mark(function t(e){var i,a;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i="older"===e?this.history_previous_page:this.history_latest_page,t.next=3,this.$store.dispatch("member/fetchMoreChat",{request_id:this.history_request_id,phone:this.phone,per_page:this.message_per_page,forward:e,page:i});case 3:a=t.sent,this.mergeList("newer"===e?a:a.reverse(),"newer"===e);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),tryToFetchSpecificChat:function(){var t=Object(l["a"])(r.a.mark(function t(e){var i,a=this;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tryingFetchSpecificChat=!0,this.history_request_id=e,this.resetHistoryPagination(),t.next=5,this.$store.dispatch("member/fetchSpecificChat",{phone:this.phone,request_id:e,display:this.message_per_page});case 5:i=t.sent,this.historyList=this.insertDateBeforeMessage(i),this.changeMode("history"),this.tryingFetchSpecificChat=!1,this.$nextTick(function(){setTimeout(function(){a.scrollToElement("#log-item-".concat(e))},100)});case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),tryToSendChat:function(){var t=Object(l["a"])(r.a.mark(function t(){var e,i,a,s;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tryingSendMessage=!0,e=b(20),i=this.submitText||null,a=Object(n["a"])(this.$refs["file-upload"].fileList),t.prev=4,this.logList.push({type:"request",data:{id:e,sender:{id:this.currentUser.merchantId},message:i,reply:null,order:null,attached:a},needUpdate:!0}),this.submitText="",this.$refs["file-upload"].clearFileList(),t.next=10,this.$store.dispatch("member/sendChat",{content:i,phone:this.phone,attached:a,timestamp:Date.now().toString()});case 10:s=t.sent,this.updateOnViewMessage(e,s),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),this.errorList.push(e);case 17:return t.prev=17,this.tryingSendMessage=!1,t.finish(17);case 20:case"end":return t.stop()}},t,this,[[4,14,17,20]])}));return function(){return t.apply(this,arguments)}}(),tryToReplyChat:function(){var t=Object(l["a"])(r.a.mark(function t(e){var i,a,s,o,l;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tryingSendMessage=!0,i=b(20),a=this.submitText||null,s=this.replyTo.data.id,o=Object(n["a"])(this.$refs["file-upload"].fileList),t.prev=5,this.logList.push({type:"reply",data:{id:i,sender:{id:this.currentUser.merchantId},message:a,reply:{data:{id:this.replyTo.data.id,message:this.replyTo.data.message}},order:null,attached:o},needUpdate:!0}),this.submitText="",this.clearReply(),this.$refs["file-upload"].clearFileList(),t.next=12,this.$store.dispatch("member/replyChat",{content:a,request_id:s,phone:this.phone,attached:o,timestamp:Date.now().toString()});case 12:l=t.sent,this.updateOnViewMessage(i,l),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](5),this.errorList.push(i);case 19:return t.prev=19,this.tryingSendMessage=!1,t.finish(19);case 22:case"end":return t.stop()}},t,this,[[5,16,19,22]])}));return function(e){return t.apply(this,arguments)}}(),closeEcho:function(){this.echo.leave("chat.".concat(this.memberId))},onSend:function(t){var e=this;if(t.preventDefault(),""!==this.submitText.trim()||!this.isEmptyFile())try{this.showReply?this.tryToReplyChat():this.tryToSendChat()}catch(t){navigator.onLine||console.log("status: Offline")}finally{this.isLog&&this.$nextTick(function(){e.scrollToBottom()})}},updateOnViewMessage:function(t,e){var i=this;this.logList.some(function(a,s){return void 0!==a.data&&(a.data.id===t&&(i.logList.splice(s,1,Object(c["a"])({},e,{rid:t})),!0))})},scrollToMessageOrFetchMessage:function(t){var e=this;this.isMessageOnView(t)?(this.scrollToElement("#log-item-".concat(t)),this.focused=t,this.$nextTick(function(){setTimeout(function(){e.focused=""},5e3)})):this.tryToFetchSpecificChat(t)},isMessageOnView:function(t){return this["".concat(this.mode,"List")].some(function(e){return!(!e.data||e.data.id!==t)})},scrollToElement:function(t){_.a.scrollTo(t,500,this.scrollOptions)},scrollToBottom:function(){this.$refs.logs.scrollTop=this.$refs.logs.scrollHeight},updateReply:function(t){this.replyTo=Object.assign({},t)},clearReply:function(){this.replyTo={}},onScroll:Object(h["throttle"])(Object(l["a"])(r.a.mark(function t(){var e,i;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=0===this.$refs.logs.scrollTop,i=this.$refs.logs.scrollHeight===this.$refs.logs.scrollTop+this.$refs.logs.clientHeight,!e){t.next=10;break}if(!(this.isHistory||this.nothingToLoading||this.loading)){t.next=5;break}return t.abrupt("return");case 5:return this.previous_page++,t.next=8,this.tryToFetchHistory();case 8:t.next=11;break;case 10:i&&(this.showNewLog=!1);case 11:case"end":return t.stop()}},t,this)})),500),mergeList:function(){var t,e,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isHistory?(this.lastMessageId=this.findMessageId(this.historyList,s),s?(t=this.historyList).push.apply(t,Object(n["a"])(a)):(e=this.historyList).unshift.apply(e,Object(n["a"])(a)),this.historyList=this.insertDateBeforeMessage(this.historyList)):(this.lastMessageId=this.findMessageId(this.logList),(i=this.logList).unshift.apply(i,Object(n["a"])(a)),this.logList=this.insertDateBeforeMessage(this.logList));this.updateNothingLoadingState(a,s),this.scrollToLastMessage(a,s)},findMessageId:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return 0===t.length?"":e?t.filter(function(t){return void 0!==t.data}).slice(-1)[0].data.id:t.filter(function(t){return void 0!==t.data})[0].data.id},insertDateBeforeMessage:function(t){var e=[];return t.filter(function(t){return void 0!==t.data}).reduce(function(t,i,a){return Date.parse(t)<Date.parse(i.data.created_at.split(" ")[0])?(e.push({dateTime:i.data.created_at}),e.push(Object(c["a"])({},i)),i.data.created_at.split(" ")[0]):(e.push(Object(c["a"])({},i)),t.split(" ")[0])},"1970-01-01"),e},scrollToLastMessage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=i||0===e.length;if(!a){var s=e.length;this.$nextTick(function(){_.a.scrollTo("#log-item-".concat(t.lastMessageId),-1,Object(c["a"])({},t.scrollOptions,{offset:s>=5?-280:-100}))})}},updateNothingLoadingState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.message_per_page,a=t.length;e?this.nothingToLoading_latest=a!==i&&e:this.nothingToLoading=this.nothingToLoading_previous=a!==i&&!e},resetLoadingState:function(){this.nothingToLoading=this.nothingToLoading_previous=this.nothingToLoading_latest=!1},showOrderDetail:function(t){this.$emit("show-order",t)},changeMode:function(t){this.mode=t,this.resetLoadingState()},onLeaveHistory:function(){var t=this;this.history_request_id="",this.changeMode("log"),0===this.logList.length?this.tryToFetchHistory():this.$nextTick(function(){t.scrollToBottom()})},onClickPrevious:function(){var t=Object(l["a"])(r.a.mark(function t(){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading_previous=!0,t.next=3,this.tryToFetchMoreChat("older");case 3:this.history_previous_page++,this.loading_previous=!1;case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),onClickLatest:function(){var t=Object(l["a"])(r.a.mark(function t(){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading_latest=!0,t.next=3,this.tryToFetchMoreChat("newer");case 3:this.history_latest_page++,this.loading_latest=!1;case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),resetHistoryPagination:function(){this.history_previous_page=1,this.history_latest_page=1},showNotification:function(){var t=this;if(!this.isHistory){var e=this.$refs.logs.scrollHeight-(this.$refs.logs.scrollTop+this.$refs.logs.clientHeight);e>=150?this.showNewLog=!0:this.$nextTick(function(){t.scrollToBottom()})}},showUpload:function(){this.$refs["file-upload"].$refs["el-upload"].$refs["upload-inner"].$refs.input.click()},isEmptyFile:function(){return void 0===this.$refs["file-upload"]||(void 0===this.$refs["file-upload"].fileList||0===this.$refs["file-upload"].fileList.length)}}},T=w,C=i("7ad2"),L=i("2877");function k(t){this["$style"]=C["default"].locals||C["default"]}var x=Object(L["a"])(T,a,s,!1,k,null,null);e["default"]=x.exports},"7ad2":function(t,e,i){"use strict";var a=i("e91d"),s=i.n(a);e["default"]=s.a},e91d:function(t,e,i){t.exports={slide:"ChatDialog_slide_2Ow1f","slide-reverse":"ChatDialog_slide-reverse_K9toh",wrap:"ChatDialog_wrap_3D_87",blink:"ChatDialog_blink_KDZAW","blink-infinite":"ChatDialog_blink-infinite_2dhf3",flip:"ChatDialog_flip_1g2Nz",leave:"ChatDialog_leave_G7mnK",refresh:"ChatDialog_refresh_Q4GVT",uploader:"ChatDialog_uploader_e-iCr",uploader__icon:"ChatDialog_uploader__icon_10vjl",uploader__limit:"ChatDialog_uploader__limit_8upB2","uploader--circle":"ChatDialog_uploader--circle_2RG5s",actions:"ChatDialog_actions_12bnG","is-emtpy":"ChatDialog_is-emtpy_ymGC5"}},f13c:function(t,e,i){
/*!
  * vue-scrollto v2.20.0
  * (c) 2019 Randjelovic Igor
  * @license MIT
  */
(function(e,i){t.exports=i()})(0,function(){"use strict";function t(e){return t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){return e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},e.apply(this,arguments)}var i=4,a=.001,s=1e-7,n=10,o=11,r=1/(o-1),l="function"===typeof Float32Array;function c(t,e){return 1-3*e+3*t}function d(t,e){return 3*e-6*t}function u(t){return 3*t}function h(t,e,i){return((c(e,i)*t+d(e,i))*t+u(e))*t}function f(t,e,i){return 3*c(e,i)*t*t+2*d(e,i)*t+u(e)}function p(t,e,i,a,o){var r,l,c=0;do{l=e+(i-e)/2,r=h(l,a,o)-t,r>0?i=l:e=l}while(Math.abs(r)>s&&++c<n);return l}function g(t,e,a,s){for(var n=0;n<i;++n){var o=f(e,a,s);if(0===o)return e;var r=h(e,a,s)-t;e-=r/o}return e}function m(t){return t}var v=function(t,e,i,s){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&i===s)return m;for(var n=l?new Float32Array(o):new Array(o),c=0;c<o;++c)n[c]=h(c*r,t,i);function d(e){for(var s=0,l=1,c=o-1;l!==c&&n[l]<=e;++l)s+=r;--l;var d=(e-n[l])/(n[l+1]-n[l]),u=s+d*r,h=f(u,t,i);return h>=a?g(e,u,t,i):0===h?u:p(e,s,s+r,t,i)}return function(t){return 0===t?0:1===t?1:h(d(t),e,s)}},y={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},_=!1;try{var b=Object.defineProperty({},"passive",{get:function(){_=!0}});window.addEventListener("test",null,b)}catch(B){}var w={$:function(t){return"string"!==typeof t?t:document.querySelector(t)},on:function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!1};e instanceof Array||(e=[e]);for(var s=0;s<e.length;s++)t.addEventListener(e[s],i,!!_&&a)},off:function(t,e,i){e instanceof Array||(e=[e]);for(var a=0;a<e.length;a++)t.removeEventListener(e[a],i)},cumulativeOffset:function(t){var e=0,i=0;do{e+=t.offsetTop||0,i+=t.offsetLeft||0,t=t.offsetParent}while(t);return{top:e,left:i}}},T=["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],C={container:"body",duration:500,lazy:!0,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0};function L(t){C=e({},C,t)}var k=function(){var e,i,a,s,n,o,r,l,c,d,u,h,f,p,g,m,_,b,L,k,x,O,S,M,$,D,F,j=function(t){l&&(S=t,k=!0)};function I(t){var e=t.scrollTop;return"body"===t.tagName.toLowerCase()&&(e=e||document.documentElement.scrollTop),e}function B(t){var e=t.scrollLeft;return"body"===t.tagName.toLowerCase()&&(e=e||document.documentElement.scrollLeft),e}function H(){x=w.cumulativeOffset(i),O=w.cumulativeOffset(e),h&&(g=O.left-x.left+o,b=g-p),f&&(_=O.top-x.top+o,L=_-m)}function E(t){if(k)return R();$||($=t),n||H(),D=t-$,F=Math.min(D/a,1),F=M(F),N(i,m+L*F,p+b*F),D<a?window.requestAnimationFrame(E):R()}function R(){k||N(i,_,g),$=!1,w.off(i,T,j),k&&u&&u(S,e),!k&&d&&d(e)}function N(t,e,i){f&&(t.scrollTop=e),h&&(t.scrollLeft=i),"body"===t.tagName.toLowerCase()&&(f&&(document.documentElement.scrollTop=e),h&&(document.documentElement.scrollLeft=i))}function q(g,x){var O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"===t(x)?O=x:"number"===typeof x&&(O.duration=x),e=w.$(g),!e)return console.warn("[vue-scrollto warn]: Trying to scroll to an element that is not on the page: "+g);if(i=w.$(O.container||C.container),a=O.hasOwnProperty("duration")?O.duration:C.duration,n=O.hasOwnProperty("lazy")?O.lazy:C.lazy,s=O.easing||C.easing,o=O.hasOwnProperty("offset")?O.offset:C.offset,r=O.hasOwnProperty("force")?!1!==O.force:C.force,l=O.hasOwnProperty("cancelable")?!1!==O.cancelable:C.cancelable,c=O.onStart||C.onStart,d=O.onDone||C.onDone,u=O.onCancel||C.onCancel,h=void 0===O.x?C.x:O.x,f=void 0===O.y?C.y:O.y,"function"===typeof o&&(o=o(e,i)),p=B(i),m=I(i),H(),k=!1,!r){var $="body"===i.tagName.toLowerCase()?document.documentElement.clientHeight||window.innerHeight:i.offsetHeight,D=m,F=D+$,R=_-o,N=R+e.offsetHeight;if(R>=D&&N<=F)return void(d&&d(e))}if(c&&c(e),L||b)return"string"===typeof s&&(s=y[s]||y["ease"]),M=v.apply(v,s),w.on(i,T,j,{passive:!0}),window.requestAnimationFrame(E),function(){S=null,k=!0};d&&d(e)}return q},x=k(),O=[];function S(t){for(var e=0;e<O.length;++e)if(O[e].el===t)return O.splice(e,1),!0;return!1}function M(t){for(var e=0;e<O.length;++e)if(O[e].el===t)return O[e]}function $(t){var e=M(t);return e||(O.push(e={el:t,binding:{}}),e)}function D(t){var e=$(this).binding;if(e.value){if(t.preventDefault(),"string"===typeof e.value)return x(e.value);x(e.value.el||e.value.element,e.value)}}var F={bind:function(t,e){$(t).binding=e,w.on(t,"click",D)},unbind:function(t){S(t),w.off(t,"click",D)},update:function(t,e){$(t).binding=e}},j={bind:F.bind,unbind:F.unbind,update:F.update,beforeMount:F.bind,unmounted:F.unbind,updated:F.update,scrollTo:x,bindings:O},I=function(t,e){e&&L(e),t.directive("scroll-to",j);var i=t.config.globalProperties||t.prototype;i.$scrollTo=j.scrollTo};return"undefined"!==typeof window&&window.Vue&&(window.VueScrollTo=j,window.VueScrollTo.setDefaults=L,window.VueScrollTo.scroller=k,window.Vue.use&&window.Vue.use(I)),j.install=I,j})}}]);
//# sourceMappingURL=chunk-7cc8903b.4da7e4b9.js.map