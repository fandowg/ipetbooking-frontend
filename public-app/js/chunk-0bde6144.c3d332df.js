(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bde6144"],{"1acc":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"textarea-box"}},[n("div",{staticClass:"phrase"},[n("el-button-group",e._l(e.fixedPhrase,function(t,i){return n("el-button",{key:i+t,attrs:{type:"primary",plain:""},on:{click:function(n){return e.insertButton(t)}}},[n("BaseIcon",{attrs:{name:"plus"}}),e._v(" "+e._s(t))],1)}),1)],1),e.oneline?n("Editor",{ref:"tinymce",staticClass:"el-textarea__inner oneline",attrs:{"api-key":"no-api-key",init:Object.assign({},e.config,{setup:function(e){e.on("keydown",function(e){13===e.keyCode&&e.preventDefault()})},paste_preprocess:function(e,t){t.content=t.content.replace(/\<p\>/g,""),t.content=t.content.replace(/\<\/p\>/g,"")}})},on:{input:function(t){return e.onChangeText(t)}},model:{value:e.innerText,callback:function(t){e.innerText=t},expression:"innerText"}}):n("Editor",{ref:"tinymce",staticClass:"el-textarea__inner",attrs:{"api-key":"no-api-key",init:e.config},on:{onKeyUp:function(t){return e.onChangeText(t)}},model:{value:e.innerText,callback:function(t){e.innerText=t},expression:"innerText"}})],1)},r=[],a=n("a315"),o={components:{Editor:function(){return Object(a["a"])(n.e("chunk-ff9321ce").then(n.bind(null,"ca72")))}},props:{fixedPhrase:{type:Array,default:function(){return[]}},content:{type:String,default:""},oneline:{type:Boolean,default:!1}},data:function(){return{innerText:this.content,config:{inline:!0,menubar:!1,statusbar:!1,toolbar:!1,plugins:"paste",paste_as_text:!0,gecko_spellcheck:!0,force_br_newlines:!1,force_p_newlines:!1,remove_linebreaks:!1}}},computed:{editor:function(){return this.$refs.tinymce.editor}},created:function(){this.updateInnerText()},mounted:function(){var e=this;this.addLiveListener("click","MARK",function(t){this.preventDefault(),e.removeElement(t)})},methods:{removeElement:function(e){var t=this,n=e.parentNode;n.removeChild(e),this.editor.selection.select(this.editor.getBody(),!0),this.editor.selection.collapse(!1),this.$nextTick(function(){t.emitUpdate()})},addLiveListener:function(e,t,n){function i(e){var i=e.target;i&&i.tagName===t&&n.call(e,i)}this.$el.removeEventListener(e,i),this.$el.addEventListener(e,i)},onChangeText:function(e){13===e.keyCode&&e.preventDefault(),this.emitUpdate()},updateInnerText:function(){this.isHTML(this.innerText)||(this.innerText=this.replaceToMark(this.innerText))},insertButton:function(e){this.editor.insertContent('<mark contenteditable="false">{'.concat(e,"}</mark>")),this.emitUpdate()},getTemplateContent:function(){var e=this.editor.getContent({format:"text"});return e=e.replace(/(\n){3}/g,"<br>"),e=e.replace(/(\n){2}/g,"<br>"),e=e.replace(/\<br\>/g,"\n"),e},getTemplateContentHTML:function(){return this.editor.getContent()},replaceToMark:function(e){return null===e?"":(this.fixedPhrase.forEach(function(t){e=e.replace(new RegExp("{".concat(t,"}"),"g"),'<mark contenteditable="false">'.concat(t,"</mark>"))}),e=this.replaceToBreakLine(e),e)},replaceToString:function(e){return null===e?"":(this.fixedPhrase.forEach(function(t){e=e.replace(new RegExp('<mark contenteditable="false">'.concat(t,"</mark>"),"g"),"{".concat(t,"}"))}),e=this.replaceBreakLine(e),e)},replaceBreakLine:function(e){return null===e?"":(e=e.replace(new RegExp("<div>","g"),"\n"),e=e.replace(new RegExp("<br>","g"),"\n"),e=e.replace(new RegExp("</div>","g"),""),e=e.replace(new RegExp("&nbsp;","g")," "),e)},replaceToBreakLine:function(e){return null===e?"":(e=e.replace(new RegExp("\n","g"),"<p></p>"),e)},emitUpdate:function(){this.$emit("update")},isHTML:function(e){return!!e&&e.includes("<p>")}}},c=o,s=(n("861b"),n("2877")),l=Object(s["a"])(c,i,r,!1,null,null,null);t["default"]=l.exports},"861b":function(e,t,n){"use strict";var i=n("cbb7"),r=n.n(i);r.a},cbb7:function(e,t,n){}}]);
//# sourceMappingURL=chunk-0bde6144.c3d332df.js.map