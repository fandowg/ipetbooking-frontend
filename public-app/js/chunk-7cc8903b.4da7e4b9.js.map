{"version":3,"sources":["webpack:///./src/router/views/chat/components/ChatDialog.vue?2808","webpack:///src/router/views/chat/components/ChatDialog.vue","webpack:///./src/router/views/chat/components/ChatDialog.vue?d41e","webpack:///./src/router/views/chat/components/ChatDialog.vue?4fdb","webpack:///./src/router/views/chat/components/ChatDialog.vue?787e","webpack:///./src/router/views/chat/components/ChatDialog.vue?75c0","webpack:///./node_modules/vue-scrollto/vue-scrollto.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","class","$style","wrap","ref","staticClass","attrs","id","on","scroll","onScroll","loading","disabled","_v","flip","tag","_l","log","index","undefined","dateTime","key","_s","formatDate","rid","data","sender","memberId","focused","order","state","_f","status","click","$event","showOrderDetail","_e","reply","scrollToMessageOrFetchMessage","message","attached","length","file-list","needUpdate","created_at","updateReply","icon-style","errorList","includes","scrollToBottom","nothingToLoading_previous","loading_previous","onClickPrevious","history","history_request_id","nothingToLoading_latest","loading_latest","onClickLatest","circle","onLeaveHistory","replyTo","type","clearReply","resource","showUpload","staticStyle","min-height","autosize","minRows","maxRows","resize","placeholder","nativeOn","keypress","indexOf","_k","keyCode","ctrlKey","shiftKey","altKey","metaKey","onSend","model","callback","$$v","submitText","trim","isEmptyFile","staticRenderFns","makeid","result","characters","charactersLength","i","charAt","Math","floor","random","ChatDialogvue_type_script_lang_js_","components","BaseStateLabel","Object","lazyload_component","__webpack_require__","e","then","bind","FileUpload","FileGallery","filters","orderStatusFilter","filter_value_to_text","format_date","props","dialogVisible","Boolean","phone","String","required","echo","scrollOptions","container","easing","force","cancelable","x","y","logList","historyList","mode","lastMessageId","nothingToLoading","message_per_page","$route","params","previous_page","history_previous_page","history_latest_page","showNewLog","tryingSendMessage","tryingFetchSpecificChat","unwatch","cachedTimestamp","Date","now","toString","computed","objectSpread","helpers","showReply","keys","isLog","isHistory","isHttps","window","location","protocol","created","_this","messageId","tryToFetchSpecificChat","tryToFetchHistory","$store","watch","member","cachedMessageId","ID","mounted","initEcho","tryToStoreChatReaded","beforeDestroy","closeEcho","dispatch","methods","_this2","host_port","document","client","lib_default","a","broadcaster","host","hostname","namespace","auth","headers","Authorization","currentUser","token","private","concat","listen","chat","push","showNotification","_tryToFetchHistory","asyncToGenerator","regenerator_default","mark","_callee","_this3","_context","prev","next","page","limit","request_time","sent","mergeList","$nextTick","setTimeout","stop","apply","arguments","_tryToStoreChatReaded","_callee2","_context2","member_id","tryToFetchMoreChat","_tryToFetchMoreChat","_callee3","forward","more","_context3","request_id","per_page","reverse","_x","_tryToFetchSpecificChat","_callee4","specific","_this4","_context4","resetHistoryPagination","display","insertDateBeforeMessage","changeMode","scrollToElement","_x2","tryToSendChat","_tryToSendChat","_callee5","messageData","_context5","toConsumableArray","$refs","fileList","merchantId","clearFileList","content","timestamp","updateOnViewMessage","t0","finish","tryToReplyChat","_tryToReplyChat","_callee6","_context6","_x3","leave","_this5","preventDefault","navigator","onLine","console","_this6","some","splice","_this7","isMessageOnView","el","vue_scrollto_default","scrollTo","logs","scrollTop","scrollHeight","assign","lodash","_callee7","IS_TOP","IS_BOTTOM","_context7","clientHeight","abrupt","_this$historyList","_this$historyList2","_this$logList","list","is_latest_search","findMessageId","unshift","updateNothingLoadingState","scrollToLastMessage","filter","item","slice","reduce","current","parse","split","_this8","isLoadingPreviousMessageOrEmptyList","messageCount","offset","SEARCH_MESSAGES","RESPONSE_MESSAGES","resetLoadingState","orderId","$emit","_this9","_onClickPrevious","_callee8","_context8","_onClickLatest","_callee9","_context9","_this10","DISTANCE_FROM_BOTTOM","input","components_ChatDialogvue_type_script_lang_js_","injectStyles","context","ChatDialogvue_type_style_index_0_lang_scss_module_true_","locals","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatDialog_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatDialog_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","module","exports","slide","slide-reverse","blink","blink-infinite","refresh","uploader","uploader__icon","uploader__limit","uploader--circle","actions","is-emtpy","global","factory","_typeof","obj","Symbol","iterator","constructor","prototype","_extends","target","source","hasOwnProperty","call","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","Float32Array","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","abs","newtonRaphsonIterate","aGuessT","currentSlope","LinearEasing","src","mY1","mY2","Error","sampleValues","Array","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","easings","ease","linear","ease-in","ease-out","ease-in-out","supportsPassive","opts","defineProperty","get","addEventListener","_","$","selector","querySelector","element","events","handler","passive","off","removeEventListener","cumulativeOffset","top","left","offsetTop","offsetLeft","offsetParent","abortEvents","defaults","duration","lazy","onStart","onDone","onCancel","setDefaults","options","scroller","initialX","targetX","initialY","targetY","diffX","diffY","abort","cumulativeOffsetContainer","cumulativeOffsetElement","abortEv","easingFn","timeStart","timeElapsed","progress","abortFn","tagName","toLowerCase","documentElement","scrollLeft","recalculateTargets","step","done","min","topLeft","requestAnimationFrame","_duration","warn","containerHeight","innerHeight","offsetHeight","containerTop","containerBottom","elementTop","elementBottom","_scroller","bindings","deleteBinding","findBinding","getBinding","binding","handleClick","ctx","directiveHooks","unbind","update","VueScrollTo","beforeMount","unmounted","updated","install","Vue","directive","properties","config","globalProperties","$scrollTo","use"],"mappings":"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","file":"js/chunk-7cc8903b.4da7e4b9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tryingFetchSpecificChat),expression:\"tryingFetchSpecificChat\"}],class:_vm.$style.wrap},[(_vm.isLog)?_c('div',{ref:\"logs\",staticClass:\"log\",attrs:{\"id\":\"log-container\"},on:{\"scroll\":_vm.onScroll}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"log-item\"},[_c('el-button',{staticClass:\"loading-chat\",attrs:{\"loading\":_vm.loading,\"disabled\":\"\"}},[_vm._v(\"載入中...\")])],1),_c('transition-group',{attrs:{\"name\":_vm.$style.flip,\"tag\":\"div\"}},[_vm._l((_vm.logList),function(log,index){return [(log.dateTime !== undefined)?_c('div',{key:((log.dateTime) + \"-\" + index),staticClass:\"log-item log-date\"},[_c('span',[_vm._v(_vm._s(_vm.formatDate(log.dateTime, 'dateWeekDay')))])]):_c('div',{key:(\"log-item-\" + (log.rid ? log.rid : log.data.id)),class:['log-item', log.data.sender.id === _vm.memberId ? 'member' : 'merchant'],attrs:{\"id\":(\"log-item-\" + (log.data.id))}},[_c('div',{class:['content', _vm.focused === log.data.id ? 'focus' : '']},[(log.data.order !== null)?_c('div',{staticClass:\"order content-child\"},[_c('div',[_c('BaseStateLabel',{attrs:{\"state\":_vm._f(\"orderStatusFilter\")(log.data.order.status,'color')}},[_vm._v(_vm._s(_vm._f(\"orderStatusFilter\")(log.data.order.status,'text')))]),_c('span',[_vm._v(\" #\"+_vm._s(log.data.order.id))])],1),_c('el-button',{on:{\"click\":function($event){return _vm.showOrderDetail(log.data.order.id)}}},[_vm._v(\"查看\")])],1):_vm._e(),(!!log.data.reply)?_c('div',{staticClass:\"reply content-child\",on:{\"click\":function($event){return _vm.scrollToMessageOrFetchMessage(log.data.reply.data.id)}}},[_vm._v(\"\\n              回覆：\\n              \"),(log.data.reply.data.message !== null)?_c('span',[_vm._v(_vm._s(log.data.reply.data.message))]):_c('BaseIcon',{attrs:{\"name\":\"image\"}})],1):_vm._e(),(log.data.message !== null)?_c('div',{staticClass:\"message content-child\"},[_vm._v(_vm._s(log.data.message))]):_vm._e(),(log.data.attached !== null && log.data.attached.length > 0)?[_c('div',{staticClass:\"files content-child\"},[_c('FileGallery',{attrs:{\"file-list\":log.data.attached}})],1)]:_vm._e()],2),(log.needUpdate !== true)?_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(log.data.created_at,'time')))]):_c('div',{staticClass:\"time\"}),(log.needUpdate !== true)?_c('el-button',{on:{\"click\":function($event){return _vm.updateReply(log)}}},[_c('BaseIcon',{attrs:{\"icon-style\":\"fas\",\"name\":\"reply\"}})],1):_vm._e(),(_vm.errorList.includes(log.data.id))?_c('div',{staticClass:\"error\"},[_vm._v(\"此訊息傳送失敗\")]):_vm._e()],1)]})],2),(_vm.showNewLog)?_c('div',{staticClass:\"new-log\",on:{\"click\":_vm.scrollToBottom}},[_vm._v(\"有新訊息\")]):_vm._e()],1):_c('div',{ref:\"historys\",staticClass:\"log\",attrs:{\"id\":\"log-container\"}},[(!_vm.nothingToLoading_previous)?_c('div',{staticClass:\"log-item loading_previous\"},[_c('el-button',{staticClass:\"loading-history\",attrs:{\"loading\":_vm.loading_previous,\"disabled\":_vm.loading_previous},on:{\"click\":_vm.onClickPrevious}},[_vm._v(\"載入更多...\")])],1):_vm._e(),_c('transition-group',{attrs:{\"name\":_vm.$style.flip,\"tag\":\"div\"}},[_vm._l((_vm.historyList),function(history,index){return [(history.dateTime !== undefined)?_c('div',{key:((history.dateTime) + \"-\" + index),staticClass:\"log-item log-date\"},[_c('span',[_vm._v(_vm._s(_vm.formatDate(history.dateTime, 'dateWeekDay')))])]):_c('div',{key:(\"log-item-\" + (history.data.id)),class:['log-item', history.data.sender.id === _vm.memberId ? 'member' : 'merchant'],attrs:{\"id\":(\"log-item-\" + (history.data.id))}},[_c('div',{class:['content', _vm.focused === history.data.id ? 'focus' : '', _vm.history_request_id === history.data.id ? 'focused-infinite' : '']},[(history.data.order !== null)?_c('div',{staticClass:\"order content-child\"},[_c('div',{staticClass:\"order-title\"},[_c('BaseStateLabel',{attrs:{\"state\":_vm._f(\"orderStatusFilter\")(history.data.order.status,'color')}},[_vm._v(_vm._s(_vm._f(\"orderStatusFilter\")(history.data.order.status,'text')))]),_c('span',[_vm._v(\" #\"+_vm._s(history.data.order.id))])],1),_c('el-button',{on:{\"click\":function($event){return _vm.showOrderDetail(history.data.order.id)}}},[_vm._v(\"查看\")])],1):_vm._e(),(!!history.data.reply)?_c('div',{staticClass:\"reply content-child\",on:{\"click\":function($event){return _vm.scrollToMessageOrFetchMessage(history.data.reply.data.id)}}},[_vm._v(\"\\n              回覆：\\n              \"),(history.data.reply.data.message !== null)?_c('span',[_vm._v(_vm._s(history.data.reply.data.message))]):_c('BaseIcon',{attrs:{\"name\":\"image\"}})],1):_vm._e(),(history.data.message !== null)?_c('div',{staticClass:\"message content-child\"},[_vm._v(_vm._s(history.data.message))]):_vm._e(),(history.data.attached !== null && history.data.attached.length > 0)?[_c('div',{staticClass:\"files content-child\"},[_c('FileGallery',{attrs:{\"file-list\":history.data.attached}})],1)]:_vm._e()],2),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(history.data.created_at,'time')))]),_c('el-button',{on:{\"click\":function($event){return _vm.updateReply(history)}}},[_c('BaseIcon',{attrs:{\"icon-style\":\"fas\",\"name\":\"reply\"}})],1)],1)]})],2),(!_vm.nothingToLoading_latest)?_c('div',{staticClass:\"log-item loading_latest\"},[_c('el-button',{staticClass:\"loading-history\",attrs:{\"loading\":_vm.loading_latest,\"disabled\":_vm.loading_latest},on:{\"click\":_vm.onClickLatest}},[_vm._v(\"載入更多...\")])],1):_vm._e(),_c('el-button',{class:_vm.$style['leave'],attrs:{\"circle\":\"\"},on:{\"click\":_vm.onLeaveHistory}},[_c('BaseIcon',{attrs:{\"name\":\"arrow-down\"}})],1)],1),(_vm.showReply)?_c('div',{staticClass:\"reply-to\"},[_c('div',{staticClass:\"reply-to-message\"},[_vm._v(\"\\n      回覆：\\n      \"),(_vm.replyTo.data.message !== null)?_c('span',[_vm._v(_vm._s(_vm.replyTo.data.message))]):_c('BaseIcon',{attrs:{\"name\":\"image\"}})],1),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.clearReply}},[_c('BaseIcon',{attrs:{\"name\":\"times\"}})],1)],1):_vm._e(),_c('div',{staticClass:\"upload-image-area\"},[_c('FileUpload',{ref:\"file-upload\",attrs:{\"resource\":'merchant'}})],1),_c('div',{staticClass:\"textarea\"},[_c('el-button',{staticClass:\"upload-image\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.showUpload}},[_c('BaseIcon',{attrs:{\"name\":\"image\"}})],1),_c('el-input',{staticStyle:{\"min-height\":\"46.5px\"},attrs:{\"autosize\":{ minRows: 1, maxRows: 5 },\"type\":\"textarea\",\"resize\":\"none\",\"placeholder\":\"請輸入訊息\"},nativeOn:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }return _vm.onSend($event)}},model:{value:(_vm.submitText),callback:function ($$v) {_vm.submitText=$$v},expression:\"submitText\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.submitText.trim().length === 0 && _vm.isEmptyFile()},on:{\"click\":_vm.onSend}},[_c('BaseIcon',{attrs:{\"name\":\"paper-plane\"}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport lazyLoadComponent from '@router/lazyload-component'\nimport formatDate from '@utils/format-date'\nimport { throttle } from 'lodash'\nimport { orderStatusFilter } from '@utils/filter-value-to-text'\nimport { authComputed } from '@state/helpers'\nimport io from 'socket.io-client'\nimport Echo from 'laravel-echo'\nimport VueScrollTo from 'vue-scrollto'\n\nfunction makeid(length) {\n  var result = ''\n  var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n  var charactersLength = characters.length\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength))\n  }\n  return result\n}\n\nexport default {\n  components: {\n    BaseStateLabel: () => lazyLoadComponent(import('@components/BaseStateLabel')),\n\n    FileUpload: () => lazyLoadComponent(import('./FileUpload')),\n    FileGallery: () => lazyLoadComponent(import('./FileGallery')),\n  },\n  filters: {\n    orderStatusFilter,\n    formatDate,\n  },\n  props: {\n    dialogVisible: {\n      type: Boolean,\n    },\n    phone: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      submitText: '',\n      echo: {},\n      scrollOptions: {\n        container: '#log-container',\n        easing: 'cubic-bezier(0.4, 0.0, 1, 1)',\n        // offset: -60,\n        force: true,\n        cancelable: true,\n        x: false,\n        y: true,\n      },\n      logList: [],\n      historyList: [],\n      replyTo: {},\n      focused: '',\n      status: '1',\n      mode: 'log',\n      loading: false,\n      loading_previous: false,\n      loading_latest: false,\n      lastMessageId: '',\n      nothingToLoading: false,\n      nothingToLoading_previous: false,\n      nothingToLoading_latest: false,\n\n      message_per_page: 10,\n      memberId: this.$route.params.memberId,\n      previous_page: 1,\n      history_request_id: '',\n      history_previous_page: 1,\n      history_latest_page: 1,\n\n      errorList: [],\n      showNewLog: false,\n\n      tryingSendMessage: false,\n      tryingFetchSpecificChat: false,\n\n      unwatch: {},\n      cachedTimestamp: Date.now().toString(),\n    }\n  },\n  computed: {\n    ...authComputed,\n    showReply() {\n      return Object.keys(this.replyTo).length > 0\n    },\n    isLog() {\n      return this.mode === 'log'\n    },\n    isHistory() {\n      return this.mode === 'history'\n    },\n    isHttps() {\n      return window.location.protocol === 'https:'\n    },\n  },\n  created() {\n    if (this.$route.params.messageId) this.tryToFetchSpecificChat(this.$route.params.messageId)\n    else this.tryToFetchHistory()\n\n    // if order detail showChatHistory method triggered\n    this.unwatch = this.$store.watch(\n      (state) => {\n        return state.member.cachedMessageId\n      },\n      (ID) => {\n        if (ID === '') return\n        this.scrollToMessageOrFetchMessage(ID)\n      }\n    )\n  },\n  mounted() {\n    if (this.isHttps) this.initEcho()\n\n    this.tryToStoreChatReaded()\n  },\n  beforeDestroy() {\n    if (this.isHttps) this.closeEcho()\n    this.tryToStoreChatReaded()\n    this.unwatch()\n    this.$store.dispatch('member/updateActiveChatMemberId', '')\n  },\n  methods: {\n    formatDate,\n    initEcho() {\n      const host_port = document.location.protocol === 'https:' ? ':8443' : ':6001'\n      this.echo = new Echo({\n        client: io,\n        broadcaster: 'socket.io',\n        host: window.location.hostname + host_port,\n        namespace: 'DaydreamLab.Dddream.Events.Chat',\n        auth: {\n          headers: {\n            Authorization: 'Bearer ' + this.currentUser.token,\n          },\n        },\n      })\n\n      this.echo.private(`chat.${this.memberId}`).listen('ChatSendMessageEvent', (chat) => {\n        if (chat.data.data.sender.id !== this.memberId) return\n        this.logList.push(chat.data)\n        this.showNotification()\n      })\n    },\n    async tryToFetchHistory() {\n      this.loading = true\n      const chat = await this.$store.dispatch('member/fetchSingleChat', {\n        phone: this.phone,\n        page: this.previous_page,\n        limit: this.message_per_page,\n        request_time: this.cachedTimestamp,\n      })\n      this.mergeList(chat)\n      this.loading = false\n      if (this.previous_page === 1)\n        this.$nextTick(() => {\n          this.scrollToBottom()\n          setTimeout(this.scrollToBottom, 500) // for image lazyload problem\n        })\n    },\n    async tryToStoreChatReaded() {\n      await this.$store.dispatch('member/storeChatReaded', {\n        member_id: this.memberId,\n        type: 'chat',\n      })\n    },\n    async tryToFetchMoreChat(forward) {\n      const page = forward === 'older' ? this.history_previous_page : this.history_latest_page\n      const more = await this.$store.dispatch('member/fetchMoreChat', {\n        request_id: this.history_request_id,\n        phone: this.phone,\n        per_page: this.message_per_page,\n        forward,\n        page,\n      })\n      this.mergeList(forward === 'newer' ? more : more.reverse(), forward === 'newer')\n    },\n    async tryToFetchSpecificChat(request_id) {\n      this.tryingFetchSpecificChat = true\n      this.history_request_id = request_id\n      this.resetHistoryPagination()\n      const specific = await this.$store.dispatch('member/fetchSpecificChat', {\n        phone: this.phone,\n        request_id,\n        display: this.message_per_page,\n      })\n      this.historyList = this.insertDateBeforeMessage(specific)\n\n      this.changeMode('history')\n      this.tryingFetchSpecificChat = false\n      this.$nextTick(() => {\n        setTimeout(() => {\n          this.scrollToElement(`#log-item-${request_id}`)\n        }, 100)\n      })\n    },\n    async tryToSendChat() {\n      this.tryingSendMessage = true\n      const rid = makeid(20)\n      const message = this.submitText || null\n      const attached = [...this.$refs['file-upload'].fileList]\n      try {\n        this.logList.push({\n          type: 'request',\n          data: {\n            id: rid,\n            sender: {\n              id: this.currentUser.merchantId,\n            },\n            message,\n            reply: null,\n            order: null,\n            // created_at: '2020-08-01 12:29:00',\n            attached,\n          },\n          needUpdate: true,\n        })\n\n        this.submitText = ''\n        this.$refs['file-upload'].clearFileList()\n\n        const messageData = await this.$store.dispatch('member/sendChat', {\n          content: message,\n          phone: this.phone,\n          attached,\n          timestamp: Date.now().toString(),\n        })\n        this.updateOnViewMessage(rid, messageData)\n      } catch (e) {\n        this.errorList.push(rid)\n      } finally {\n        this.tryingSendMessage = false\n      }\n    },\n    async tryToReplyChat(content) {\n      this.tryingSendMessage = true\n      const rid = makeid(20)\n      const message = this.submitText || null\n      const request_id = this.replyTo.data.id\n      const attached = [...this.$refs['file-upload'].fileList]\n      try {\n        this.logList.push({\n          type: 'reply',\n          data: {\n            id: rid,\n            sender: {\n              id: this.currentUser.merchantId,\n            },\n            // isRead: 0,\n            message,\n            reply: {\n              data: {\n                id: this.replyTo.data.id,\n                message: this.replyTo.data.message,\n              },\n            },\n            order: null,\n            // created_at: '2020-08-19 12:31:00',\n            attached,\n          },\n          needUpdate: true,\n        })\n\n        this.submitText = ''\n        this.clearReply()\n        this.$refs['file-upload'].clearFileList()\n\n        const messageData = await this.$store.dispatch('member/replyChat', {\n          content: message,\n          request_id,\n          phone: this.phone,\n          attached,\n          timestamp: Date.now().toString(),\n        })\n        this.updateOnViewMessage(rid, messageData)\n      } catch (e) {\n        this.errorList.push(rid)\n      } finally {\n        this.tryingSendMessage = false\n      }\n    },\n\n    closeEcho() {\n      this.echo.leave(`chat.${this.memberId}`)\n    },\n    onSend(e) {\n      // prevent change line\n      e.preventDefault()\n      if (this.submitText.trim() === '' && this.isEmptyFile()) return\n      try {\n        if (this.showReply) this.tryToReplyChat()\n        else this.tryToSendChat()\n      } catch (e) {\n        if (!navigator.onLine) console.log('status: Offline')\n      } finally {\n        if (this.isLog)\n          this.$nextTick(() => {\n            this.scrollToBottom()\n          })\n      }\n    },\n    updateOnViewMessage(rid, data) {\n      this.logList.some((log, index) => {\n        if (log.data === undefined) return false\n        if (log.data.id === rid) {\n          this.logList.splice(index, 1, { ...data, rid })\n          return true\n        }\n        return false\n      })\n    },\n    scrollToMessageOrFetchMessage(id) {\n      if (this.isMessageOnView(id)) {\n        this.scrollToElement(`#log-item-${id}`)\n        this.focused = id\n        this.$nextTick(() => {\n          setTimeout(() => {\n            this.focused = ''\n          }, 5000)\n        })\n      } else {\n        this.tryToFetchSpecificChat(id)\n      }\n    },\n    isMessageOnView(id) {\n      return this[`${this.mode}List`].some((log) => {\n        if (!!log.data && log.data.id === id) return true\n        return false\n      })\n    },\n    scrollToElement(el) {\n      VueScrollTo.scrollTo(el, 500, this.scrollOptions)\n    },\n    scrollToBottom() {\n      this.$refs.logs.scrollTop = this.$refs.logs.scrollHeight\n    },\n    updateReply(data) {\n      this.replyTo = Object.assign({}, data)\n    },\n    clearReply() {\n      this.replyTo = {}\n    },\n    onScroll: throttle(async function() {\n      const IS_TOP = this.$refs.logs.scrollTop === 0\n      const IS_BOTTOM = this.$refs.logs.scrollHeight === this.$refs.logs.scrollTop + this.$refs.logs.clientHeight\n\n      if (IS_TOP) {\n        if (this.isHistory || this.nothingToLoading || this.loading) return\n        this.previous_page++\n        await this.tryToFetchHistory()\n      } else if (IS_BOTTOM) {\n        this.showNewLog = false\n      }\n    }, 500),\n\n    mergeList(list = [], is_latest_search = false) {\n      if (this.isHistory) {\n        this.lastMessageId = this.findMessageId(this.historyList, is_latest_search)\n        is_latest_search ? this.historyList.push(...list) : this.historyList.unshift(...list)\n        this.historyList = this.insertDateBeforeMessage(this.historyList)\n      } else {\n        this.lastMessageId = this.findMessageId(this.logList)\n        this.logList.unshift(...list)\n        this.logList = this.insertDateBeforeMessage(this.logList)\n      }\n      this.updateNothingLoadingState(list, is_latest_search)\n      this.scrollToLastMessage(list, is_latest_search)\n    },\n    findMessageId(list, is_latest_search = false) {\n      if (list.length === 0) return ''\n      if (is_latest_search) return list.filter((item) => item.data !== undefined).slice(-1)[0].data.id\n      else return list.filter((item) => item.data !== undefined)[0].data.id\n    },\n    insertDateBeforeMessage(data) {\n      const list = []\n      data\n        .filter((item) => item.data !== undefined)\n        .reduce((prev, current, index) => {\n          if (Date.parse(prev) < Date.parse(current.data.created_at.split(' ')[0])) {\n            list.push({ dateTime: current.data.created_at })\n            list.push({ ...current })\n            return current.data.created_at.split(' ')[0]\n          }\n          list.push({ ...current })\n          return prev.split(' ')[0]\n        }, '1970-01-01')\n      return list\n    },\n    scrollToLastMessage(list = [], is_latest_search = false) {\n      const isLoadingPreviousMessageOrEmptyList = is_latest_search || list.length === 0\n      if (isLoadingPreviousMessageOrEmptyList) return\n      const messageCount = list.length\n      this.$nextTick(() => {\n        VueScrollTo.scrollTo(`#log-item-${this.lastMessageId}`, -1, { ...this.scrollOptions, offset: messageCount >= 5 ? -280 : -100 })\n        // this.$refs[`${this.mode}s`].scrollTop = document.getElementById(`log-item-${this.lastMessageId}`).offsetTop - 250\n      })\n    },\n    updateNothingLoadingState(list = [], is_latest_search = false) {\n      const SEARCH_MESSAGES = this.message_per_page\n      const RESPONSE_MESSAGES = list.length\n      if (is_latest_search) this.nothingToLoading_latest = RESPONSE_MESSAGES !== SEARCH_MESSAGES && is_latest_search\n      else this.nothingToLoading = this.nothingToLoading_previous = RESPONSE_MESSAGES !== SEARCH_MESSAGES && !is_latest_search\n    },\n    resetLoadingState() {\n      this.nothingToLoading = this.nothingToLoading_previous = this.nothingToLoading_latest = false\n    },\n    showOrderDetail(orderId) {\n      this.$emit('show-order', orderId)\n    },\n    changeMode(mode) {\n      this.mode = mode\n      this.resetLoadingState()\n    },\n    onLeaveHistory() {\n      this.history_request_id = ''\n      this.changeMode('log')\n\n      if (this.logList.length === 0) this.tryToFetchHistory()\n      else\n        this.$nextTick(() => {\n          this.scrollToBottom()\n        })\n    },\n    async onClickPrevious() {\n      this.loading_previous = true\n\n      await this.tryToFetchMoreChat('older')\n      this.history_previous_page++\n      this.loading_previous = false\n    },\n    async onClickLatest() {\n      this.loading_latest = true\n\n      await this.tryToFetchMoreChat('newer')\n      this.history_latest_page++\n      this.loading_latest = false\n    },\n    resetHistoryPagination() {\n      this.history_previous_page = 1\n      this.history_latest_page = 1\n    },\n    showNotification() {\n      if (this.isHistory) return\n      const DISTANCE_FROM_BOTTOM = this.$refs.logs.scrollHeight - (this.$refs.logs.scrollTop + this.$refs.logs.clientHeight)\n      if (DISTANCE_FROM_BOTTOM >= 150) {\n        this.showNewLog = true\n      } else\n        this.$nextTick(() => {\n          this.scrollToBottom()\n        })\n    },\n    showUpload() {\n      this.$refs['file-upload'].$refs['el-upload'].$refs['upload-inner'].$refs.input.click()\n    },\n    isEmptyFile() {\n      return this.$refs['file-upload'] !== undefined ? (this.$refs['file-upload'].fileList !== undefined ? this.$refs['file-upload'].fileList.length === 0 : true) : true\n    },\n  },\n}\n</script>\n\n<template>\n  <div v-loading=\"tryingFetchSpecificChat\" :class=\"$style.wrap\">\n    <div v-if=\"isLog\" id=\"log-container\" ref=\"logs\" class=\"log\" @scroll=\"onScroll\">\n      <div v-show=\"loading\" class=\"log-item\"><el-button class=\"loading-chat\" :loading=\"loading\" disabled>載入中...</el-button></div>\n\n      <transition-group :name=\"$style.flip\" tag=\"div\">\n        <template v-for=\"(log, index) in logList\">\n          <div v-if=\"log.dateTime !== undefined\" :key=\"`${log.dateTime}-${index}`\" class=\"log-item log-date\"\n            ><span>{{ formatDate(log.dateTime, 'dateWeekDay') }}</span></div\n          >\n          <div v-else :id=\"`log-item-${log.data.id}`\" :key=\"`log-item-${log.rid ? log.rid : log.data.id}`\" :class=\"['log-item', log.data.sender.id === memberId ? 'member' : 'merchant']\">\n            <div :class=\"['content', focused === log.data.id ? 'focus' : '']\">\n              <div v-if=\"log.data.order !== null\" class=\"order content-child\">\n                <div>\n                  <BaseStateLabel :state=\"log.data.order.status | orderStatusFilter('color')\">{{ log.data.order.status | orderStatusFilter('text') }}</BaseStateLabel>\n                  <span> #{{ log.data.order.id }}</span>\n                </div>\n                <el-button @click=\"showOrderDetail(log.data.order.id)\">查看</el-button>\n              </div>\n              <div v-if=\"!!log.data.reply\" class=\"reply content-child\" @click=\"scrollToMessageOrFetchMessage(log.data.reply.data.id)\">\n                回覆：\n                <span v-if=\"log.data.reply.data.message !== null\">{{ log.data.reply.data.message }}</span>\n                <BaseIcon v-else name=\"image\" />\n              </div>\n\n              <div v-if=\"log.data.message !== null\" class=\"message content-child\">{{ log.data.message }}</div>\n              <template v-if=\"log.data.attached !== null && log.data.attached.length > 0\">\n                <div class=\"files content-child\">\n                  <FileGallery :file-list=\"log.data.attached\" />\n                </div>\n              </template>\n            </div>\n\n            <div v-if=\"log.needUpdate !== true\" class=\"time\">{{ log.data.created_at | formatDate('time') }}</div>\n            <div v-else class=\"time\"></div>\n\n            <el-button v-if=\"log.needUpdate !== true\" @click=\"updateReply(log)\"><BaseIcon icon-style=\"fas\" name=\"reply\"/></el-button>\n            <div v-if=\"errorList.includes(log.data.id)\" class=\"error\">此訊息傳送失敗</div>\n          </div>\n        </template>\n      </transition-group>\n\n      <div v-if=\"showNewLog\" class=\"new-log\" @click=\"scrollToBottom\">有新訊息</div>\n    </div>\n\n    <div v-else id=\"log-container\" ref=\"historys\" class=\"log\">\n      <div v-if=\"!nothingToLoading_previous\" class=\"log-item loading_previous\"\n        ><el-button class=\"loading-history\" :loading=\"loading_previous\" :disabled=\"loading_previous\" @click=\"onClickPrevious\">載入更多...</el-button></div\n      >\n      <transition-group :name=\"$style.flip\" tag=\"div\">\n        <template v-for=\"(history, index) in historyList\">\n          <div v-if=\"history.dateTime !== undefined\" :key=\"`${history.dateTime}-${index}`\" class=\"log-item log-date\"\n            ><span>{{ formatDate(history.dateTime, 'dateWeekDay') }}</span></div\n          >\n          <div v-else :id=\"`log-item-${history.data.id}`\" :key=\"`log-item-${history.data.id}`\" :class=\"['log-item', history.data.sender.id === memberId ? 'member' : 'merchant']\">\n            <div :class=\"['content', focused === history.data.id ? 'focus' : '', history_request_id === history.data.id ? 'focused-infinite' : '']\">\n              <div v-if=\"history.data.order !== null\" class=\"order content-child\">\n                <div class=\"order-title\">\n                  <BaseStateLabel :state=\"history.data.order.status | orderStatusFilter('color')\">{{ history.data.order.status | orderStatusFilter('text') }}</BaseStateLabel>\n                  <span> #{{ history.data.order.id }}</span></div\n                >\n                <el-button @click=\"showOrderDetail(history.data.order.id)\">查看</el-button>\n              </div>\n              <div v-if=\"!!history.data.reply\" class=\"reply content-child\" @click=\"scrollToMessageOrFetchMessage(history.data.reply.data.id)\">\n                回覆：\n                <span v-if=\"history.data.reply.data.message !== null\">{{ history.data.reply.data.message }}</span>\n                <BaseIcon v-else name=\"image\" />\n              </div>\n\n              <div v-if=\"history.data.message !== null\" class=\"message content-child\">{{ history.data.message }}</div>\n              <template v-if=\"history.data.attached !== null && history.data.attached.length > 0\">\n                <div class=\"files content-child\">\n                  <FileGallery :file-list=\"history.data.attached\" />\n                </div>\n              </template>\n            </div>\n            <div class=\"time\">{{ history.data.created_at | formatDate('time') }}</div>\n            <el-button @click=\"updateReply(history)\"><BaseIcon icon-style=\"fas\" name=\"reply\"/></el-button>\n          </div>\n        </template>\n      </transition-group>\n\n      <div v-if=\"!nothingToLoading_latest\" class=\"log-item loading_latest\"\n        ><el-button class=\"loading-history\" :loading=\"loading_latest\" :disabled=\"loading_latest\" @click=\"onClickLatest\">載入更多...</el-button></div\n      >\n\n      <el-button :class=\"$style['leave']\" circle @click=\"onLeaveHistory\"><BaseIcon name=\"arrow-down\"/></el-button>\n    </div>\n\n    <div v-if=\"showReply\" class=\"reply-to\">\n      <div class=\"reply-to-message\">\n        回覆：\n        <span v-if=\"replyTo.data.message !== null\">{{ replyTo.data.message }}</span>\n        <BaseIcon v-else name=\"image\" />\n      </div>\n      <el-button type=\"text\" @click=\"clearReply\"><BaseIcon name=\"times\"/></el-button>\n    </div>\n    <div class=\"upload-image-area\"><FileUpload ref=\"file-upload\" :resource=\"'merchant'\"/></div>\n    <div class=\"textarea\">\n      <el-button class=\"upload-image\" type=\"text\" @click=\"showUpload\"><BaseIcon name=\"image\"/></el-button>\n      <el-input\n        v-model=\"submitText\"\n        :autosize=\"{ minRows: 1, maxRows: 5 }\"\n        type=\"textarea\"\n        resize=\"none\"\n        placeholder=\"請輸入訊息\"\n        style=\"min-height: 46.5px;\"\n        @keypress.enter.native.exact=\"onSend\"\n      ></el-input>\n      <el-button type=\"primary\" :disabled=\"submitText.trim().length === 0 && isEmptyFile()\" @click=\"onSend\"><BaseIcon name=\"paper-plane\"/></el-button\n    ></div>\n  </div>\n</template>\n\n<style lang=\"scss\" module>\n@import '@design';\n\n.wrap {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  :global {\n    .log {\n      flex-grow: 1;\n      padding: 20px;\n      overflow: scroll;\n      .loading-chat {\n        width: 100%;\n        border: none;\n        background: transparent;\n      }\n      .loading-history {\n        border-radius: 20px;\n        width: 100%;\n        color: $color-primary;\n        border-color: $color-primary;\n      }\n      .log-item {\n        display: flex;\n        align-items: center;\n        transition: all 0.2s;\n        position: relative;\n        .content {\n          border: 1px solid #dcdfe6;\n          line-height: 1.5em;\n          white-space: break-spaces;\n          .order,\n          .reply {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 10px;\n            font-size: 12px;\n            button {\n              margin-left: 40px;\n            }\n            .order-title {\n              display: flex;\n              align-items: center;\n            }\n          }\n          .message {\n            padding: 10px;\n          }\n          .reply {\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            max-width: 386px;\n            justify-content: inherit;\n            cursor: pointer;\n            svg {\n              font-size: 18px;\n            }\n          }\n          &.focus {\n            & :local {\n              animation: blink 5s;\n            }\n          }\n          &.focused-infinite {\n            & :local {\n              animation: blink-infinite 1s infinite ease-in-out;\n            }\n          }\n          &.first {\n            background: lightgreen;\n          }\n          .files {\n            flex-wrap: wrap;\n            display: flex;\n            padding: 10px 5px 0px 5px;\n            .image-and-action {\n              position: relative;\n            }\n          }\n          .content-child + .content-child {\n            border-top: 1px solid #dcdfe6;\n          }\n        }\n        .time {\n          margin: 0 10px;\n          color: #adadad;\n        }\n        .error {\n          position: absolute;\n          bottom: -14px;\n          color: crimson;\n          font-size: 12px;\n        }\n        .time + button {\n          padding: 8px 8px;\n          font-size: 12px;\n        }\n        &.member {\n          padding-right: 4.4em;\n        }\n        &.merchant {\n          flex-direction: row-reverse;\n          padding-left: 4.4em;\n          .content {\n            background: lighten($color-primary, 30%);\n          }\n        }\n        & + .log-item {\n          padding-top: 20px;\n        }\n        &.loading_previous {\n          margin-bottom: 20px;\n        }\n        &.loading_latest {\n          margin-top: 20px;\n        }\n      }\n      .new-log {\n        background: $color-state-danger;\n        color: white;\n        padding: 5px;\n        margin: 40px 0;\n        text-align: center;\n        font-size: 12px;\n        position: absolute;\n        top: 0;\n        left: 50%;\n        transform: translateX(-50%);\n        width: 110px;\n        letter-spacing: 2px;\n        text-align: center;\n        font-size: 14px;\n        box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14);\n        cursor: pointer;\n      }\n      .log-date {\n        display: flex;\n        justify-content: center;\n        span {\n          padding: 5px 8px;\n          color: white;\n          background: darken($color-primary, 10%);\n          font-size: 12px;\n        }\n        & + [class*='log-'],\n        & + [class*='new-'] {\n          margin-top: 20px;\n        }\n      }\n    }\n    .reply-to {\n      padding: 10px 20px;\n      border-top: 1px solid #dcdfe6;\n      background: #f6f3f3;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      .reply-to-message {\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        max-width: 493px;\n      }\n      button {\n        font-size: 18px;\n        padding: 0;\n      }\n    }\n    .textarea {\n      display: flex;\n      padding: 15px 20px;\n      border-top: 1px solid #dcdfe6;\n      background: white;\n      align-items: flex-end;\n      z-index: 4;\n      textarea {\n        min-height: 46.5px !important;\n      }\n      button {\n        margin-left: 20px;\n        font-size: 18px;\n      }\n      .upload-image {\n        margin: 0;\n        font-size: 20px;\n        padding-right: 20px;\n      }\n    }\n  }\n}\n\n.flip {\n  &:global(-enter) {\n    opacity: 0;\n    transform: scale(0);\n  }\n  // &:global(-leave-to) {\n  //   opacity: 0;\n  //   transform: scale(0);\n  // }\n  // &:global(-leave-active) {\n  //   position: absolute;\n  // }\n}\n\n.leave {\n  position: absolute;\n  z-index: 3;\n  bottom: 130px;\n  right: 5px;\n  height: 40px;\n  width: 40px;\n  padding: 0;\n}\n\n.refresh {\n  position: absolute;\n  z-index: 3;\n  bottom: 200px;\n  right: 5px;\n  height: 40px;\n  width: 40px;\n  padding: 0;\n}\n\n.uploader {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 116px;\n  height: 116px;\n  margin: 0;\n  overflow: hidden;\n  margin: 0 5px 10px;\n\n  :global {\n    .el-upload,\n    .el-image {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      height: 100%;\n      color: $color-text-placeholder;\n    }\n  }\n  &__icon {\n    font-size: ms(12);\n  }\n  &__limit {\n    margin-top: 10px;\n    line-height: 1.5;\n    color: $color-text-placeholder;\n  }\n  &--circle {\n    width: 150px;\n    height: 150px;\n    margin: auto;\n    border-radius: 50%;\n    .actions {\n      border-radius: 50%;\n    }\n  }\n  &.is-emtpy {\n    border: 1px dashed $color-text-placeholder;\n    &:hover :global {\n      .el-upload,\n      .el-image {\n        color: darken($color-text-placeholder, 20);\n      }\n    }\n  }\n}\n\n.actions {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  font-size: ms(8);\n  color: white;\n  background-color: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n  transition: $fade-transition;\n  span {\n    cursor: pointer;\n    + span {\n      margin-left: 25px;\n    }\n  }\n  &:hover {\n    opacity: 1;\n  }\n}\n\n@keyframes blink {\n  from {\n    background: yellow;\n  }\n  to {\n    background: transparent;\n  }\n}\n\n@keyframes blink-infinite {\n  0% {\n    box-shadow: 0 0 0px 0px rgb(244 210 158);\n  }\n  100% {\n    box-shadow: 0 0 0px 15px rgb(244 210 158 / 0);\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatDialog.vue?vue&type=template&id=4c4c32ac&\"\nimport script from \"./ChatDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatDialog.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatDialog.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatDialog.vue?vue&type=style&index=0&lang=scss&module=true&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"ChatDialog_slide_2Ow1f\",\"slide-reverse\":\"ChatDialog_slide-reverse_K9toh\",\"wrap\":\"ChatDialog_wrap_3D_87\",\"blink\":\"ChatDialog_blink_KDZAW\",\"blink-infinite\":\"ChatDialog_blink-infinite_2dhf3\",\"flip\":\"ChatDialog_flip_1g2Nz\",\"leave\":\"ChatDialog_leave_G7mnK\",\"refresh\":\"ChatDialog_refresh_Q4GVT\",\"uploader\":\"ChatDialog_uploader_e-iCr\",\"uploader__icon\":\"ChatDialog_uploader__icon_10vjl\",\"uploader__limit\":\"ChatDialog_uploader__limit_8upB2\",\"uploader--circle\":\"ChatDialog_uploader--circle_2RG5s\",\"actions\":\"ChatDialog_actions_12bnG\",\"is-emtpy\":\"ChatDialog_is-emtpy_ymGC5\"};","/*!\n  * vue-scrollto v2.20.0\n  * (c) 2019 Randjelovic Igor\n  * @license MIT\n  */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global['vue-scrollto'] = factory());\n}(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  /**\n   * https://github.com/gre/bezier-easing\n   * BezierEasing - use bezier curve for transition easing function\n   * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n   */\n\n  // These values are established by empiricism with tests (tradeoff: performance VS precision)\n  var NEWTON_ITERATIONS = 4;\n  var NEWTON_MIN_SLOPE = 0.001;\n  var SUBDIVISION_PRECISION = 0.0000001;\n  var SUBDIVISION_MAX_ITERATIONS = 10;\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  var float32ArraySupported = typeof Float32Array === 'function';\n\n  function A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\n  function B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\n  function C (aA1)      { return 3.0 * aA1; }\n\n  // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n  function calcBezier (aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT; }\n\n  // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n  function getSlope (aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1); }\n\n  function binarySubdivide (aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) {\n        aB = currentT;\n      } else {\n        aA = currentT;\n      }\n    } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\n   for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n     var currentSlope = getSlope(aGuessT, mX1, mX2);\n     if (currentSlope === 0.0) {\n       return aGuessT;\n     }\n     var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n     aGuessT -= currentX / currentSlope;\n   }\n   return aGuessT;\n  }\n\n  function LinearEasing (x) {\n    return x;\n  }\n\n  var src = function bezier (mX1, mY1, mX2, mY2) {\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n      throw new Error('bezier x values must be in [0, 1] range');\n    }\n\n    if (mX1 === mY1 && mX2 === mY2) {\n      return LinearEasing;\n    }\n\n    // Precompute samples table\n    var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n    for (var i = 0; i < kSplineTableSize; ++i) {\n      sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n    }\n\n    function getTForX (aX) {\n      var intervalStart = 0.0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n      --currentSample;\n\n      // Interpolate to provide an initial guess for t\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n      if (initialSlope >= NEWTON_MIN_SLOPE) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    return function BezierEasing (x) {\n      // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n      if (x === 0) {\n        return 0;\n      }\n      if (x === 1) {\n        return 1;\n      }\n      return calcBezier(getTForX(x), mY1, mY2);\n    };\n  };\n\n  var easings = {\n    ease: [0.25, 0.1, 0.25, 1.0],\n    linear: [0.0, 0.0, 1.0, 1.0],\n    'ease-in': [0.42, 0.0, 1.0, 1.0],\n    'ease-out': [0.0, 0.0, 0.58, 1.0],\n    'ease-in-out': [0.42, 0.0, 0.58, 1.0]\n  };\n\n  // https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n  var supportsPassive = false;\n\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supportsPassive = true;\n      }\n    });\n    window.addEventListener('test', null, opts);\n  } catch (e) {}\n\n  var _ = {\n    $: function $(selector) {\n      if (typeof selector !== 'string') {\n        return selector;\n      }\n\n      return document.querySelector(selector);\n    },\n    on: function on(element, events, handler) {\n      var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n        passive: false\n      };\n\n      if (!(events instanceof Array)) {\n        events = [events];\n      }\n\n      for (var i = 0; i < events.length; i++) {\n        element.addEventListener(events[i], handler, supportsPassive ? opts : false);\n      }\n    },\n    off: function off(element, events, handler) {\n      if (!(events instanceof Array)) {\n        events = [events];\n      }\n\n      for (var i = 0; i < events.length; i++) {\n        element.removeEventListener(events[i], handler);\n      }\n    },\n    cumulativeOffset: function cumulativeOffset(element) {\n      var top = 0;\n      var left = 0;\n\n      do {\n        top += element.offsetTop || 0;\n        left += element.offsetLeft || 0;\n        element = element.offsetParent;\n      } while (element);\n\n      return {\n        top: top,\n        left: left\n      };\n    }\n  };\n\n  var abortEvents = ['mousedown', 'wheel', 'DOMMouseScroll', 'mousewheel', 'keyup', 'touchmove'];\n  var defaults = {\n    container: 'body',\n    duration: 500,\n    lazy: true,\n    easing: 'ease',\n    offset: 0,\n    force: true,\n    cancelable: true,\n    onStart: false,\n    onDone: false,\n    onCancel: false,\n    x: false,\n    y: true\n  };\n  function setDefaults(options) {\n    defaults = _extends({}, defaults, options);\n  }\n  var scroller = function scroller() {\n    var element; // element to scroll to\n\n    var container; // container to scroll\n\n    var duration; // duration of the scrolling\n\n    var easing; // easing to be used when scrolling\n\n    var lazy; // checks the target position at each step\n\n    var offset; // offset to be added (subtracted)\n\n    var force; // force scroll, even if element is visible\n\n    var cancelable; // indicates if user can cancel the scroll or not.\n\n    var onStart; // callback when scrolling is started\n\n    var onDone; // callback when scrolling is done\n\n    var onCancel; // callback when scrolling is canceled / aborted\n\n    var x; // scroll on x axis\n\n    var y; // scroll on y axis\n\n    var initialX; // initial X of container\n\n    var targetX; // target X of container\n\n    var initialY; // initial Y of container\n\n    var targetY; // target Y of container\n\n    var diffX; // difference\n\n    var diffY; // difference\n\n    var abort; // is scrolling aborted\n\n    var cumulativeOffsetContainer;\n    var cumulativeOffsetElement;\n    var abortEv; // event that aborted scrolling\n\n    var abortFn = function abortFn(e) {\n      if (!cancelable) return;\n      abortEv = e;\n      abort = true;\n    };\n\n    var easingFn;\n    var timeStart; // time when scrolling started\n\n    var timeElapsed; // time elapsed since scrolling started\n\n    var progress; // progress\n\n    function scrollTop(container) {\n      var scrollTop = container.scrollTop;\n\n      if (container.tagName.toLowerCase() === 'body') {\n        // in firefox body.scrollTop always returns 0\n        // thus if we are trying to get scrollTop on a body tag\n        // we need to get it from the documentElement\n        scrollTop = scrollTop || document.documentElement.scrollTop;\n      }\n\n      return scrollTop;\n    }\n\n    function scrollLeft(container) {\n      var scrollLeft = container.scrollLeft;\n\n      if (container.tagName.toLowerCase() === 'body') {\n        // in firefox body.scrollLeft always returns 0\n        // thus if we are trying to get scrollLeft on a body tag\n        // we need to get it from the documentElement\n        scrollLeft = scrollLeft || document.documentElement.scrollLeft;\n      }\n\n      return scrollLeft;\n    }\n\n    function recalculateTargets() {\n      cumulativeOffsetContainer = _.cumulativeOffset(container);\n      cumulativeOffsetElement = _.cumulativeOffset(element);\n\n      if (x) {\n        targetX = cumulativeOffsetElement.left - cumulativeOffsetContainer.left + offset;\n        diffX = targetX - initialX;\n      }\n\n      if (y) {\n        targetY = cumulativeOffsetElement.top - cumulativeOffsetContainer.top + offset;\n        diffY = targetY - initialY;\n      }\n    }\n\n    function step(timestamp) {\n      if (abort) return done();\n      if (!timeStart) timeStart = timestamp; // When a site has a lot of media that can be loaded asynchronously,\n      // the targetY/targetX may end up in the wrong place during scrolling.\n      // So we will check this at each step\n\n      if (!lazy) {\n        recalculateTargets();\n      }\n\n      timeElapsed = timestamp - timeStart;\n      progress = Math.min(timeElapsed / duration, 1);\n      progress = easingFn(progress);\n      topLeft(container, initialY + diffY * progress, initialX + diffX * progress);\n      timeElapsed < duration ? window.requestAnimationFrame(step) : done();\n    }\n\n    function done() {\n      if (!abort) topLeft(container, targetY, targetX);\n      timeStart = false;\n\n      _.off(container, abortEvents, abortFn);\n\n      if (abort && onCancel) onCancel(abortEv, element);\n      if (!abort && onDone) onDone(element);\n    }\n\n    function topLeft(element, top, left) {\n      if (y) element.scrollTop = top;\n      if (x) element.scrollLeft = left;\n\n      if (element.tagName.toLowerCase() === 'body') {\n        // in firefox body.scrollTop doesn't scroll the page\n        // thus if we are trying to scrollTop on a body tag\n        // we need to scroll on the documentElement\n        if (y) document.documentElement.scrollTop = top;\n        if (x) document.documentElement.scrollLeft = left;\n      }\n    }\n\n    function scrollTo(target, _duration) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (_typeof(_duration) === 'object') {\n        options = _duration;\n      } else if (typeof _duration === 'number') {\n        options.duration = _duration;\n      }\n\n      element = _.$(target);\n\n      if (!element) {\n        return console.warn('[vue-scrollto warn]: Trying to scroll to an element that is not on the page: ' + target);\n      }\n\n      container = _.$(options.container || defaults.container);\n      duration = options.hasOwnProperty('duration') ? options.duration : defaults.duration;\n      lazy = options.hasOwnProperty('lazy') ? options.lazy : defaults.lazy;\n      easing = options.easing || defaults.easing;\n      offset = options.hasOwnProperty('offset') ? options.offset : defaults.offset;\n      force = options.hasOwnProperty('force') ? options.force !== false : defaults.force;\n      cancelable = options.hasOwnProperty('cancelable') ? options.cancelable !== false : defaults.cancelable;\n      onStart = options.onStart || defaults.onStart;\n      onDone = options.onDone || defaults.onDone;\n      onCancel = options.onCancel || defaults.onCancel;\n      x = options.x === undefined ? defaults.x : options.x;\n      y = options.y === undefined ? defaults.y : options.y;\n\n      if (typeof offset === 'function') {\n        offset = offset(element, container);\n      }\n\n      initialX = scrollLeft(container);\n      initialY = scrollTop(container); // calculates cumulative offsets and targetX/Y + diffX/Y\n\n      recalculateTargets();\n      abort = false;\n\n      if (!force) {\n        // When the container is the default (body) we need to use the viewport\n        // height, not the entire body height\n        var containerHeight = container.tagName.toLowerCase() === 'body' ? document.documentElement.clientHeight || window.innerHeight : container.offsetHeight;\n        var containerTop = initialY;\n        var containerBottom = containerTop + containerHeight;\n        var elementTop = targetY - offset;\n        var elementBottom = elementTop + element.offsetHeight;\n\n        if (elementTop >= containerTop && elementBottom <= containerBottom) {\n          // make sure to call the onDone callback even if there is no need to\n          // scroll the container. Fixes #111 (ref #118)\n          if (onDone) onDone(element);\n          return;\n        }\n      }\n\n      if (onStart) onStart(element);\n\n      if (!diffY && !diffX) {\n        if (onDone) onDone(element);\n        return;\n      }\n\n      if (typeof easing === 'string') {\n        easing = easings[easing] || easings['ease'];\n      }\n\n      easingFn = src.apply(src, easing);\n\n      _.on(container, abortEvents, abortFn, {\n        passive: true\n      });\n\n      window.requestAnimationFrame(step);\n      return function () {\n        abortEv = null;\n        abort = true;\n      };\n    }\n\n    return scrollTo;\n  };\n\n  var _scroller = scroller();\n\n  var bindings = []; // store binding data\n\n  function deleteBinding(el) {\n    for (var i = 0; i < bindings.length; ++i) {\n      if (bindings[i].el === el) {\n        bindings.splice(i, 1);\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function findBinding(el) {\n    for (var i = 0; i < bindings.length; ++i) {\n      if (bindings[i].el === el) {\n        return bindings[i];\n      }\n    }\n  }\n\n  function getBinding(el) {\n    var binding = findBinding(el);\n\n    if (binding) {\n      return binding;\n    }\n\n    bindings.push(binding = {\n      el: el,\n      binding: {}\n    });\n    return binding;\n  }\n\n  function handleClick(e) {\n    var ctx = getBinding(this).binding;\n    if (!ctx.value) return;\n    e.preventDefault();\n\n    if (typeof ctx.value === 'string') {\n      return _scroller(ctx.value);\n    }\n\n    _scroller(ctx.value.el || ctx.value.element, ctx.value);\n  }\n\n  var directiveHooks = {\n    bind: function bind(el, binding) {\n      getBinding(el).binding = binding;\n\n      _.on(el, 'click', handleClick);\n    },\n    unbind: function unbind(el) {\n      deleteBinding(el);\n\n      _.off(el, 'click', handleClick);\n    },\n    update: function update(el, binding) {\n      getBinding(el).binding = binding;\n    }\n  };\n  var VueScrollTo = {\n    bind: directiveHooks.bind,\n    unbind: directiveHooks.unbind,\n    update: directiveHooks.update,\n    beforeMount: directiveHooks.bind,\n    unmounted: directiveHooks.unbind,\n    updated: directiveHooks.update,\n    scrollTo: _scroller,\n    bindings: bindings\n  };\n\n  var install = function install(Vue, options) {\n    if (options) setDefaults(options);\n    Vue.directive('scroll-to', VueScrollTo);\n    var properties = Vue.config.globalProperties || Vue.prototype;\n    properties.$scrollTo = VueScrollTo.scrollTo;\n  };\n\n  if (typeof window !== 'undefined' && window.Vue) {\n    window.VueScrollTo = VueScrollTo;\n    window.VueScrollTo.setDefaults = setDefaults;\n    window.VueScrollTo.scroller = scroller;\n    if (window.Vue.use) window.Vue.use(install);\n  }\n\n  VueScrollTo.install = install;\n\n  return VueScrollTo;\n\n})));\n"],"sourceRoot":""}