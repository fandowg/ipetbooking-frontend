{"version":3,"sources":["webpack:///./src/utils/message.js","webpack:///./src/router/views/product/edit.vue?577d","webpack:///./src/router/views/product/edit.vue?d301","webpack:///src/router/views/product/edit.vue","webpack:///./src/router/views/product/edit.vue?c97e","webpack:///./src/router/views/product/edit.vue?d1ad","webpack:///./src/router/views/product/edit.vue?e053"],"names":["__webpack_require__","d","__webpack_exports__","messageStroe","messageDelete","element_ui__WEBPACK_IMPORTED_MODULE_0__","state","Message","message","type","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edit_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","class","$style","page","attrs","before-leave","beforeTabSwitch","stretch","model","value","callback","$$v","activeTab","expression","_l","tab","index","key","label","title","name","component","ref","refInFor","tag","item-type","productType","default-value","componentData","on","validate","handleFormValidate","directives","rawName","footer","staticClass","click","onClickLeave","_v","loading","tryingToSave","$event","onClickSave","staticRenderFns","editvue_type_script_lang_js_","meta","content","components","Layout","main","props","defaultValue","Object","required","String","default","data","saveButtonVisible","tabList","lazyload_component","Promise","all","e","then","bind","showFooter","geocoder","map","hasGeo","computed","productId","$route","params","mounted","initGeocoder","methods","valid","handleStorePrice","storeData","formatTime","date","match","replace","forEach","saleStartDate","saleEndDate","$store","dispatch","handleStoreProduct","_handleStoreProduct","asyncToGenerator","regenerator_default","a","mark","_callee","submitData","ordAddress","newAddress","isSame","wrap","_context","prev","next","location","$refs","step1","concat","city","district","address","geocode","lat","lng","abrupt","stop","_x","apply","arguments","handleStoreExtraField","extraFields","toConsumableArray","byOrder","bySize","length","getProductInfo","_this","product","cloneDeep_default","handleSaveSuccess","_handleSaveSuccess","_callee2","_context2","$alert","confirmButtonText","center","_onClickSave","_callee3","mode","step1Ref","step2Ref","timeData","i","list","_context3","step2","serviceTimeSetting","start","timeRange","end","t0","objectSpread","formatSubmitData","step3","$router","push","t1","_x2","_beforeTabSwitch","_callee4","activeName","oldActiveName","_context4","_x3","_x4","google","maps","Geocoder","_geocode","_callee5","_context5","componentRestrictions","country","sent","results","geometry","_x5","product_editvue_type_script_lang_js_","injectStyles","context","editvue_type_style_index_0_lang_scss_module_true_","locals","edit_component","componentNormalizer","module","exports","slide","slide-reverse","card-wrapper"],"mappings":"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","file":"js/chunk-24ab9126.96e54fa2.js","sourcesContent":["import { Message } from 'element-ui';\n\nexport function messageStroe(state){\n  if(state==='add'){\n    Message({\n      message:'已新增',\n      type:'success'\n    });\n  }\n  if(state==='edit'){\n    Message({\n      message:'已儲存',\n      type:'success'\n    });\n  }\n}\n\nexport function messageDelete(){\n\n    Message({\n      message:'已刪除',\n      type:'success'\n    });\n\n\n}","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&lang=scss&module=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',{class:_vm.$style.page},[_c('el-tabs',{attrs:{\"type\":\"border-card\",\"before-leave\":_vm.beforeTabSwitch,\"stretch\":\"\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},_vm._l((_vm.tabList),function(tab,index){return _c('el-tab-pane',{key:index,attrs:{\"label\":tab.title,\"name\":tab.title}},[_c('keep-alive',[_c(tab.component,{ref:(\"step\" + (index + 1)),refInFor:true,tag:\"component\",class:_vm.$style['card-wrapper'],attrs:{\"item-type\":_vm.productType,\"default-value\":_vm.componentData},on:{\"validate\":_vm.handleFormValidate}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(tab.showFooter),expression:\"tab.showFooter\"}],class:_vm.$style.footer},[_c('el-button',{staticClass:\"is-round\",on:{\"click\":_vm.onClickLeave}},[_vm._v(\"取消\")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.saveButtonVisible),expression:\"saveButtonVisible\"}],staticClass:\"is-round\",attrs:{\"loading\":_vm.tryingToSave},on:{\"click\":function($event){return _vm.onClickSave('leave')}}},[_vm._v(\"儲存並返回列表\")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.saveButtonVisible),expression:\"saveButtonVisible\"}],staticClass:\"is-round\",attrs:{\"type\":\"primary\",\"loading\":_vm.tryingToSave},on:{\"click\":_vm.onClickSave}},[_vm._v(\"儲存變更\")])],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport cloneDeep from 'lodash/cloneDeep'\nimport lazyLoadComponent from '@router/lazyload-component'\n\nimport Layout from '@layouts/main'\nimport { messageStroe, messageDelete } from '@utils/message'\n\nexport default {\n  page: {\n    title: '編輯項目',\n    meta: [{ name: 'description', content: 'Edit Product' }],\n  },\n  components: {\n    Layout,\n  },\n  props: {\n    defaultValue: {\n      type: Object,\n      required: true,\n    },\n    productType: {\n      type: String,\n      default: 'activity',\n    },\n  },\n  data() {\n    return {\n      tryingToSave: false,\n      saveButtonVisible: true,\n      activeTab: '基本資訊',\n      tabList: [\n        {\n          title: '基本資訊',\n          component: () => lazyLoadComponent(import('./components/Step1Basic')),\n          showFooter: true,\n        },\n        {\n          title: '營業時間',\n          component: () =>\n            lazyLoadComponent(import('./components/Step6ServiceTime')),\n          showFooter: true,\n        },\n        {\n          title: '自訂題目',\n          component: () =>\n            lazyLoadComponent(import('./components/Step4ExtraField')),\n          showFooter: true,\n        },\n      ],\n      componentData: this.defaultValue,\n      geocoder:'',\n      map:[],\n      hasGeo: false,\n    }\n  },\n  computed: {\n    productId() {\n      return this.$route.params.productId\n    },\n  },\n  mounted() {\n    this.initGeocoder();\n  },\n  methods: {\n    handleFormValidate(valid) {\n      this.saveButtonVisible = valid\n    },\n    handleStorePrice(storeData) {\n      const formatTime = (date) => {\n        return date.match(/(\\d+):(\\d+):(00)$/g) ? date.replace(/:(00)$/g,'') : date\n      }\n      storeData.forEach((data) => {\n        if (data.saleStartDate)\n          data.saleStartDate = formatTime(data.saleStartDate)\n        if (data.saleEndDate)\n          data.saleEndDate = formatTime(data.saleEndDate)\n      })\n      return this.$store.dispatch('product/storePrices', {\n        productId: this.productId,\n        storeData,\n      })\n    },\n    async handleStoreProduct(submitData) {\n      const ordAddress = this.defaultValue.location\n      const newAddress = this.$refs.step1[0].submitData.location\n      const isSame = `${ordAddress.city}${ordAddress.district}${ordAddress.address}` === `${newAddress.city}${newAddress.district}${newAddress.address}`\n      if(!isSame){\n        await this.geocode(submitData)\n        submitData.lat=this.map[0]\n        submitData.lng=this.map[1]\n      }\n      submitData.type=this.productType\n      return this.$store.dispatch('product/store', submitData)\n    },\n    handleStoreExtraField(submitData) {\n      const extraFields = [...submitData.byOrder, ...submitData.bySize]\n      const storeData = {\n        productId: this.productId,\n      }\n      if (extraFields.length > 0) storeData.extraFields = extraFields\n      return this.$store.dispatch('product/updateExtraField', storeData)\n    },\n    getProductInfo() {\n      this.$store\n        .dispatch('product/fetchSingle', this.productId)\n        .then((product) => {\n          this.componentData = cloneDeep(product)\n          // this.$route.params.product = cloneDeep(product)\n        })\n    },\n    async handleSaveSuccess() {\n      await this.$alert('儲存成功', '太棒了！', {\n        confirmButtonText: '確認',\n        type: 'success',\n        center: true,\n      })\n      this.tryingToSave = false\n    },\n    async onClickSave(mode) {\n      this.tryingToSave = true\n      const step1Ref = this.$refs.step1[0]\n      // let formData = step1Ref.submitData\n      const step2Ref = this.$refs.step2[0]\n      const timeData = step2Ref.serviceTimeSetting\n      for(let i in timeData){\n        timeData[i].start = timeData[i].timeRange[0]\n        timeData[i].end = timeData[i].timeRange[1]\n      }\n      try {\n        switch (this.activeTab) {\n          case '基本資訊':\n            // await step1Ref.geocode()\n            await step1Ref.validate()\n            // console.log(formData)\n            await this.handleStoreProduct({...step1Ref.formatSubmitData,serviceTimeSetting:timeData})\n            messageStroe('edit')\n            this.tryingToSave = false\n            // this.handleSaveSuccess()\n            break\n          case '營業時間':\n            // console.log(this.$refs.step2[0].serviceTimeSetting)\n            \n            await step2Ref.validate()\n            \n            // console.log(formData,timeData)\n            \n            // console.log(timeData)\n            await this.handleStoreProduct({...step1Ref.formatSubmitData,serviceTimeSetting:timeData})\n            messageStroe('edit')\n            this.tryingToSave = false\n            // this.handleSaveSuccess()\n            break\n          // case '購買方案':\n          //   const { params } = this.$refs.step3[0]\n          //   await this.handleStorePrice(params)\n          //   this.handleSaveSuccess()\n          //   break\n          case '自訂題目':\n            const list = this.$refs.step3[0].list\n            await this.handleStoreExtraField(list)\n            await this.handleStoreProduct({...step1Ref.formatSubmitData,serviceTimeSetting:timeData})\n            await this.getProductInfo()\n            messageStroe('edit')\n            this.tryingToSave = false\n            // this.handleSaveSuccess()\n            break\n        }\n        if(mode==='leave'){\n          this.$router.push({ name: 'products' })\n        }\n      } catch (error) {\n        this.tryingToSave = false\n      }\n    },\n    onClickLeave() {\n      this.$router.push({ name: 'products' })\n      // this.$confirm(\n      //   this.$t('PRODUCT.LEAVE_EDIT_CONFIRM_MESSAGE', {\n      //     name: this.$t(`PRODUCT.${this.productType}.NAME`),\n      //   }),\n      //   '您將離開此頁面',\n      //   {\n      //     confirmButtonText: '確定',\n      //     cancelButtonText: '取消',\n      //     type: 'warning',\n      //     center: true,\n      //     showClose: false,\n      //   }\n      // ).then(() => {\n      //   this.$router.push({ name: 'products' })\n      // })\n    },\n    async beforeTabSwitch(activeName, oldActiveName) {\n      if(oldActiveName==='基本資訊'){\n       await this.$refs.step1[0].validate()\n      }\n      if(oldActiveName==='營業時間'){\n       await this.$refs.step2[0].validate()\n      }\n    \n      // if(['基本資訊', '營業時間', '自訂題目'].includes(oldActiveName)){\n      //   await this.$confirm(\n      //     '即將離開此頁籤，請確認您所做的修改是否已儲存',\n      //     '提醒',\n      //     {\n      //       confirmButtonText: '確定',\n      //       cancelButtonText: '取消',\n      //       type: 'warning',\n      //       center: true,\n      //     }\n      //   )\n      // }\n    },\n     initGeocoder() {\n      this.geocoder = new google.maps.Geocoder();\n    },\n    async geocode(submitData) {\n      // console.log(123)\n      // const address = this.restaurant.address;\n      const callback = await this.geocoder.geocode(\n        // GeocoderRequest 物件: 帶入要轉換的地址與相關設定\n        {\n       \n          address:`${submitData.location.city}${submitData.location.district}${submitData.location.address}`,\n          // 限制轉換的結果必須是在台灣的範圍\n          componentRestrictions: {\n            country: \"TW\"\n          }\n        }\n      );\n      const lat = callback.results[0].geometry.location.lat()\n      const lng = callback.results[0].geometry.location.lng()\n      this.map = [lat,lng]\n      // console.log(callback)\n    }\n  },\n}\n</script>\n\n<template>\n  <Layout :class=\"$style.page\">\n  \n    <!-- <BasePageHeader\n      :title=\"\n        $t('GLOBAL.HEADER_EDIT_PREFIX', {\n          name: $t(`PRODUCT.${productType}.NAME`),\n          item: defaultValue.name,\n        })\n      \"\n    ></BasePageHeader> -->\n    <el-tabs v-model=\"activeTab\" type=\"border-card\" :before-leave=\"beforeTabSwitch\" stretch>\n      <el-tab-pane\n        v-for=\"(tab, index) in tabList\"\n        :key=\"index\"\n        :label=\"tab.title\"\n        :name=\"tab.title\"\n      >\n        <keep-alive>\n          <component\n            :is=\"tab.component\"\n            :ref=\"`step${index + 1}`\"\n            :class=\"$style['card-wrapper']\"\n            :item-type=\"productType\"\n            :default-value=\"componentData\"\n            @validate=\"handleFormValidate\"\n          ></component>\n        </keep-alive>\n\n        <div v-show=\"tab.showFooter\" :class=\"$style.footer\">\n          <el-button class=\"is-round\" @click=\"onClickLeave\">取消</el-button>\n          <el-button\n            v-show=\"saveButtonVisible\"\n            class=\"is-round\"\n            \n            :loading=\"tryingToSave\"\n            @click=\"onClickSave('leave')\"\n            >儲存並返回列表</el-button\n          >\n          <el-button\n            v-show=\"saveButtonVisible\"\n            class=\"is-round\"\n            type=\"primary\"\n            :loading=\"tryingToSave\"\n            @click=\"onClickSave\"\n            >儲存變更</el-button\n          >\n        </div>\n      </el-tab-pane>\n    </el-tabs>\n  </Layout>\n</template>\n\n<style lang=\"scss\" module>\n@import '@src/design/layout_detail_steps.scss';\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=1a894824&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"edit_slide_1J5tL\",\"slide-reverse\":\"edit_slide-reverse_1apWk\",\"page\":\"edit_page_1CWXB\",\"card-wrapper\":\"edit_card-wrapper_1d7JE\",\"footer\":\"edit_footer_2CO7e\"};"],"sourceRoot":""}