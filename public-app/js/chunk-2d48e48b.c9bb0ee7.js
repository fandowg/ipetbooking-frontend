(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d48e48b","chunk-2d48e48b"],{"250d":function(e,t,a){e.exports={slide:"Service_slide_2fUKh","slide-reverse":"Service_slide-reverse_18QIi",title:"Service_title_ySCzZ",info:"Service_info_1ctzB",box:"Service_box_3quc9",question:"Service_question_UKqlB",image:"Service_image_2TJg7",invoice:"Service_invoice_1oWq_"}},"8d72":function(e,t,a){"use strict";var i=a("250d"),s=a.n(i);t["default"]=s.a},a890:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.$style.service},[a("BaseCollapse",{attrs:{title:"使用人資訊與備註","order-theme":!0}},[a("h5",{class:e.$style.title},[e._v("使用人資訊")]),a("ul",{class:e.$style.info},[a("li",[e._v(e._s(e.defaultValue.fullName)+" "+e._s(e._f("genderFilter")(e.defaultValue.gender)))]),a("li",[e._v(e._s(e.defaultValue.phoneCode+" "+e.defaultValue.phoneNumber))]),a("li",[e._v(e._s(e.defaultValue.member.email))]),e.defaultValue.member.lineId?a("li",[e._v("LINE ID: "+e._s(e.defaultValue.member.lineId))]):e._e()]),a("h5",{class:e.$style.title},[e._v("使用人備註")]),a("p",[e._v(e._s(e.defaultValue.note||"目前尚無備註"))])]),e.defaultValue.pet?a("BaseCollapse",{attrs:{title:"寵物資訊",expanded:"","order-theme":!0}},[a("ul",{class:e.$style.box},[a("li",[e._v(e._s(e.defaultValue.pet.name))]),e.defaultValue.pet.birthday?a("li",[e._v(e._s(e.defaultValue.pet.birthday))]):e._e(),a("li",[e._v(e._s("male"===e.defaultValue.pet.gender?"公":"母"))]),a("li",[e._v(e._s(e.defaultValue.pet.categoryTitle)+"/"+e._s(e.defaultValue.pet.sizeTitle))]),e.defaultValue.pet.note?a("li",{staticClass:"row-line"},[e._v(e._s(e.defaultValue.pet.note))]):e._e(),e.defaultValue.pet.questions?[e.defaultValue.pet.questions?a("li",{staticClass:"row-line"}):e._e(),e.defaultValue.pet.questions.personality.length>0?a("li",{staticClass:"row-line"},[e._v("個性："+e._s(e.personalityContent))]):e._e(),e.defaultValue.pet.questions.healthy.length>0?a("li",{staticClass:"row-line"},[e._v("健康狀況："+e._s(e.healthyContent))]):e._e(),e.defaultValue.pet.questions.behavior.length>0?a("li",{staticClass:"row-line indentList"},[a("span",{staticClass:"title"},[e._v("行為：")]),e.behaviorContent.length>0?[a("span",{staticClass:"content"},e._l(e.behaviorContent,function(t){return a("span",{key:t,staticClass:"content__item"},[e._v(e._s(t))])}),0)]:e._e()],2):e._e(),e.defaultValue.pet.questions.vaccine?a("li",{staticClass:"row-line"},[e._v("疫苗："+e._s(e.vaccineContent))]):e._e()]:e._e()],2),a("div",{staticClass:"btn-group-inline",staticStyle:{"margin-bottom":"20px"}},[0!==e.commentList.length?a("el-button",{staticClass:"is-round",attrs:{plain:""},on:{click:e.openCommentList}},[e._v("查看歷史備註")]):e._e(),a("el-button",{staticClass:"is-round",attrs:{type:"primary"},on:{click:e.openEdit}},[a("BaseIcon",{attrs:{name:"plus"}}),e._v(" 新增寵物備註")],1)],1),a("PetCommentList",{ref:"comment",attrs:{type:"order",order:e.defaultValue},on:{emitFetch:e.emitFetch}}),a("el-dialog",{attrs:{visible:e.dialogVisible,pet:e.defaultValue.pet.id,title:"寵物備註",width:"800px",top:"0","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("PetCommentList",{ref:"commentAll",attrs:{pet:e.defaultValue.pet.id,type:"pet",order:e.defaultValue}})],1)],1):e._e(),e.isEmptyByOrderExtrafields?e._e():a("BaseCollapse",{attrs:{title:"服務資訊","order-theme":!0}},e._l(e.defaultValue.byOrderExtrafields,function(t,i){return a("ul",{key:"byOrderExtrafieldIndex-"+i,class:e.$style.question},[a("li",{staticClass:"title"},[e._v(e._s(t.title))]),a("li",[e._v(e._s(t.value))])])}),0),6===e.defaultValue.status&&e.defaultValue.invoice.InvoiceNumber?[a("BaseCollapse",{attrs:{title:"發票資訊","order-theme":!0}},[a("div",{class:e.$style.invoice},[a("div",{staticClass:"order-id Jost"},[e._v(e._s("預約訂單#"+e.defaultValue.id))]),a("div",{staticClass:"info"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,xs:24}},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"title"},[e._v("發票日期")]),a("span",[e._v(e._s(e._f("formatDate")(e.defaultValue.invoice.CreateTime)))])]),a("div",{staticClass:"info-item"},[a("span",{staticClass:"title"},[e._v("發票號碼")]),a("span",[e._v(e._s(e.defaultValue.invoice.InvoiceNumber))])]),a("div",{staticClass:"info-item"},[a("span",{staticClass:"title"},[e._v("隨機碼")]),a("span",[e._v(e._s(e.defaultValue.invoice.RandomNum))])])]),a("el-col",{attrs:{span:12,xs:24}},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"title"},[e._v("發票形式")]),a("span",[e._v(e._s(e.taxTypeMap[e.defaultValue.invoice.taxType]))])]),"B2C"===e.defaultValue.invoice.taxType?a("div",{staticClass:"info-item"},[a("span",{staticClass:"title"},[e._v("載具類別")]),a("span",[e._v(e._s(e.carrierTypeMap[e.defaultValue.invoice.CarrierType]))])]):e._e(),"B2C"===e.defaultValue.invoice.taxType&&["0","1"].includes(e.defaultValue.invoice.CarrierType)?a("div",{staticClass:"info-item",attrs:{span:12,xs:24}},[a("span",{staticClass:"title"},[e._v("載具編號")]),a("span",[e._v(e._s(e.defaultValue.invoice.CarrierNum))])]):e._e(),"B2B"===e.defaultValue.invoice.taxType?a("div",{staticClass:"info-item"},[a("span",{staticClass:"title"},[e._v("統一編號")]),a("span",[e._v(e._s(e.defaultValue.invoice.taxId))])]):e._e(),"DONATE"===e.defaultValue.invoice.taxType?a("div",{staticClass:"info-item"},[a("span",{staticClass:"title"},[e._v("捐贈碼")]),a("span",[e._v(e._s(e.defaultValue.invoice.LoveCode))])]):e._e()])],1)],1)]),e.childrenOrdersHaveInvoice.length>0?e._l(e.childrenOrdersHaveInvoice,function(t){return a("div",{key:t.invoice.InvoiceNumber,class:e.$style.invoice},[a("div",{staticClass:"order-id Jost"},[e._v(e._s("加購訂單#"+t.id))]),a("div",{staticClass:"info"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,xs:24}},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"title"},[e._v("發票日期")]),a("span",[e._v(e._s(e._f("formatDate")(t.invoice.CreateTime)))])]),a("div",{staticClass:"info-item"},[a("span",{staticClass:"title"},[e._v("發票號碼")]),a("span",[e._v(e._s(t.invoice.InvoiceNumber))])]),a("div",{staticClass:"info-item"},[a("span",{staticClass:"title"},[e._v("隨機碼")]),a("span",[e._v(e._s(t.invoice.RandomNum))])])]),a("el-col",{attrs:{span:12,xs:24}},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"title"},[e._v("發票形式")]),a("span",[e._v(e._s(e.taxTypeMap[t.invoice.taxType]))])]),"B2C"===t.invoice.taxType?a("div",{staticClass:"info-item"},[a("span",{staticClass:"title"},[e._v("載具類別")]),a("span",[e._v(e._s(e.carrierTypeMap[t.invoice.CarrierType]))])]):e._e(),"B2C"===t.invoice.taxType&&["0","1"].includes(t.invoice.CarrierType)?a("div",{staticClass:"info-item",attrs:{span:12,xs:24}},[a("span",{staticClass:"title"},[e._v("載具編號")]),a("span",[e._v(e._s(t.invoice.CarrierNum))])]):e._e(),"B2B"===t.invoice.taxType?a("div",{staticClass:"info-item"},[a("span",{staticClass:"title"},[e._v("統一編號")]),a("span",[e._v(e._s(t.invoice.taxId))])]):e._e(),"DONATE"===t.invoice.taxType?a("div",{staticClass:"info-item"},[a("span",{staticClass:"title"},[e._v("捐贈碼")]),a("span",[e._v(e._s(t.invoice.LoveCode))])]):e._e()])],1)],1)])}):e._e()],2)]:e._e(),6===e.defaultValue.status?a("BaseCollapse",{attrs:{title:"簽名","order-theme":!0}},[a("el-image",{class:e.$style.image,attrs:{src:e.defaultValue.signature}},[a("div",{attrs:{slot:"error"},slot:"error"},[e._v(" 圖片載入失敗 ")])])],1):e._e(),a("el-button",{staticClass:"icon-text",on:{click:function(t){e.drawerVisible=!0}}},[a("BaseIcon",{attrs:{name:"pencil","icon-style":"fal"}}),e._v("內部備註")],1),a("el-drawer",{ref:"drawer",staticClass:"no-header mobile",attrs:{visible:e.drawerVisible,"append-to-body":"",size:e.$root.isSmallDevice?"100%":"50%","destroy-on-close":""},on:{"update:visible":function(t){e.drawerVisible=t}}},[a("el-page-header",{attrs:{content:"內部備註"},on:{back:e.handleDrawerClosed}}),a("el-divider"),a("HistoryNote",{attrs:{"default-value":e.defaultValue},on:{update:function(t){return e.$emit("update")}}})],1)],2)},s=[],n=a("4795"),l=a.n(n),r=a("cb0c"),o=a("a315"),c=a("7e02"),u=a("6bea"),d={components:{BaseCollapse:function(){return Object(o["a"])(a.e("chunk-f797d1f4").then(a.bind(null,"da06")))},Addition:function(){return Object(o["a"])(a.e("chunk-ceab2aee").then(a.bind(null,"6f10")))},HistoryNote:function(){return Object(o["a"])(a.e("chunk-555a76c1").then(a.bind(null,"d749")))},PetCommentList:function(){return Object(o["a"])(a.e("chunk-838dbece").then(a.bind(null,"7d95")))}},filters:{genderFilter:c["h"],formatDate:u["a"]},props:{defaultValue:{type:Object,default:function(){}}},data:function(){return{taxTypeMap:c["B"],carrierTypeMap:c["c"],drawerVisible:!1,commentList:[],dialogVisible:!1}},computed:{isEmptyByOrderExtrafields:function(){return this.defaultValue.byOrderExtrafields instanceof Array},isMobile:function(){return/Mobi/.test(navigator.userAgent)},personalityContent:function(){return this.defaultValue.pet.questions.personality.join("，")},healthyContent:function(){var e=this.defaultValue.pet.questions.healthy.map(function(e){return"".concat(e.title).concat(e.text?" ( ":""," ").concat(e.text?e.text:"").concat(e.text?" )":"")});return e.join("，")},behaviorContent:function(){var e=this.defaultValue.pet.questions.behavior.map(function(e){return"".concat(e.title).concat(e.text?" ( ":""," ").concat(e.text?e.text:"").concat(e.text?" )":"")});return e},vaccineContent:function(){var e="";switch(this.defaultValue.pet.questions.vaccine){case 1:e="1 劑";break;case 2:e="2 劑";break;case 3:e="3 劑";break;default:break}return e},childrenOrdersHaveInvoice:function(){return this.defaultValue.childrenOrders.filter(function(e){return e.invoice.InvoiceNumber})}},created:function(){this.tryToFetchCommentListAll()},methods:{handleDrawerClosed:function(){this.$refs.drawer.handleClose()},openEdit:function(){this.$refs.comment.openEdit()},tryToFetchCommentListAll:function(){var e=Object(r["a"])(l.a.mark(function e(){return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("petComment/fetchList",{petId:this.defaultValue.pet.id,paginate:0});case 3:this.commentList=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),emitFetch:function(){this.tryToFetchCommentListAll()},openCommentList:function(){var e=this;this.dialogVisible=!0,this.$nextTick(function(){e.$refs.commentAll.tryToFetchList()})}}},v=d,p=a("8d72"),f=a("2877");function _(e){this["$style"]=p["default"].locals||p["default"]}var m=Object(f["a"])(v,i,s,!1,_,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d48e48b.c9bb0ee7.js.map