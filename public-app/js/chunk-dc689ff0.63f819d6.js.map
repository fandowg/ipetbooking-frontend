{"version":3,"sources":["webpack:///./src/router/views/dashboard/components/SmsBlock.vue?62dc","webpack:///src/router/views/dashboard/components/SmsBlock.vue","webpack:///./src/router/views/dashboard/components/SmsBlock.vue?c552","webpack:///./src/router/views/dashboard/components/SmsBlock.vue?8de7","webpack:///./src/router/views/dashboard/components/SmsBlock.vue?8f31","webpack:///./src/router/views/dashboard/components/SmsBlock.vue?e290"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","shadow","slot","_v","gutter","directives","name","rawName","value","expression","sm","span","class","$style","status","_s","smsInfo","usage","available","type","on","click","$event","redirectSettings","staticRenderFns","SmsBlockvue_type_script_lang_js_","data","loading","computed","remaining","className","created","tryToFetchSMSInfo","methods","_tryToFetchSMSInfo","Object","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$store","dispatch","sent","stop","apply","arguments","activeTab","length","undefined","$router","push","params","components_SmsBlockvue_type_script_lang_js_","injectStyles","context","SmsBlockvue_type_style_index_0_lang_scss_module_true_","locals","component","componentNormalizer","__webpack_exports__","module","exports","slide","slide-reverse","card-sms","warning","danger","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SmsBlock_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SmsBlock_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-dc689ff0.63f819d6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"box-card\",attrs:{\"shadow\":\"never\"}},[_c('div',{staticClass:\"header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h3',{staticClass:\"block-title\"},[_vm._v(\"通知相關\")])]),_c('el-row',{attrs:{\"gutter\":15}},[_c('el-col',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"mb-2 mb-sm-0\",attrs:{\"sm\":6,\"span\":24}},[_c('el-card',{class:[_vm.$style['card-sms'], _vm.status]},[_c('div',{staticClass:\"card-sms-title\"},[_vm._v(\"本月簡訊已發則數 / 可發則數\")]),_c('div',{staticClass:\"card-sms-count Jost\"},[_vm._v(_vm._s(_vm.smsInfo.usage)+\" / \"+_vm._s(_vm.smsInfo.available))])])],1),[_c('el-col',{staticClass:\"mb-2 mb-sm-0\",attrs:{\"sm\":6,\"span\":24}},[_c('el-button',{staticClass:\"large-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.redirectSettings('sms-record')}}},[_vm._v(\"檢視發送記錄\"),_c('BaseIcon',{attrs:{\"name\":\"paper-plane\"}})],1)],1),_c('el-col',{staticClass:\"mb-2 mb-sm-0\",attrs:{\"sm\":6,\"span\":24}},[_c('el-button',{staticClass:\"large-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.redirectSettings('notification')}}},[_vm._v(\"通知設定\"),_c('BaseIcon',{attrs:{\"name\":\"cogs\"}})],1)],1)]],2),void 0],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  data() {\n    return {\n      loading: false,\n      smsInfo: {\n        available: 500,\n        usage: 0,\n      },\n    }\n  },\n  computed: {\n    status() {\n      const remaining = (this.smsInfo.available - this.smsInfo.usage)/this.smsInfo.available\n      const className =\n        remaining <= 0.5 ? (remaining <= 0.1 ? 'danger' : 'warning') : ''\n      return this.$style[className]\n    },\n  },\n  created() {\n    this.tryToFetchSMSInfo()\n  },\n  methods: {\n    async tryToFetchSMSInfo() {\n      this.loading = true\n      this.smsInfo = await this.$store.dispatch('dashboard/fetchSMSInfo')\n      this.loading = false\n    },\n    redirectSettings(activeTab = '') {\n      this.$router.push({\n        name: 'settings',\n        params: { activeTab },\n      })\n    },\n  },\n}\n</script>\n\n<template>\n  <el-card class=\"box-card\" shadow=\"never\">\n    <div slot=\"header\" class=\"header\">\n      <h3 class=\"block-title\">通知相關</h3>\n    </div>\n    <el-row :gutter=\"15\">\n      <el-col v-loading=\"loading\" :sm=\"6\" :span=\"24\" class=\"mb-2 mb-sm-0\">\n        <el-card :class=\"[$style['card-sms'], status]\">\n          <div class=\"card-sms-title\">本月簡訊已發則數 / 可發則數</div>\n          <div class=\"card-sms-count Jost\"\n            >{{ smsInfo.usage }} / {{ smsInfo.available }}</div\n          >\n        </el-card>\n      </el-col>\n      <template v-can=\"'redirectSms'\">\n        <el-col :sm=\"6\" :span=\"24\" class=\"mb-2 mb-sm-0\">\n          <el-button\n            class=\"large-btn\"\n            type=\"primary\"\n            @click=\"redirectSettings('sms-record')\"\n            >檢視發送記錄<BaseIcon name=\"paper-plane\"\n          /></el-button>\n        </el-col>\n        <!-- <el-col :span=\"6\">\n          <el-button\n            class=\"large-btn\"\n            type=\"primary\"\n            @click=\"redirectSettings('')\"\n            >前往增購簡訊方案<BaseIcon name=\"donate\"\n          /></el-button>\n        </el-col> -->\n        <el-col :sm=\"6\" :span=\"24\" class=\"mb-2 mb-sm-0\">\n          <el-button\n            class=\"large-btn\"\n            type=\"primary\"\n            @click=\"redirectSettings('notification')\"\n            >通知設定<BaseIcon name=\"cogs\"\n          /></el-button>\n        </el-col>\n      </template>\n    </el-row>\n    <template> </template>\n  </el-card>\n</template>\n<style lang=\"scss\" module>\n.card-sms {\n  background: linear-gradient(90deg, $color-secondary, #e28a5e);\n  &.warning {\n    background: linear-gradient(90deg, #fbb034 0%, #ffdd00 87%);\n  }\n  &.danger {\n    background: linear-gradient(147deg, #990000 0%, #ff0000 74%);\n  }\n  :global {\n    .el-card__body {\n      height: 90px;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      color: white;\n      .card-sms-title {\n        font-size: 10px;\n      }\n      .card-sms-count {\n        font-size: 1.5em;\n        font-weight: 600;\n        letter-spacing: 2px;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SmsBlock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SmsBlock.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SmsBlock.vue?vue&type=template&id=64c85c7a&\"\nimport script from \"./SmsBlock.vue?vue&type=script&lang=js&\"\nexport * from \"./SmsBlock.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SmsBlock.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"SmsBlock_slide_3iYbY\",\"slide-reverse\":\"SmsBlock_slide-reverse_2W5TC\",\"card-sms\":\"SmsBlock_card-sms_2D9PD\",\"warning\":\"SmsBlock_warning_2QFBK\",\"danger\":\"SmsBlock_danger_2nFnp\"};","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SmsBlock.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SmsBlock.vue?vue&type=style&index=0&lang=scss&module=true&\""],"sourceRoot":""}