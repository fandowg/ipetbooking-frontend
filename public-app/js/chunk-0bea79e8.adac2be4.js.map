{"version":3,"sources":["webpack:///./src/router/views/prices/components/TabInfo.vue?3e7d","webpack:///./src/router/views/prices/components/TabInfo.vue?d938","webpack:///./src/router/views/prices/components/TabInfo.vue?5f76","webpack:///src/router/views/prices/components/TabInfo.vue","webpack:///./src/router/views/prices/components/TabInfo.vue?ffbf","webpack:///./src/router/views/prices/components/TabInfo.vue?faf5"],"names":["module","exports","slide","slide-reverse","page","card-wrapper","footer","header","header__title","switcher","form-item--split","form-item--separator","price-qty","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TabInfo_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TabInfo_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","render","_vm","this","_h","$createElement","_c","_self","class","$style","content","ref","staticClass","attrs","model","submitData","rules","submitRules","label-position","gutter","sm","span","label","prop","data-tour-step","data-tour-text","value","callback","$$v","$set","expression","disabled","isEditMode","on","change","onChangeCategory","parentCategoryId","_l","item","index","key","title","id","placeholder","_e","staticStyle","margin-bottom","font-size","color","_v","_s","serviceBaseUrl","type","autosize","minRows","staticRenderFns","TabInfovue_type_script_lang_js_","components","props","products","Array","required","category","categoryIndex","Number","default","categoryId","defaultValue","Object","data","canSetPrice","pickerOptions","disabledDate","time","getTime","Date","now","tryingToStore","tryingToRemove","computed","objectSpread","helpers","get","set","$emit","parentCategoryIndex","productBaseBookingUrl","url","window","globalData","APP_ENV","merchantUrl","prefixUrl","split","concat","currentMerchant","alias","$hasHomeService","message","trigger","pattern","description","availableAmount","amount","inventory","qty","groupOrdering","introtextOption","_this","options","forEach","categoryIds","push","apply","toConsumableArray","params","currentProductAlias","_this2","some","productId","isService","$route","currentCategory","filter","children","length","watch","getParentCategoryIndex","created","checkCanSetPrice","methods","_checkCanSetPrice","asyncToGenerator","regenerator_default","a","mark","_callee","merchantInfo","settings","wrap","_context","prev","next","$can","cashflowSetting","$store","dispatch","sent","abrupt","stop","arguments","$nextTick","_this3","validate","$refs","form","components_TabInfovue_type_script_lang_js_","injectStyles","context","TabInfovue_type_style_index_0_lang_scss_module_true_","locals","component","componentNormalizer"],"mappings":"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","file":"js/chunk-0bea79e8.adac2be4.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"TabInfo_slide_LEIfZ\",\"slide-reverse\":\"TabInfo_slide-reverse_2_jnY\",\"page\":\"TabInfo_page_1pL6F\",\"card-wrapper\":\"TabInfo_card-wrapper_3uMz6\",\"footer\":\"TabInfo_footer_3yxOA\",\"header\":\"TabInfo_header_2bNlz\",\"header__title\":\"TabInfo_header__title_2wRP0\",\"switcher\":\"TabInfo_switcher_18ur0\",\"form-item--split\":\"TabInfo_form-item--split_39iJr\",\"form-item--separator\":\"TabInfo_form-item--separator_3ppy8\",\"price-qty\":\"TabInfo_price-qty_1K77t\"};","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabInfo.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabInfo.vue?vue&type=style&index=0&lang=scss&module=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.content},[_c('el-form',{ref:\"form\",staticClass:\"el-form--floating\",attrs:{\"model\":_vm.submitData,\"rules\":_vm.submitRules,\"label-position\":\"top\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"sm\":12,\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"名稱\",\"prop\":\"title\",\"data-tour-step\":\"1\",\"data-tour-text\":\"給此方案一個名稱，讓客戶可以了解不同方案的差異性。\"}},[_c('el-input',{model:{value:(_vm.submitData.title),callback:function ($$v) {_vm.$set(_vm.submitData, \"title\", $$v)},expression:\"submitData.title\"}})],1)],1),_c('el-col',{attrs:{\"sm\":12,\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"寵物類別\"}},[_c('el-select',{attrs:{\"disabled\":!!_vm.isEditMode},on:{\"change\":_vm.onChangeCategory},model:{value:(_vm.parentCategoryId),callback:function ($$v) {_vm.parentCategoryId=$$v},expression:\"parentCategoryId\"}},_vm._l((_vm.currentCategory),function(item,index){return _c('el-option',{key:(\"category-\" + index),attrs:{\"label\":item.title,\"value\":item.id}})}),1)],1)],1),(_vm.isService)?_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"服務網址別名\",\"prop\":\"alias\"}},[_c('el-input',{attrs:{\"placeholder\":\"請使用英文字母與數字組合\"},model:{value:(_vm.submitData.alias),callback:function ($$v) {_vm.$set(_vm.submitData, \"alias\", $$v)},expression:\"submitData.alias\"}})],1)],1):_vm._e(),(_vm.isService)?_c('el-col',{staticStyle:{\"margin-bottom\":\"20px\",\"font-size\":\"12px\",\"color\":\"darkgray\"},attrs:{\"span\":24}},[_vm._v(\"\\n        服務項目網址範例：\"+_vm._s((\"\" + _vm.serviceBaseUrl))+\"\\n      \")]):_vm._e(),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"項目描述\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2 }},model:{value:(_vm.submitData.description),callback:function ($$v) {_vm.$set(_vm.submitData, \"description\", $$v)},expression:\"submitData.description\"}})],1)],1),(_vm.isService)?_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"預約內容\",\"prop\":\"content\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2 }},model:{value:(_vm.submitData.content),callback:function ($$v) {_vm.$set(_vm.submitData, \"content\", $$v)},expression:\"submitData.content\"}})],1)],1):_vm._e(),(_vm.isService)?_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"注意事項\",\"prop\":\"notice\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2 }},model:{value:(_vm.submitData.notice),callback:function ($$v) {_vm.$set(_vm.submitData, \"notice\", $$v)},expression:\"submitData.notice\"}})],1)],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport lazyLoadComponent from '@router/lazyload-component'\n// import BaseInputFloatingLabel from '@components/BaseInputFloatingLabel'\nimport { merchantComputed, authComputed } from '@state/helpers'\n// import { messageStroe, messageDelete } from '@utils/message'\n// import { messageBoxDelete } from '@utils/message-box'\n// import { notification } from '@utils/notification'\n\n// const initData = () => {\n//   return {\n//     title: '',\n//     alias: '',\n//     state: 1,\n//     serviceTime: 90,\n//     bufferTime: 30,\n//     introtext: '',\n//     description: '',\n//     content: '',\n//     notice: '',\n//     basePrice: '0',\n//     price: '0',\n//     productId: '',\n//     images: [],\n//     categoryIds: [],\n//     // categoryIds: 2,\n//   }\n// }\n\nexport default {\n  components: {\n\n    // BaseInputFloatingLabel,\n   \n  },\n  props: {\n    products: {\n      type: Array,\n      required: true,\n    },\n    category: {\n      type: Array,\n      required: true,\n    },\n    categoryIndex:{\n      type:Number,\n      default:0\n    },\n    categoryId:{\n      type:Number,\n      default:0\n    },\n    defaultValue: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n   \n    return {\n      // submitData: Object.assign(initData(), this.defaultValue),\n      canSetPrice: false,\n      pickerOptions: {\n        disabledDate(time) {\n          return time.getTime() < Date.now() - 8.64e7\n        },\n      },\n      // productId: '',\n      tryingToStore: false,\n      tryingToRemove: false,\n      // parentCategoryId: '',\n      // parentCategoryIndex: 0,\n      // noticeChecked: false,\n     \n    }\n  },\n  computed: {\n    ...merchantComputed,\n    ...authComputed,\n    submitData:{\n      get(){\n        return this.defaultValue\n      },\n      set(value) {\n        this.$emit('update:defaultValue', value)\n      },\n    },\n    parentCategoryIndex:{\n      get(){\n        return this.categoryIndex\n      },\n      set(value) {\n        this.$emit('update:categoryIndex', value)\n      },\n    },\n    parentCategoryId:{\n      get(){\n        return this.categoryId\n      },\n      set(value) {\n        this.$emit('update:categoryId', value)\n      },\n    },\n    productBaseBookingUrl() {\n      // return `${this.merchantUrl}/booking/${this.currentProductAlias}/`\n      let url=''\n      if(window.globalData.APP_ENV==='local'){\n        url=this.merchantUrl\n      }else{\n        const prefixUrl = this.merchantUrl.split('//',2)\n        url = `${prefixUrl[0]}//${this.currentMerchant.alias}.${prefixUrl[1]}`\n        // url = `${prefixUrl[0]}//${this.currentMerchant.alias}.${prefixUrl[1]}/reservation/`\n      }\n      return url\n    },\n    serviceBaseUrl(){\n      if (this.$hasHomeService()){\n        return `${this.productBaseBookingUrl}/store/分店別名/reservation/服務網址別名＋系統產生數字`\n      } else {\n        return `${this.productBaseBookingUrl}/reservation/服務網址別名＋系統產生數字`\n      }\n    },\n    submitRules() {\n      return {\n        alias: [\n          {\n            required: true,\n            message: '請填寫別名',\n            trigger: 'blur',\n          },\n          {\n            pattern: /^[a-zA-Z0-9-]+$/,\n            message: '請使用英文大小寫字母、數字或英文半形連字號組合',\n            trigger: 'blur',\n          },\n        ],\n        title: [\n          {\n            required: true,\n            message: '請填寫服務名稱',\n            trigger: 'blur',\n          },\n        ],\n  \n        // introtext: [\n        //   {\n        //     required: true,\n        //     message: '請填寫簡述',\n        //     trigger: 'blur',\n        //   },\n        // ],\n        description: [\n          {\n            required: true,\n            message: '請填寫服務內容',\n            trigger: 'blur',\n          },\n        ],\n\n      }\n    },\n    availableAmount() {\n      const amount = this.submitData.inventory - this.defaultValue.qty\n      return amount < 0 ? 0 : amount\n    },\n    isEditMode() {\n      return this.defaultValue.groupOrdering\n    },\n    // isEditMode() {\n    //   return this.defaultValue.id\n    // },\n    // formatSubmitData() {\n    //   // const { images, categoryIds } = this.submitData\n    //   const { images } = this.submitData\n    //   return {\n    //     ...this.submitData,\n    //     images: images.map((image, index) => {\n    //       return {\n    //         ...image,\n    //         default: index === 0 ? 1 : 0,\n    //       }\n    //     }),\n    //     // categoryIds: [categoryIds],\n    //   }\n    // },\n    introtextOption() {\n      const options = []\n      this.category.forEach((item) => {\n        if (this.submitData.categoryIds === item.id) options.push(...item.params)\n      })\n      return options\n    },\n    currentProductAlias() {\n      let alias = ''\n      this.products.some((item) => item.id === this.submitData.productId && (alias = item.alias))\n      return alias\n    },\n    isService(){\n      return this.$route.params.type !== 'addition'\n    },\n    currentCategory(){\n      return this.category.filter(item=>{\n        return item.children.length > 0\n      })\n    }\n  },\n  watch: {\n    parentCategoryId() {\n      this.getParentCategoryIndex()\n    },\n    // noticeChecked(value) {\n    //   if (value) {\n    //     this.getStore()\n    //   }\n    // },\n  },\n  created() {\n    this.checkCanSetPrice()\n    // this.getParentCategoryId()\n    this.getParentCategoryIndex()\n    if(!this.isEditMode){\n      this.parentCategoryId = this.category[0].id\n    }\n    \n    // this.$route.meta.title=\"新增服務\"\n  },\n  methods: {\n    // async tryToStore() {\n    //   this.tryingToStore = true\n    //   try {\n    //     await this.$store.dispatch('product/storeServicePrice', { productId: this.submitData.productId, params: [this.formatSubmitData] })\n    //     if (!this.isEditMode) {\n    //       messageStroe('add')\n    //       notification('一般服務','排班人員','staff')\n    //       // this.$message({\n    //       //   message: `創建成功！`,\n    //       //   type: 'success',\n    //       // })\n    //     } else {\n    //       messageStroe('edit')\n    //     }\n\n    //     this.updateParent()\n    //   } finally {\n    //     this.tryingToStore = false\n    //   }\n    // },\n    // async tryToRemove() {\n    //   try {\n    //     await messageBoxDelete('該服務項目')\n    //     try {\n    //       this.tryingToRemove = true\n    //       await this.$store.dispatch('product/removeServicePrice', { ids: [this.submitData.id] })\n    //       // await this.$store.dispatch('product/storeServicePrice', { productId: this.submitData.productId, params: [{ ...this.formatSubmitData, state: -2 }] })\n    //       messageDelete()\n    //       this.updateParent()\n    //     } finally {\n    //       this.tryingToRemove = false\n    //     }\n    //   } catch {\n      \n    //   }\n\n    //   /* await this.$store.dispatch('product/removeServicePrice', {\n    //     ids: [this.submitData.id],\n    //     productId: this.submitData.productId,\n    //   }) */\n    // },\n    // emitSave() {\n    //   this.$refs.form.validate((valid) => {\n    //     if (valid) {\n    //       this.tryToStore()\n    //     }\n    //   })\n    // },\n    // emitButtonEvent(event) {\n    //   this.$emit(event)\n    // },\n    async checkCanSetPrice() {\n      if (!this.$can('api', 'setPrice')) {\n        const merchantInfo = this.currentMerchant\n        if (merchantInfo === '' || merchantInfo.cashflowSetting !== 1) {\n          const settings = await this.$store.dispatch('merchant/fetchSingle')\n          this.canSetPrice = settings.cashflowSetting === 1\n          return\n        }\n      }\n\n      this.canSetPrice = this.$can('api', 'setPrice')\n    },\n    // updateParent() {\n    //   this.emitButtonEvent('update')\n    //   this.emitButtonEvent('cancel')\n    // },\n    onChangeCategory() {\n      // console.log(879)\n      this.$nextTick(function () {\n        this.submitData.categoryIds = []\n      })\n\n      //  this.submitData.categoryIds[0]=''\n      // this.submitData.introtext = ''\n    },\n    // getParentCategoryId() {\n    //   this.category.forEach((parant) => {\n    //     parant.children.forEach((category) => {\n    //       if (this.submitData.categoryIds[0] === category.id) {\n    //         this.parentCategoryId = category.parentId\n    //         // this.parentCategoryIndex=\n    //       }\n    //     })\n    //   })\n    //   this.getParentCategoryIndex()\n    // },\n    getParentCategoryIndex() {\n      this.category.forEach((item, index) => {\n        if (this.parentCategoryId === item.id) {\n          // console.log(index)\n          this.parentCategoryIndex = index\n        }\n      })\n    },\n    // async getStore(type) {\n    //   const { notice } = await this.$store.dispatch('product/fetchSingle', this.submitData.productId)\n\n    //   this.submitData.notice = notice\n    // },\n    validate() {\n      // console.log(333)\n      return this.$refs.form.validate()\n    },\n  },\n}\n</script>\n\n<template>\n \n        <div :class=\"$style.content\">\n          <el-form ref=\"form\" :model=\"submitData\" :rules=\"submitRules\" label-position=\"top\" class=\"el-form--floating\">\n            <el-row :gutter=\"20\">\n              <el-col :sm=\"12\" :span=\"24\">\n                <el-form-item label=\"名稱\" prop=\"title\" data-tour-step=\"1\" data-tour-text=\"給此方案一個名稱，讓客戶可以了解不同方案的差異性。\">\n                  <el-input v-model=\"submitData.title\" />\n                </el-form-item>\n              </el-col>\n              <el-col :sm=\"12\" :span=\"24\">\n                <!-- <el-form-item label=\"寵物類別\">\n                <el-radio-group v-model=\"parentCategoryId\" @change.native=\"onChangeCategory\" >\n                  <el-radio v-for=\"(item, index) in category\" :key=\"`category-${index}`\" :label=\"item.id\" border style=\"margin-right: 10px\">{{ item.title }}</el-radio>\n                </el-radio-group>\n              </el-form-item> -->\n                <el-form-item label=\"寵物類別\">\n                  <el-select v-model=\"parentCategoryId\" :disabled=\"!!isEditMode\" @change=\"onChangeCategory\">\n                    <el-option v-for=\"(item, index) in currentCategory\" :key=\"`category-${index}`\" :label=\"item.title\" :value=\"item.id\"></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <!-- <el-col :sm=\"12\" :span=\"24\">\n                <el-form-item label=\"寵物體型\" prop=\"categoryIds\">\n                  <el-select v-model=\"submitData.categoryIds[0]\" placeholder=\"寵物體型\">\n                    <template v-if=\"parentCategoryId\">\n                      <el-option v-for=\"(item, index) in category[parentCategoryIndex].children\" :key=\"index\" :label=\"item.title\" :value=\"item.id\"></el-option>\n                    </template>\n                  </el-select>\n                </el-form-item>\n              </el-col> -->\n\n              <!-- <el-col v-if=\"isService\" :span=\"24\">\n                <el-form-item :label=\"$root.isSmallDevice ? `項目網址: ${productBaseBookingUrl}` : `項目網址`\" prop=\"alias\">\n                  <el-input v-model=\"submitData.alias\" placeholder=\"請使用英文字母與數字組合\">\n                    <template v-if=\"!$root.isSmallDevice\" v-slot:prepend>{{ productBaseBookingUrl }}</template>\n                  </el-input>\n                </el-form-item>\n              </el-col> -->\n\n              <el-col v-if=\"isService\" :span=\"24\">\n                <el-form-item :label=\"`服務網址別名`\" prop=\"alias\">\n                  <el-input v-model=\"submitData.alias\" placeholder=\"請使用英文字母與數字組合\">\n                    <!-- <template  v-slot:append>範例：{{`${productBaseBookingUrl}/store/分店別名/reservation/服務網址別名＋數字`}}</template> -->\n                  </el-input>\n                </el-form-item>\n              </el-col>\n              <el-col v-if=\"isService\" style=\"margin-bottom:20px;font-size: 12px; color: darkgray;\" :span=\"24\">\n                服務項目網址範例：{{`${serviceBaseUrl}`}}\n              </el-col>\n\n              <!-- <el-col :sm=\"12\" :span=\"24\">\n                <el-form-item label=\"是否上架\" prop=\"state\" data-tour-step=\"4\" data-tour-text=\"若目前不想將此方案顯示於訂購頁讓客戶看到，請將此方案切換至關閉。\">\n                  <el-switch v-model=\"submitData.state\" active-text=\"是\" inactive-text=\"否\" :active-value=\"1\" :inactive-value=\"0\"></el-switch>\n                </el-form-item>\n              </el-col>\n              <el-col :sm=\"12\" :span=\"24\">\n                <el-form-item label=\"服務門市\" prop=\"productId\">\n                  <el-select v-model=\"submitData.productId\" placeholder=\"服務門市\">\n                    <el-option v-for=\"(product, index) in products\" :key=\"`option-${index}`\" :label=\"product.name\" :value=\"product.id\"></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col> -->\n              <!-- <el-col :sm=\"12\" :span=\"24\">\n                <el-form-item label=\"服務時間\" prop=\"serviceTime\" data-tour-step=\"3\" data-tour-text=\"此方案可供幾名客戶使用呢？\">\n                  <el-input v-model.number=\"submitData.serviceTime\" min=\"1\">\n                    <template v-slot:append>分鐘</template>\n                  </el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :sm=\"12\" :span=\"24\">\n                <el-form-item label=\"緩衝時間\" prop=\"bufferTime\" data-tour-step=\"3\" data-tour-text=\"此方案可供幾名客戶使用呢？\">\n                  <el-input v-model.number=\"submitData.bufferTime\" min=\"1\">\n                    <template v-slot:append>分鐘</template>\n                  </el-input>\n                </el-form-item>\n              </el-col> -->\n              <!-- <el-col :span=\"24\">\n              <el-form-item label=\"簡述\" prop=\"introtext\" data-tour-step=\"2\" data-tour-text=\"簡短描述此方案的內容，讓客戶可以大略知道此方案提供哪些內容。\"> -->\n              <!-- <BaseInputFloatingLabel v-model=\"submitData.introtext\" /> -->\n              <!-- <el-select v-model=\"submitData.introtext\" placeholder=\"簡述\">\n                  <el-option v-for=\"(option, index) in introtextOption\" :key=\"`introtextOption-${index}`\" :label=\"option.title\" :value=\"option.title\"></el-option>\n                </el-select>\n              </el-form-item>\n            </el-col> -->\n\n              <el-col :span=\"24\">\n                <el-form-item label=\"項目描述\" prop=\"description\">\n                  <el-input v-model=\"submitData.description\" type=\"textarea\" :autosize=\"{ minRows: 2 }\" />\n                </el-form-item>\n              </el-col>\n              <el-col v-if=\"isService\" :span=\"24\">\n                <el-form-item label=\"預約內容\" prop=\"content\">\n                  <el-input v-model=\"submitData.content\" type=\"textarea\" :autosize=\"{ minRows: 2 }\" />\n                </el-form-item>\n              </el-col>\n              <el-col v-if=\"isService\" :span=\"24\">\n                <el-form-item label=\"注意事項\" prop=\"notice\">\n                  <el-input v-model=\"submitData.notice\" type=\"textarea\" :autosize=\"{ minRows: 2 }\" />\n                  <!-- <el-checkbox v-model=\"noticeChecked\">與商店設定相同</el-checkbox> -->\n                </el-form-item>\n              </el-col>\n              <!-- <el-col :sm=\"12\" :span=\"24\">\n                <el-form-item label=\"原價\" prop=\"basePrice\">\n                  <el-tooltip :disabled=\"canSetPrice\" effect=\"dark\" content=\"申請金流並開通後即可編輯價格\" placement=\"top\">\n                    <el-input v-model.number=\"submitData.basePrice\" :disabled=\"!canSetPrice\" min=\"0\" />\n                  </el-tooltip>\n                </el-form-item>\n              </el-col>\n              <el-col :sm=\"12\" :span=\"24\">\n                <el-form-item label=\"售價\" prop=\"price\">\n                  <el-input v-model.number=\"submitData.price\" :disabled=\"!canSetPrice\" min=\"0\" />\n                </el-form-item>\n              </el-col> -->\n              <!-- <el-col :span=\"24\">\n                <el-form-item label=\"服務項目圖片（圖檔最大 2 MB，檔案格式限 JPG 或 PNG，圖片比例：16：9，建議尺寸：800*450px）\">\n                  <el-alert title=\"第一張圖片將會是服務項目首圖\" type=\"warning\" show-icon style=\"padding: 0 16px; margin-top: 5px\"> </el-alert>\n                  <ImageUpload v-model=\"submitData.images\" :class=\"$style.upload\" :show-upload=\"true\" :resource=\"'product'\"></ImageUpload>\n                </el-form-item>\n              </el-col> -->\n            </el-row>\n\n            \n          </el-form>\n        </div>\n   \n</template>\n\n<style lang=\"scss\" module>\n@import '@design';\n@import '@src/design/layout_detail_steps.scss';\n.header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 2px solid $color-border-lighter;\n  h4 {\n    display: inline-block;\n  }\n  &__title {\n    display: inline-flex;\n    flex: 1;\n    align-items: center;\n  }\n}\n.content {\n  // margin-top: 30px;\n}\n.switcher {\n  margin-right: 10px;\n}\n\n.footer {\n  padding-bottom: 15px;\n  // text-align: right;\n  // border-bottom: 2px solid $color-border-lighter;\n}\n\n.form-item {\n  &--split {\n    :global {\n      .el-form-item__content {\n        display: flex;\n        align-items: center;\n      }\n      .el-form-item + .el-form-item {\n        margin-left: 10px;\n      }\n    }\n  }\n  &--separator {\n    height: 40px;\n    line-height: 40px;\n    text-align: center;\n  }\n}\n.price-qty {\n  :global {\n    .el-input-group__append {\n      border: none;\n      background-color: #f2f2f2;\n      color: #2f8d96;\n    }\n  }\n}\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabInfo.vue?vue&type=template&id=2360ea1e&\"\nimport script from \"./TabInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./TabInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TabInfo.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}