{"version":3,"sources":["webpack:///./src/router/views/chat/DetailOrdersPrepaid.vue?3e82","webpack:///src/router/views/chat/DetailOrdersPrepaid.vue","webpack:///./src/router/views/chat/DetailOrdersPrepaid.vue?d9cb","webpack:///./src/router/views/chat/DetailOrdersPrepaid.vue","webpack:///./node_modules/portal-vue/dist/portal-vue.common.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","modifiers","fullscreen","lock","attrs","element-loading-text","data","loadedOrders","default-sort","prop","order","row-class-name","calcRowClassName","height","on","row-click","tryToGetOrder","label","width","sortable","scopedSlots","_u","key","fn","ref","row","_v","_s","_f","created","state","status","text","source","paymentMethod","prepaidTitle","date","time","content","placement","type","current-page","currentPage","update:currentPage","$event","update:current-page","visible","drawerVisible","append-to-body","size","$root","isSmallDevice","update:visible","slot","default-value","drawerOrderData","update:defaultValue","update:default-value","update","tryToSearchOrder","staticRenderFns","DetailOrdersPrepaidvue_type_script_lang_js_","components","PortalTarget","portal_vue_common","BaseStateLabel","Object","lazyload_component","__webpack_require__","e","then","bind","OrderDetail","filters","orderStatusFilter","filter_value_to_text","orderSourceFilter","orderPaymentMethodFilter","formatDate","format_date","mixins","pagination","tryingToGetOrder","watch","handler","immediate","methods","_ref","orderStatus","orderUsedStatus","groupSize","usedSize","_tryToGetOrder","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$store","dispatch","id","sent","stop","_x","apply","arguments","_tryToSearchOrder","_callee2","_ref2","items","total","_this","_context2","assign","memberId","$route","params","pageQuery","$nextTick","$refs","updateTotal","chat_DetailOrdersPrepaidvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_interopDefault","ex","defineProperty","exports","Vue","_typeof","obj","Symbol","iterator","constructor","prototype","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Array","isArray","i","arr2","length","iter","toString","call","from","TypeError","inBrowser","window","freeze","item","combinePassengers","transports","slotProps","undefined","reduce","passengers","transport","temp","newPassengers","concat","stableSort","array","compareFn","map","v","idx","sort","b","c","pick","keys","acc","hasOwnProperty","targets","sources","Wormhole","extend","trackInstances","open","to","_transport$order","Infinity","newTransport","indexOf","set","currentIndex","$_getTransportIndex","newTransports","slice","push","close","force","index","splice","registerTarget","target","vm","console","warn","$set","unregisterTarget","$delete","registerSource","unregisterSource","hasTarget","hasSource","hasContentFor","wormhole","_id","Portal","props","disabled","Boolean","String","default","Number","slim","tag","Math","round","random","mounted","sendUpdate","updated","clear","beforeDestroy","newValue","oldValue","closer","normalizeSlots","$scopedSlots","$slots","normalizeOwnChildren","children","slotContent","h","Tag","class","v-portal","style","display","multiple","required","transition","Function","firstRender","ownTransports","$emit","newVal","oldVal","_this2","computed","noWrapper","vue-portal-target","_id$1","portalProps","targetProps","MountingPortal","inheritAttrs","append","bail","mountTo","targetSlim","targetSlotProps","targetTag","document","el","querySelector","$props","portalTarget","mountEl","createElement","appendChild","_props","parent","$parent","propsData","error","$el","parentNode","removeChild","$destroy","manual","$attrs","$listeners","install","Vue$$1","options","portalName","portalTargetName","MountingPortalName"],"mappings":"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","file":"js/chunk-29b75539.1f8c69dd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.tryingToGetOrder),expression:\"tryingToGetOrder\",modifiers:{\"fullscreen\":true,\"lock\":true}}],attrs:{\"element-loading-text\":\"取得訂單資訊中\",\"data\":_vm.loadedOrders,\"default-sort\":{ prop: 'date', order: 'descending' },\"row-class-name\":_vm.calcRowClassName,\"height\":350},on:{\"row-click\":_vm.tryToGetOrder}},[_c('el-table-column',{attrs:{\"label\":\"#訂單編號\",\"width\":\"220\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',[_vm._v(_vm._s((\"#\" + (row.orderNo))))]),_c('div',[_vm._v(_vm._s(_vm._f(\"formatDate\")(row.created,'dateTime')))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"狀態與來源\",\"width\":\"120\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('BaseStateLabel',{attrs:{\"state\":_vm._f(\"orderStatusFilter\")(row.status,'color'),\"text\":\"\"}},[_vm._v(_vm._s(_vm._f(\"orderStatusFilter\")(row.status,'text')))]),_c('br'),_c('BaseStateLabel',{attrs:{\"state\":\"info\",\"text\":\"\"}},[_vm._v(_vm._s(_vm._f(\"orderSourceFilter\")(row.source)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"付款方式\",\"width\":\"100\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(_vm._f(\"orderPaymentMethodFilter\")(row.paymentMethod)))]}}])}),_c('el-table-column',{attrs:{\"label\":\"包月方案名稱\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',[_c('b',[_vm._v(_vm._s(row.prepaidTitle))])]),_c('div',[_vm._v(_vm._s(_vm._f(\"formatDate\")(row.date))+\" \"+_vm._s(row.time))])]}}])}),_c('el-table-column',{attrs:{\"width\":\"50\"}},[_c('el-tooltip',{attrs:{\"content\":\"查看訂單詳情\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"type\":\"text\"}},[_c('BaseIcon',{attrs:{\"name\":\"ellipsis-v\"}})],1)],1)],1)],1),_c('BasePagination',{ref:\"pagination\",attrs:{\"current-page\":_vm.currentPage},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}}),_c('el-drawer',{attrs:{\"visible\":_vm.drawerVisible,\"append-to-body\":\"\",\"size\":_vm.$root.isSmallDevice ? '100%' : '50%'},on:{\"update:visible\":function($event){_vm.drawerVisible=$event}}},[_c('PortalTarget',{attrs:{\"slot\":\"title\",\"name\":\"drawer-prepaid-header\"},slot:\"title\"}),_c('OrderDetail',{ref:\"orderDetail\",attrs:{\"default-value\":_vm.drawerOrderData},on:{\"update:defaultValue\":function($event){_vm.drawerOrderData=$event},\"update:default-value\":function($event){_vm.drawerOrderData=$event},\"update\":_vm.tryToSearchOrder}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport lazyLoadComponent from '@router/lazyload-component'\nimport { orderStatusFilter, orderSourceFilter, orderPaymentMethodFilter } from '@utils/filter-value-to-text'\nimport formatDate from '@utils/format-date'\nimport pageMixin from '@src/mixins/pagination'\nimport { PortalTarget } from 'portal-vue'\n\nexport default {\n  components: {\n    PortalTarget,\n    BaseStateLabel: () => lazyLoadComponent(import('@components/BaseStateLabel')),\n    OrderDetail: () => lazyLoadComponent(import('@components/PrepaidOrderDetail')),\n  },\n  filters: {\n    orderStatusFilter,\n    orderSourceFilter,\n    orderPaymentMethodFilter,\n    formatDate,\n  },\n  mixins: [pageMixin],\n  data() {\n    return {\n      loadedOrders: [],\n      tryingToGetOrder: false,\n      drawerVisible: false,\n      drawerOrderData: '',\n    }\n  },\n\n  watch: {\n    currentPage: {\n      handler: 'tryToSearchOrder',\n      immediate: true,\n    },\n  },\n  methods: {\n    calcRowClassName({ row }) {\n      const orderStatus = row.status\n      const orderUsedStatus = row.groupSize / row.usedSize\n\n      if (orderStatus === 0) return 'order--canceled'\n      if (orderUsedStatus === 1) return 'order--used'\n    },\n    async tryToGetOrder(row) {\n      this.tryingToGetOrder = true\n      this.drawerOrderData = await this.$store.dispatch('prepaid/fetchOrderSingle', row.id)\n      this.tryingToGetOrder = false\n      this.drawerVisible = true\n    },\n    async tryToSearchOrder() {\n      const { items, total } = await this.$store.dispatch('prepaid/fetchOrders', Object.assign({ memberId: this.$route.params.memberId, paymentMethod: 'All' }, this.pageQuery))\n      this.loadedOrders = items\n      this.$nextTick(() => {\n        this.$refs.pagination.updateTotal(total)\n      })\n    },\n  },\n}\n</script>\n\n<template>\n  <div>\n    <el-table\n      v-loading.fullscreen.lock=\"tryingToGetOrder\"\n      element-loading-text=\"取得訂單資訊中\"\n      :data=\"loadedOrders\"\n      :default-sort=\"{ prop: 'date', order: 'descending' }\"\n      :row-class-name=\"calcRowClassName\"\n      :height=\"350\"\n      @row-click=\"tryToGetOrder\"\n    >\n      <el-table-column v-slot=\"{ row }\" label=\"#訂單編號\" width=\"220\" sortable>\n        <div>{{ `#${row.orderNo}` }}</div>\n        <div>{{ row.created | formatDate('dateTime') }}</div>\n      </el-table-column>\n      <el-table-column v-slot=\"{ row }\" label=\"狀態與來源\" width=\"120\" sortable>\n        <BaseStateLabel :state=\"row.status | orderStatusFilter('color')\" text>{{ row.status | orderStatusFilter('text') }}</BaseStateLabel>\n        <br />\n        <BaseStateLabel state=\"info\" text>{{ row.source | orderSourceFilter }}</BaseStateLabel>\n      </el-table-column>\n      <el-table-column v-slot=\"{ row }\" label=\"付款方式\" width=\"100\" sortable>{{ row.paymentMethod | orderPaymentMethodFilter }}</el-table-column>\n\n      <el-table-column v-slot=\"{ row }\" label=\"包月方案名稱\">\n        <div>\n          <b>{{ row.prepaidTitle }}</b>\n        </div>\n        <div>{{ row.date | formatDate }} {{ row.time }}</div>\n      </el-table-column>\n      <el-table-column width=\"50\">\n        <el-tooltip content=\"查看訂單詳情\" placement=\"top\">\n          <el-button type=\"text\">\n            <BaseIcon name=\"ellipsis-v\" />\n          </el-button>\n        </el-tooltip>\n      </el-table-column>\n    </el-table>\n    <BasePagination ref=\"pagination\" :current-page.sync=\"currentPage\" />\n    <el-drawer :visible.sync=\"drawerVisible\" append-to-body :size=\"$root.isSmallDevice ? '100%' : '50%'\">\n      <!-- header -->\n      <PortalTarget name=\"drawer-prepaid-header\" slot=\"title\"></PortalTarget>\n      <OrderDetail ref=\"orderDetail\" :default-value.sync=\"drawerOrderData\" @update=\"tryToSearchOrder\" />\n    </el-drawer>\n  </div>\n</template>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailOrdersPrepaid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailOrdersPrepaid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailOrdersPrepaid.vue?vue&type=template&id=1c84365a&\"\nimport script from \"./DetailOrdersPrepaid.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailOrdersPrepaid.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n /*! \n  * portal-vue © Thorsten Lünborg, 2019 \n  * \n  * Version: 2.1.7\n  * \n  * LICENCE: MIT \n  * \n  * https://github.com/linusborg/portal-vue\n  * \n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar Vue = _interopDefault(require('vue'));\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar inBrowser = typeof window !== 'undefined';\nfunction freeze(item) {\n  if (Array.isArray(item) || _typeof(item) === 'object') {\n    return Object.freeze(item);\n  }\n\n  return item;\n}\nfunction combinePassengers(transports) {\n  var slotProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return transports.reduce(function (passengers, transport) {\n    var temp = transport.passengers[0];\n    var newPassengers = typeof temp === 'function' ? temp(slotProps) : transport.passengers;\n    return passengers.concat(newPassengers);\n  }, []);\n}\nfunction stableSort(array, compareFn) {\n  return array.map(function (v, idx) {\n    return [idx, v];\n  }).sort(function (a, b) {\n    return compareFn(a[1], b[1]) || a[0] - b[0];\n  }).map(function (c) {\n    return c[1];\n  });\n}\nfunction pick(obj, keys) {\n  return keys.reduce(function (acc, key) {\n    if (obj.hasOwnProperty(key)) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nvar transports = {};\nvar targets = {};\nvar sources = {};\nvar Wormhole = Vue.extend({\n  data: function data() {\n    return {\n      transports: transports,\n      targets: targets,\n      sources: sources,\n      trackInstances: inBrowser\n    };\n  },\n  methods: {\n    open: function open(transport) {\n      if (!inBrowser) return;\n      var to = transport.to,\n          from = transport.from,\n          passengers = transport.passengers,\n          _transport$order = transport.order,\n          order = _transport$order === void 0 ? Infinity : _transport$order;\n      if (!to || !from || !passengers) return;\n      var newTransport = {\n        to: to,\n        from: from,\n        passengers: freeze(passengers),\n        order: order\n      };\n      var keys = Object.keys(this.transports);\n\n      if (keys.indexOf(to) === -1) {\n        Vue.set(this.transports, to, []);\n      }\n\n      var currentIndex = this.$_getTransportIndex(newTransport); // Copying the array here so that the PortalTarget change event will actually contain two distinct arrays\n\n      var newTransports = this.transports[to].slice(0);\n\n      if (currentIndex === -1) {\n        newTransports.push(newTransport);\n      } else {\n        newTransports[currentIndex] = newTransport;\n      }\n\n      this.transports[to] = stableSort(newTransports, function (a, b) {\n        return a.order - b.order;\n      });\n    },\n    close: function close(transport) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var to = transport.to,\n          from = transport.from;\n      if (!to || !from && force === false) return;\n\n      if (!this.transports[to]) {\n        return;\n      }\n\n      if (force) {\n        this.transports[to] = [];\n      } else {\n        var index = this.$_getTransportIndex(transport);\n\n        if (index >= 0) {\n          // Copying the array here so that the PortalTarget change event will actually contain two distinct arrays\n          var newTransports = this.transports[to].slice(0);\n          newTransports.splice(index, 1);\n          this.transports[to] = newTransports;\n        }\n      }\n    },\n    registerTarget: function registerTarget(target, vm, force) {\n      if (!inBrowser) return;\n\n      if (this.trackInstances && !force && this.targets[target]) {\n        console.warn(\"[portal-vue]: Target \".concat(target, \" already exists\"));\n      }\n\n      this.$set(this.targets, target, Object.freeze([vm]));\n    },\n    unregisterTarget: function unregisterTarget(target) {\n      this.$delete(this.targets, target);\n    },\n    registerSource: function registerSource(source, vm, force) {\n      if (!inBrowser) return;\n\n      if (this.trackInstances && !force && this.sources[source]) {\n        console.warn(\"[portal-vue]: source \".concat(source, \" already exists\"));\n      }\n\n      this.$set(this.sources, source, Object.freeze([vm]));\n    },\n    unregisterSource: function unregisterSource(source) {\n      this.$delete(this.sources, source);\n    },\n    hasTarget: function hasTarget(to) {\n      return !!(this.targets[to] && this.targets[to][0]);\n    },\n    hasSource: function hasSource(to) {\n      return !!(this.sources[to] && this.sources[to][0]);\n    },\n    hasContentFor: function hasContentFor(to) {\n      return !!this.transports[to] && !!this.transports[to].length;\n    },\n    // Internal\n    $_getTransportIndex: function $_getTransportIndex(_ref) {\n      var to = _ref.to,\n          from = _ref.from;\n\n      for (var i in this.transports[to]) {\n        if (this.transports[to][i].from === from) {\n          return +i;\n        }\n      }\n\n      return -1;\n    }\n  }\n});\nvar wormhole = new Wormhole(transports);\n\nvar _id = 1;\nvar Portal = Vue.extend({\n  name: 'portal',\n  props: {\n    disabled: {\n      type: Boolean\n    },\n    name: {\n      type: String,\n      default: function _default() {\n        return String(_id++);\n      }\n    },\n    order: {\n      type: Number,\n      default: 0\n    },\n    slim: {\n      type: Boolean\n    },\n    slotProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    tag: {\n      type: String,\n      default: 'DIV'\n    },\n    to: {\n      type: String,\n      default: function _default() {\n        return String(Math.round(Math.random() * 10000000));\n      }\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      wormhole.registerSource(_this.name, _this);\n    });\n  },\n  mounted: function mounted() {\n    if (!this.disabled) {\n      this.sendUpdate();\n    }\n  },\n  updated: function updated() {\n    if (this.disabled) {\n      this.clear();\n    } else {\n      this.sendUpdate();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    wormhole.unregisterSource(this.name);\n    this.clear();\n  },\n  watch: {\n    to: function to(newValue, oldValue) {\n      oldValue && oldValue !== newValue && this.clear(oldValue);\n      this.sendUpdate();\n    }\n  },\n  methods: {\n    clear: function clear(target) {\n      var closer = {\n        from: this.name,\n        to: target || this.to\n      };\n      wormhole.close(closer);\n    },\n    normalizeSlots: function normalizeSlots() {\n      return this.$scopedSlots.default ? [this.$scopedSlots.default] : this.$slots.default;\n    },\n    normalizeOwnChildren: function normalizeOwnChildren(children) {\n      return typeof children === 'function' ? children(this.slotProps) : children;\n    },\n    sendUpdate: function sendUpdate() {\n      var slotContent = this.normalizeSlots();\n\n      if (slotContent) {\n        var transport = {\n          from: this.name,\n          to: this.to,\n          passengers: _toConsumableArray(slotContent),\n          order: this.order\n        };\n        wormhole.open(transport);\n      } else {\n        this.clear();\n      }\n    }\n  },\n  render: function render(h) {\n    var children = this.$slots.default || this.$scopedSlots.default || [];\n    var Tag = this.tag;\n\n    if (children && this.disabled) {\n      return children.length <= 1 && this.slim ? this.normalizeOwnChildren(children)[0] : h(Tag, [this.normalizeOwnChildren(children)]);\n    } else {\n      return this.slim ? h() : h(Tag, {\n        class: {\n          'v-portal': true\n        },\n        style: {\n          display: 'none'\n        },\n        key: 'v-portal-placeholder'\n      });\n    }\n  }\n});\n\nvar PortalTarget = Vue.extend({\n  name: 'portalTarget',\n  props: {\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    name: {\n      type: String,\n      required: true\n    },\n    slim: {\n      type: Boolean,\n      default: false\n    },\n    slotProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    transition: {\n      type: [String, Object, Function]\n    }\n  },\n  data: function data() {\n    return {\n      transports: wormhole.transports,\n      firstRender: true\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      wormhole.registerTarget(_this.name, _this);\n    });\n  },\n  watch: {\n    ownTransports: function ownTransports() {\n      this.$emit('change', this.children().length > 0);\n    },\n    name: function name(newVal, oldVal) {\n      /**\r\n       * TODO\r\n       * This should warn as well ...\r\n       */\n      wormhole.unregisterTarget(oldVal);\n      wormhole.registerTarget(newVal, this);\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    if (this.transition) {\n      this.$nextTick(function () {\n        // only when we have a transition, because it causes a re-render\n        _this2.firstRender = false;\n      });\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    wormhole.unregisterTarget(this.name);\n  },\n  computed: {\n    ownTransports: function ownTransports() {\n      var transports = this.transports[this.name] || [];\n\n      if (this.multiple) {\n        return transports;\n      }\n\n      return transports.length === 0 ? [] : [transports[transports.length - 1]];\n    },\n    passengers: function passengers() {\n      return combinePassengers(this.ownTransports, this.slotProps);\n    }\n  },\n  methods: {\n    // can't be a computed prop because it has to \"react\" to $slot changes.\n    children: function children() {\n      return this.passengers.length !== 0 ? this.passengers : this.$scopedSlots.default ? this.$scopedSlots.default(this.slotProps) : this.$slots.default || [];\n    },\n    // can't be a computed prop because it has to \"react\" to this.children().\n    noWrapper: function noWrapper() {\n      var noWrapper = this.slim && !this.transition;\n\n      if (noWrapper && this.children().length > 1) {\n        console.warn('[portal-vue]: PortalTarget with `slim` option received more than one child element.');\n      }\n\n      return noWrapper;\n    }\n  },\n  render: function render(h) {\n    var noWrapper = this.noWrapper();\n    var children = this.children();\n    var Tag = this.transition || this.tag;\n    return noWrapper ? children[0] : this.slim && !Tag ? h() : h(Tag, {\n      props: {\n        // if we have a transition component, pass the tag if it exists\n        tag: this.transition && this.tag ? this.tag : undefined\n      },\n      class: {\n        'vue-portal-target': true\n      }\n    }, children);\n  }\n});\n\nvar _id$1 = 0;\nvar portalProps = ['disabled', 'name', 'order', 'slim', 'slotProps', 'tag', 'to'];\nvar targetProps = ['multiple', 'transition'];\nvar MountingPortal = Vue.extend({\n  name: 'MountingPortal',\n  inheritAttrs: false,\n  props: {\n    append: {\n      type: [Boolean, String]\n    },\n    bail: {\n      type: Boolean\n    },\n    mountTo: {\n      type: String,\n      required: true\n    },\n    // Portal\n    disabled: {\n      type: Boolean\n    },\n    // name for the portal\n    name: {\n      type: String,\n      default: function _default() {\n        return 'mounted_' + String(_id$1++);\n      }\n    },\n    order: {\n      type: Number,\n      default: 0\n    },\n    slim: {\n      type: Boolean\n    },\n    slotProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    tag: {\n      type: String,\n      default: 'DIV'\n    },\n    // name for the target\n    to: {\n      type: String,\n      default: function _default() {\n        return String(Math.round(Math.random() * 10000000));\n      }\n    },\n    // Target\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    targetSlim: {\n      type: Boolean\n    },\n    targetSlotProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    targetTag: {\n      type: String,\n      default: 'div'\n    },\n    transition: {\n      type: [String, Object, Function]\n    }\n  },\n  created: function created() {\n    if (typeof document === 'undefined') return;\n    var el = document.querySelector(this.mountTo);\n\n    if (!el) {\n      console.error(\"[portal-vue]: Mount Point '\".concat(this.mountTo, \"' not found in document\"));\n      return;\n    }\n\n    var props = this.$props; // Target already exists\n\n    if (wormhole.targets[props.name]) {\n      if (props.bail) {\n        console.warn(\"[portal-vue]: Target \".concat(props.name, \" is already mounted.\\n        Aborting because 'bail: true' is set\"));\n      } else {\n        this.portalTarget = wormhole.targets[props.name];\n      }\n\n      return;\n    }\n\n    var append = props.append;\n\n    if (append) {\n      var type = typeof append === 'string' ? append : 'DIV';\n      var mountEl = document.createElement(type);\n      el.appendChild(mountEl);\n      el = mountEl;\n    } // get props for target from $props\n    // we have to rename a few of them\n\n\n    var _props = pick(this.$props, targetProps);\n\n    _props.slim = this.targetSlim;\n    _props.tag = this.targetTag;\n    _props.slotProps = this.targetSlotProps;\n    _props.name = this.to;\n    this.portalTarget = new PortalTarget({\n      el: el,\n      parent: this.$parent || this,\n      propsData: _props\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    var target = this.portalTarget;\n\n    if (this.append) {\n      var el = target.$el;\n      el.parentNode.removeChild(el);\n    }\n\n    target.$destroy();\n  },\n  render: function render(h) {\n    if (!this.portalTarget) {\n      console.warn(\"[portal-vue] Target wasn't mounted\");\n      return h();\n    } // if there's no \"manual\" scoped slot, so we create a <Portal> ourselves\n\n\n    if (!this.$scopedSlots.manual) {\n      var props = pick(this.$props, portalProps);\n      return h(Portal, {\n        props: props,\n        attrs: this.$attrs,\n        on: this.$listeners,\n        scopedSlots: this.$scopedSlots\n      }, this.$slots.default);\n    } // else, we render the scoped slot\n\n\n    var content = this.$scopedSlots.manual({\n      to: this.to\n    }); // if user used <template> for the scoped slot\n    // content will be an array\n\n    if (Array.isArray(content)) {\n      content = content[0];\n    }\n\n    if (!content) return h();\n    return content;\n  }\n});\n\nfunction install(Vue$$1) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  Vue$$1.component(options.portalName || 'Portal', Portal);\n  Vue$$1.component(options.portalTargetName || 'PortalTarget', PortalTarget);\n  Vue$$1.component(options.MountingPortalName || 'MountingPortal', MountingPortal);\n}\n\nvar index = {\n  install: install\n};\n\nexports.default = index;\nexports.Portal = Portal;\nexports.PortalTarget = PortalTarget;\nexports.MountingPortal = MountingPortal;\nexports.Wormhole = wormhole;\n//# sourceMappingURL=portal-vue.common.js.map\n"],"sourceRoot":""}