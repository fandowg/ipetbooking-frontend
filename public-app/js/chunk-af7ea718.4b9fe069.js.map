{"version":3,"sources":["webpack:///./src/components/Order/Info.vue?88c4","webpack:///./src/components/Order/Info.vue?e962","webpack:///./src/components/Order/Info.vue?7955","webpack:///src/components/Order/Info.vue","webpack:///./src/components/Order/Info.vue?7a6d","webpack:///./src/components/Order/Info.vue?7c5a"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Info_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Info_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","module","exports","slide","slide-reverse","editOneLine","meta","header","title","info","render","_vm","this","_h","$createElement","_c","_self","class","$style","staticClass","_v","_s","defaultValue","isEmployee","_e","_f","created","attrs","state","text","source","paymentStatus","staticStyle","padding","height","round","status","paymentMethod","background","margin-left","margin-top","prepaid","productName","params","color","introtext","date","time","isHomeService","city","district","address","scheduleItem","name","helper","directives","rawName","value","expression","element-loading-background","ref","width","label","model","submitData","callback","$$v","$set","_l","item","index","key","id","sameStore","editAssistantEnabled","assignList","length","loading","on","click","cancelEdit","type","tryingAssign","tryToStoreAssignHelper","size","openEdit","prepaidOrderStatus","$event","goToPrepaidOrder","prepaidOrderUuid","allTotal","allUnpaidTotal","staticRenderFns","Infovue_type_script_lang_js_","components","BaseStateLabel","Object","lazyload_component","e","then","bind","filters","orderStatusFilter","filter_value_to_text","orderSourceFilter","formatDate","format_date","bookingStatusFilter","paymentStatusMapFilter","props","default","Array","Boolean","data","IsFull","objectSpread","watch","computed","helpers","currentUserRoutes","includes","storeType","methods","_tryToStoreAssignHelper","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$emit","$store","dispatch","itemId","stop","apply","arguments","$router","push","query","Order_Infovue_type_script_lang_js_","injectStyles","context","Infovue_type_style_index_0_lang_scss_module_true_","locals","component","componentNormalizer"],"mappings":"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","file":"js/chunk-af7ea718.4b9fe069.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Info.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Info.vue?vue&type=style&index=0&lang=scss&module=true&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"Info_slide_2PdUF\",\"slide-reverse\":\"Info_slide-reverse_2MhuM\",\"editOneLine\":\"Info_editOneLine_1vtlv\",\"meta\":\"Info_meta_2ZIW4\",\"header\":\"Info_header_3Mu_0\",\"title\":\"Info_title_2PoK-\",\"info\":\"Info_info_9rVcE\"};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.info},[_c('h3',{staticClass:\"Jost\"},[_vm._v(_vm._s((\"#\" + (_vm.defaultValue.id))))]),(!_vm.isEmployee)?_c('p',{class:_vm.$style.meta},[_c('span',[_vm._v(_vm._s(_vm._f(\"formatDate\")(_vm.defaultValue.created,'dateTime'))+\" 成立訂單\")]),_c('BaseStateLabel',{attrs:{\"state\":\"info\",\"text\":\"\"}},[_vm._v(\"訂單來源：\"+_vm._s(_vm._f(\"orderSourceFilter\")(_vm.defaultValue.source)))])],1):_vm._e(),_c('BaseStateLabel',{attrs:{\"state\":_vm._f(\"paymentStatusMapFilter\")(_vm.defaultValue.paymentStatus,'color')}},[_vm._v(_vm._s(_vm._f(\"paymentStatusMapFilter\")(_vm.defaultValue.paymentStatus,'text')))]),_c('BaseStateLabel',{staticStyle:{\"padding\":\"0 18px\",\"height\":\"25px\"},attrs:{\"round\":true,\"state\":_vm._f(\"bookingStatusFilter\")(_vm.defaultValue.status,'color'),\"text\":\"\"}},[_vm._v(_vm._s(_vm._f(\"bookingStatusFilter\")(_vm.defaultValue.status,'text')))]),_c('br'),(_vm.defaultValue.paymentMethod === 'Prepaid')?_c('BaseStateLabel',{staticStyle:{\"background\":\"#000\",\"margin-left\":\"0\",\"margin-top\":\"10px\"}},[_vm._v(\"方案預約:\"+_vm._s(_vm.defaultValue.prepaid.title))]):_vm._e(),_c('div',{class:_vm.$style.header},[_c('h5',{class:_vm.$style.title},[_vm._v(_vm._s(_vm.defaultValue.productName)+\" \"+_vm._s(_vm.defaultValue.params[0].title))]),_c('h6',{staticStyle:{\"margin-top\":\"-10px\",\"color\":\"darkgrey\"}},[_vm._v(_vm._s(_vm.defaultValue.params[0].introtext))]),_c('h5',{staticClass:\"Jost\"},[_vm._v(\"預約時間：\"+_vm._s(_vm._f(\"formatDate\")(_vm.defaultValue.date))+\" \"+_vm._s(_vm.defaultValue.time))]),(_vm.isHomeService && _vm.defaultValue.city)?_c('h5',{staticClass:\"Jost\"},[_vm._v(\"服務地址：\"+_vm._s(_vm.defaultValue.city)+_vm._s(_vm.defaultValue.district)+_vm._s(_vm.defaultValue.address))]):_c('h5',{staticClass:\"Jost\"},[_vm._v(\"服務地點：\"+_vm._s(_vm.defaultValue.productName))]),(_vm.defaultValue.scheduleItem)?[(_vm.defaultValue.scheduleItem && !_vm.isEmployee)?_c('h5',{staticClass:\"Jost\"},[_vm._v(\"美容師：\"+_vm._s(_vm.defaultValue.scheduleItem.name))]):_vm._e(),(_vm.isEmployee)?_c('div',{class:_vm.$style.editOneLine},[_c('h5',{staticClass:\"editOneLine__title\"},[_vm._v(\"美容師：\")]),_c('span',{staticClass:\"editOneLine__text\"},[_vm._v(_vm._s(_vm.defaultValue.scheduleItem.name)+\" \")])]):_vm._e(),(_vm.defaultValue.status === 6)?_c('div',{class:_vm.$style.editOneLine,staticStyle:{\"margin-top\":\"15px padding:0  20px\"}},[_c('h5',{staticClass:\"editOneLine__title\"},[_vm._v(\"助理：\")]),_c('span',{staticClass:\"editOneLine__text\"},[_vm._v(_vm._s(_vm.defaultValue.helper ? _vm.defaultValue.helper.name : '不指派')+\" \")])]):_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],class:_vm.$style.editOneLine,staticStyle:{\"margin-top\":\"15px padding:0  20px\"},attrs:{\"element-loading-background\":\"rgba(0, 0, 0,0)\"}},[_c('h5',{staticClass:\"editOneLine__title\"},[_vm._v(\"助理：\")]),(_vm.editAssistantEnabled)?[_c('el-form',{ref:\"assistantForm\",staticClass:\"el-form--floating\",staticStyle:{\"width\":\"200px\"}},[_c('el-form-item',{staticClass:\"el-form-item--normal-margin\",attrs:{\"label\":\"\"}},[_c('el-select',{model:{value:(_vm.submitData.helper.id),callback:function ($$v) {_vm.$set(_vm.submitData.helper, \"id\", $$v)},expression:\"submitData.helper.id\"}},[_c('el-option',{attrs:{\"label\":\"不指派\",\"value\":\"\"}}),_vm._l((_vm.assignList),function(item,index){return _c('el-option',{key:index,attrs:{\"value\":item.id,\"label\":((item.name) + \" \" + (item.sameStore ? '(同分店)' : '(不同分店)'))}},[_vm._v(\"\\n                  \"+_vm._s(item.name)+\" (\"+_vm._s(item.sameStore ? '同分店' : '不同分店')+\")\\n                \")])})],2)],1)],1)]:_vm._e(),(!_vm.editAssistantEnabled)?[(_vm.assignList.length > 0 && !_vm.defaultValue.helper)?_c('span',{staticClass:\"editOneLine__text\"},[_vm._v(\"請選擇\")]):_vm._e(),(!_vm.loading && _vm.assignList.length === 0 && !_vm.defaultValue.helper)?_c('span',{staticClass:\"editOneLine__text\"},[_vm._v(\"目前無人員可指派 \")]):_vm._e(),(_vm.defaultValue.helper)?_c('span',{staticClass:\"editOneLine__text\"},[_vm._v(_vm._s(_vm.defaultValue.helper.name)+\" \")]):_vm._e()]:_vm._e(),(_vm.assignList.length > 0)?[(!_vm.editAssistantEnabled)?[_c('el-button',{staticClass:\"is-round\",attrs:{\"size\":\"mini\"},on:{\"click\":_vm.openEdit}},[_c('BaseIcon',{attrs:{\"name\":\"edit\"}}),_c('span',[_vm._v(\"編輯\")])],1)]:[_c('el-button',{staticClass:\"is-round\",on:{\"click\":_vm.cancelEdit}},[_vm._v(\"\\n              取消\\n            \")]),_c('el-button',{staticClass:\"is-round\",attrs:{\"type\":\"primary\",\"loading\":_vm.tryingAssign},on:{\"click\":_vm.tryToStoreAssignHelper}},[_vm._v(\"\\n              儲存\\n            \")])]]:_vm._e()],2)]:_vm._e(),(_vm.defaultValue.prepaidOrderStatus)?[(_vm.defaultValue.prepaidOrderStatus === 2)?_c('div',{class:_vm.$style.editOneLine},[_c('h5',{staticClass:\"editOneLine__title\"},[_vm._v(\"包月方案：\")]),_c('span',{staticClass:\"editOneLine__text\"},[_vm._v(\"未付款\")]),_c('el-button',{staticClass:\"is-round\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.goToPrepaidOrder(_vm.defaultValue.prepaidOrderUuid)}}},[_c('BaseIcon',{attrs:{\"name\":\"edit\"}}),_c('span',[_vm._v(\"編輯\")])],1)],1):_vm._e()]:_vm._e(),(!_vm.isEmployee)?_c('div',{staticClass:\"total\"},[_c('div',[_vm._v(\"訂單總計\")]),_c('div',{staticClass:\"Jost\"},[_vm._v(\"$\"+_vm._s(_vm.defaultValue.allTotal))])]):_vm._e(),(_vm.defaultValue.allUnpaidTotal > 0)?_c('div',{staticClass:\"unpaid\"},[_c('div',[_vm._v(\"未付款項目金額總計\")]),_c('div',{staticClass:\"Jost\"},[_vm._v(\"$\"+_vm._s(_vm.defaultValue.allUnpaidTotal))])]):_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport lazyLoadComponent from '@router/lazyload-component'\n\nimport { orderStatusFilter, orderSourceFilter, bookingStatusFilter ,paymentStatusMapFilter } from '@utils/filter-value-to-text'\nimport formatDate from '@utils/format-date'\nimport { authComputed } from '@state/helpers'\n\nexport default {\n  components: {\n    BaseStateLabel: () => lazyLoadComponent(import('@components/BaseStateLabel')),\n  },\n  filters: {\n    orderStatusFilter,\n    orderSourceFilter,\n    formatDate,\n    bookingStatusFilter,\n    paymentStatusMapFilter\n  },\n  props: {\n    defaultValue: {\n      type: Object,\n      default: () => {},\n    },\n    assignList: {\n      type: Array,\n      default: () => [],\n    },\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      editAssistantEnabled: false,\n      IsFull: false,\n      submitData: { ...this.defaultValue },\n\n      tryingAssign: false,\n    }\n  },\n  watch: {},\n  computed: {\n    ...authComputed,\n    isEmployee() {\n      return this.currentUserRoutes.includes('employee-calendar')\n    },\n    isHomeService(){\n      return this.defaultValue.storeType === 'home'\n    }\n  },\n  created() {},\n  methods: {\n    async tryToStoreAssignHelper() {\n      this.tryingAssign = true\n      this.$emit('update:loading', true)\n      await this.$store.dispatch('order/storeAssignHelper', { id: this.defaultValue.id, itemId: this.submitData.helper.id })\n      this.$emit('update')\n      this.tryingAssign = false\n      this.$emit('update:loading', false)\n      this.editAssistantEnabled = false\n    },\n    cancelEdit() {\n      // this.assistant = ''\n      this.editAssistantEnabled = false\n    },\n    openEdit() {\n      this.editAssistantEnabled = true\n\n      // defaultValue.helper.name\n      if (this.defaultValue.helper) {\n        // this.submitData.helper.id=this.defaultValue.helper.id\n        this.submitData.helper = { ...this.defaultValue.helper }\n      } else {\n        this.submitData.helper = { id: '', name: '' }\n      }\n    },\n    goToPrepaidOrder(id) {\n      // console.log(this.$route.name)\n  \n        this.$router.push({\n          name: 'orders',\n          query: {\n            type: 'prepaidOrder',\n            id,\n          },\n        })\n    \n      // else{\n      //   this.$router.push({\n      //     name: 'orders',\n      //     params: {\n            \n      //       type: 'prepaidOrder',\n      //       id,\n      //     },\n      //   })\n      // }\n    },\n  },\n}\n</script>\n\n<template>\n  <div :class=\"$style.info\">\n    <h3 class=\"Jost\">{{ `#${defaultValue.id}` }}</h3>\n    <p v-if=\"!isEmployee\" :class=\"$style.meta\">\n      <span>{{ defaultValue.created | formatDate('dateTime') }} 成立訂單</span>\n      <BaseStateLabel state=\"info\" text>訂單來源：{{ defaultValue.source | orderSourceFilter }}</BaseStateLabel>\n    </p>\n\n    <BaseStateLabel :state=\"defaultValue.paymentStatus | paymentStatusMapFilter('color')\">{{ defaultValue.paymentStatus | paymentStatusMapFilter('text') }}</BaseStateLabel>\n\n    <BaseStateLabel :round=\"true\" style=\"padding:0 18px;height:25px\" :state=\"defaultValue.status | bookingStatusFilter('color')\" text>{{ defaultValue.status | bookingStatusFilter('text') }}</BaseStateLabel>  <br>\n    <BaseStateLabel v-if=\"defaultValue.paymentMethod === 'Prepaid'\" style=\"background: #000;margin-left:0;margin-top:10px\">方案預約:{{defaultValue.prepaid.title}}</BaseStateLabel>\n\n    <div :class=\"$style.header\">\n      <h5 :class=\"$style.title\">{{ defaultValue.productName }} {{ defaultValue.params[0].title }}</h5>\n      <h6 style=\"margin-top: -10px; color: darkgrey\">{{ defaultValue.params[0].introtext }}</h6>\n      <h5 class=\"Jost\">預約時間：{{ defaultValue.date | formatDate }} {{ defaultValue.time }}</h5>\n      \n      <h5 v-if=\"isHomeService && defaultValue.city\" class=\"Jost\">服務地址：{{ defaultValue.city }}{{ defaultValue.district }}{{ defaultValue.address }}</h5>\n      <h5 v-else class=\"Jost\">服務地點：{{ defaultValue.productName }}</h5>\n      <template v-if=\"defaultValue.scheduleItem\">\n        <h5 v-if=\"defaultValue.scheduleItem && !isEmployee\" class=\"Jost\">美容師：{{ defaultValue.scheduleItem.name }}</h5>\n        <div v-if=\"isEmployee\" :class=\"$style.editOneLine\">\n          <h5 class=\"editOneLine__title\">美容師：</h5>\n\n          <span class=\"editOneLine__text\">{{ defaultValue.scheduleItem.name }} </span>\n          <!-- <template v-if=\"defaultValue.status === 3\">\n          <el-alert class=\"alert-inline\">若需變更美容師或時間，請點選行事曆 → 變更預約時間</el-alert>\n        </template> -->\n          <!-- <div v-if=\"IsFull\" class=\"el-form-item__error\"> 排班已滿，請另外指定 </div> -->\n        </div>\n\n        <div v-if=\"defaultValue.status === 6\" :class=\"$style.editOneLine\" style=\"margin-top: 15px padding:0  20px\">\n          <h5 class=\"editOneLine__title\">助理：</h5>\n          <span class=\"editOneLine__text\">{{ defaultValue.helper ? defaultValue.helper.name : '不指派' }} </span>\n        </div>\n\n        <div v-else v-loading=\"loading\" element-loading-background=\"rgba(0, 0, 0,0)\" :class=\"$style.editOneLine\" style=\"margin-top: 15px padding:0  20px\">\n          <h5 class=\"editOneLine__title\">助理：</h5>\n          <template v-if=\"editAssistantEnabled\">\n            <el-form ref=\"assistantForm\" class=\"el-form--floating\" style=\"width: 200px\">\n              <el-form-item label=\"\" class=\"el-form-item--normal-margin\">\n                <el-select v-model=\"submitData.helper.id\">\n                  <!-- <el-option label=\"不指派\" value></el-option> -->\n                  <el-option label=\"不指派\" value></el-option>\n                  <el-option v-for=\"(item, index) in assignList\" :key=\"index\" :value=\"item.id\" :label=\"`${item.name} ${item.sameStore ? '(同分店)' : '(不同分店)'}`\">\n                    {{ item.name }} ({{ item.sameStore ? '同分店' : '不同分店' }})\n                  </el-option>\n                </el-select>\n              </el-form-item>\n            </el-form>\n          </template>\n          <template v-if=\"!editAssistantEnabled\">\n            <span v-if=\"assignList.length > 0 && !defaultValue.helper\" class=\"editOneLine__text\">請選擇</span>\n            <span v-if=\"!loading && assignList.length === 0 && !defaultValue.helper\" class=\"editOneLine__text\">目前無人員可指派 </span>\n            <span v-if=\"defaultValue.helper\" class=\"editOneLine__text\">{{ defaultValue.helper.name }} </span>\n          </template>\n          <template v-if=\"assignList.length > 0\">\n            <template v-if=\"!editAssistantEnabled\">\n              <el-button class=\"is-round\" size=\"mini\" @click=\"openEdit\">\n                <BaseIcon name=\"edit\" />\n                <span>編輯</span>\n              </el-button>\n            </template>\n            <template v-else>\n              <el-button class=\"is-round\" @click=\"cancelEdit\">\n                <!-- <BaseIcon name=\"times\" />  -->\n                取消\n              </el-button>\n              <el-button class=\"is-round\" type=\"primary\" :loading=\"tryingAssign\" @click=\"tryToStoreAssignHelper\">\n                <!-- <BaseIcon name=\"check\" />  -->\n                儲存\n              </el-button>\n            </template>\n          </template>\n        </div>\n      </template>\n      <template v-if=\"defaultValue.prepaidOrderStatus\">\n        <div v-if=\"defaultValue.prepaidOrderStatus === 2\" :class=\"$style.editOneLine\">\n          <h5 class=\"editOneLine__title\">包月方案：</h5>\n          <span class=\"editOneLine__text\">未付款</span>\n          <el-button class=\"is-round\" size=\"mini\" @click=\"goToPrepaidOrder(defaultValue.prepaidOrderUuid)\">\n            <BaseIcon name=\"edit\" />\n            <span>編輯</span>\n          </el-button>\n        </div>\n      </template>\n\n      <div v-if=\"!isEmployee\" class=\"total\">\n        <div>訂單總計</div>\n        <div class=\"Jost\">${{ defaultValue.allTotal }}</div>\n      </div>\n      <div v-if=\"defaultValue.allUnpaidTotal > 0\" class=\"unpaid\">\n        <div>未付款項目金額總計</div>\n        <div class=\"Jost\">${{ defaultValue.allUnpaidTotal }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" module>\n@import '@design';\n.editOneLine {\n  display: flex;\n  align-items: center;\n  position: relative;\n  flex-wrap: wrap;\n  margin-bottom: 10px;\n  :global {\n    .el-form-item__error {\n      position: static;\n      width: 100%;\n      padding-left: 80px;\n    }\n    .editOneLine {\n      &__title {\n        margin: 0;\n        // margin-right: 15px;\n      }\n      &__text {\n        font-size: 1.2rem;\n        margin-right: 15px;\n      }\n    }\n    .el-form-item {\n      margin-bottom: 0;\n      margin-right: 15px;\n      &.isFull {\n        margin-bottom: 20px;\n      }\n    }\n    .el-input__inner {\n      background-color: #fff;\n      height: 40px;\n    }\n  }\n}\n.meta {\n  display: flex;\n  justify-content: space-between;\n}\n.header {\n  :global {\n    .total {\n      padding: 16px 20px;\n      background-color: #dddbdb;\n\n      margin-top: 20px;\n    }\n    .unpaid {\n      margin-top: 12px;\n      padding: 16px 20px;\n      color: $color-state-danger;\n      background-color: #f2e4e4;\n    }\n    .total,\n    .unpaid {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n  }\n}\n.title:not(:first-child) {\n  margin-top: 30px;\n}\n.info {\n  border-bottom: 1px solid #c6c6ba;\n  padding-bottom: 30px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Info.vue?vue&type=template&id=1f364920&\"\nimport script from \"./Info.vue?vue&type=script&lang=js&\"\nexport * from \"./Info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Info.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}