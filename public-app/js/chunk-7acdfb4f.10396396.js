(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7acdfb4f"],{"6e31":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"form",class:t.$style.form,attrs:{model:t.submitData,rules:t.formRules,"validate-on-rule-change":!1,"label-position":"top",autocomplete:"off"}},[a("h4",{staticClass:"form-block-title"},[t._v("基本設定")]),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"包月方案名稱",prop:"title",required:""}},[a("el-input",{model:{value:t.submitData.title,callback:function(e){t.$set(t.submitData,"title",e)},expression:"submitData.title"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"類別",prop:"categoryId",required:""}},[a("el-select",{attrs:{disabled:t.isEditMode},model:{value:t.submitData.categoryId,callback:function(e){t.$set(t.submitData,"categoryId",e)},expression:"submitData.categoryId"}},t._l(t.currentCategory,function(t,e){return a("el-option",{key:"category-"+e,attrs:{label:t.title,value:t.id}})}),1)],1)],1),a("el-col",{attrs:{span:24,sm:12}},[a("el-form-item",{attrs:{label:"總抵扣次數",prop:"times",required:""}},[a("el-input",{attrs:{min:"0"},model:{value:t.submitData.times,callback:function(e){t.$set(t.submitData,"times",t._n(e))},expression:"submitData.times"}},[a("span",{staticStyle:{"margin-right":"10px"},attrs:{slot:"suffix"},slot:"suffix"},[t._v("次")])])],1)],1),a("el-col",{attrs:{span:24,sm:12}},[a("el-form-item",{attrs:{label:"庫存數量",prop:"infinity",required:""}},[a("div",{class:t.$style["form-item--split"]},[a("el-radio-group",{model:{value:t.submitData.infinity,callback:function(e){t.$set(t.submitData,"infinity",e)},expression:"submitData.infinity"}},[a("el-radio",{attrs:{label:1}},[t._v("無上限")]),a("el-radio",{attrs:{label:0}},[t._v("限量")])],1),a("el-input",{directives:[{name:"show",rawName:"v-show",value:!t.submitData.infinity,expression:"!submitData.infinity"}],attrs:{min:"0",size:"small"},model:{value:t.submitData.inventory,callback:function(e){t.$set(t.submitData,"inventory",t._n(e))},expression:"submitData.inventory"}})],1)])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:""}},[a("span",{attrs:{slot:"label",for:""},slot:"label"},[t._v("使用期限(輸入0表示可以無限期使用)\n          "),a("el-tooltip",{attrs:{content:"如限制方案須於購買後一年內使用完畢，請輸入數字365；一個月內則輸入30。",placement:"right"}},[a("BaseIcon",{attrs:{name:"info-circle"}})],1)],1),a("el-input",{model:{value:t.submitData.expireDays,callback:function(e){t.$set(t.submitData,"expireDays",e)},expression:"submitData.expireDays"}},[a("span",{staticStyle:{"margin-right":"10px"},attrs:{slot:"suffix"},slot:"suffix"},[t._v("天")])])],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"優惠內容",prop:"slogan"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3}},model:{value:t.submitData.slogan,callback:function(e){t.$set(t.submitData,"slogan",e)},expression:"submitData.slogan"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"方案內容說明",prop:"description"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2}},model:{value:t.submitData.description,callback:function(e){t.$set(t.submitData,"description",e)},expression:"submitData.description"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"注意事項",prop:"notice"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2}},model:{value:t.submitData.notice,callback:function(e){t.$set(t.submitData,"notice",e)},expression:"submitData.notice"}})],1)],1)],1),a("h4",{staticClass:"form-block-title"},[t._v("圖片設定")]),a("el-col",{attrs:{sm:24,span:24}},[a("el-form-item",{attrs:{prop:"images"}},[t.$hasSpecial()?t._e():[a("el-alert",{staticStyle:{padding:"0 16px","margin-top":"5px"},attrs:{title:"第一張圖片將會是包月方案首圖,建議尺寸：360*270px",type:"warning","show-icon":""}}),a("ImageUpload",{class:t.$style.upload,attrs:{"is-delete-save":"","show-upload":!0,resource:"prepaid"},on:{deleteSave:t.deleteSave},model:{value:t.submitData.images,callback:function(e){t.$set(t.submitData,"images",e)},expression:"submitData.images"}})],t.$hasSpecial()?[a("el-alert",{staticStyle:{padding:"0 16px","margin-top":"5px"},attrs:{title:"第一張圖片將會是包月方案首圖,建議尺寸：720*350px",type:"warning","show-icon":""}}),a("ImageUpload",{class:t.$style.upload,attrs:{"is-delete-save":"","show-upload":!0,resource:"prepaid"},on:{deleteSave:t.deleteSave},model:{value:t.submitData.images,callback:function(e){t.$set(t.submitData,"images",e)},expression:"submitData.images"}})]:t._e()],2)],1)],1)],1)},s=[],l=a("9395"),r=a("a315"),o=a("4d77"),n={components:{ImageUpload:function(){return Object(r["a"])(a.e("chunk-1c25807e").then(a.bind(null,"fb25")))}},props:{products:{type:Array,required:!0},category:{type:Array,required:!0},defaultValue:{type:Object,default:function(){}}},data:function(){return{}},computed:Object(l["a"])({},o["g"],o["b"],{submitData:{get:function(){return this.defaultValue},set:function(t){this.$emit("update:defaultValue",t)}},canSetPrice:function(){return this.$can("api","setPrice")},formRules:function(){return{title:[{required:!0,message:"請輸入包月方案名稱"}],categoryId:[{required:!0,message:"請選擇類別"}],groupAlias:[{required:!0,message:"請輸入包月網址別名"}],infinity:[{required:!0,message:"請選擇庫存數量"}],times:[{required:!0,message:"請輸入可抵扣次數"}]}},currentCategory:function(){return this.category.filter(function(t){return t.children.length>0})},isEditMode:function(){return!!this.defaultValue.groupOrdering},productBaseBookingUrl:function(){var t="";if("local"===window.globalData.APP_ENV)t=this.merchantUrl;else{var e=this.merchantUrl.split("//",2);t="".concat(e[0],"//").concat(this.currentMerchant.alias,".").concat(e[1])}return t},homeServicePrepaidUrl:function(){return"".concat(this.productBaseBookingUrl,"/").concat(this.storeType,"/prepaid/包月網址別名")},storeType:function(){return"商店類型"}}),created:function(){},methods:{deleteSave:function(){this.isEditMode&&this.$emit("update")},validate:function(){return this.$refs.form.validate()}}},u=n,c=a("c659"),m=a("2877");function p(t){this["$style"]=c["default"].locals||c["default"]}var d=Object(m["a"])(u,i,s,!1,p,null,null);e["default"]=d.exports},c659:function(t,e,a){"use strict";var i=a("d9d9"),s=a.n(i);e["default"]=s.a},d9d9:function(t,e,a){t.exports={slide:"Step1Basic_slide_11vmY","slide-reverse":"Step1Basic_slide-reverse_3vlck",form:"Step1Basic_form_3Twra",upload:"Step1Basic_upload_1bjad","form-item--split":"Step1Basic_form-item--split_3MEEO"}}}]);
//# sourceMappingURL=chunk-7acdfb4f.10396396.js.map