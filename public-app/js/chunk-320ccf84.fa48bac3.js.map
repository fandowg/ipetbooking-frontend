{"version":3,"sources":["webpack:///./src/assets/images/logo-dark.svg","webpack:///./src/router/layouts/mainEmployee.vue?715a","webpack:///./src/router/layouts/mainEmployee.vue?6823","webpack:///./src/router/views/employee/staff.vue?a597","webpack:///src/router/views/employee/staff.vue","webpack:///./src/router/views/employee/staff.vue?79fa","webpack:///./src/router/views/employee/staff.vue","webpack:///./src/router/layouts/mainEmployee.vue?6865","webpack:///./src/router/layouts/sidemenuEmployee.js","webpack:///src/router/layouts/mainEmployee.vue","webpack:///./src/router/layouts/mainEmployee.vue?7c6b","webpack:///./src/router/layouts/mainEmployee.vue?420f"],"names":["module","exports","__webpack_require__","p","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mainEmployee_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mainEmployee_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","slide","slide-reverse","main","header","action","sidebar","menu","menu__item","menu__link","content","wrapper--collapsed","logo","render","_vm","this","_h","$createElement","_c","_self","currentUser","scheduleItemId","staffDetail","id","attrs","default-value","type","on","update:defaultValue","$event","update:default-value","_e","staticRenderFns","staffvue_type_script_lang_js_","page","title","meta","name","components","Layout","mainEmployee","ScheduleStaffDetail","Object","lazyload_component","Promise","all","e","then","bind","data","visibleDetail","scheduleTotalHours","order","items","tryingFetchDetail","visibleEdit","computed","objectSpread","helpers","created","tryToFetchDetail","methods","_tryToFetchDetail","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$store","dispatch","limit","date","format_date","Date","sent","stop","_x","apply","arguments","employee_staffvue_type_script_lang_js_","component","componentNormalizer","_obj","class","$style","wrapper","collapsed","src","alt","trigger","command","onClickDropdown","_v","_s","currentUserName","slot","default-active","$route","mode","router","_l","index","key","icon-style","icon","staticStyle","text-align","padding-right","click","onRemoveAllDeliveredNotifications","to","staticClass","isActive","isUnread","cursor","ref","no-top","isNoTop","_t","sidemenuEmployee","description","mainEmployeevue_type_script_lang_js_","props","Boolean","default","current","menus","vuex_esm","userMenuList","concat","firstName","lastName","window","addEventListener","getHeight","isFirst","fetchPushes","nextCursorRequest","mounted","toggle","$router","push","_this","windowHeight","innerHeight","windowWidth","innerWidth","$nextTick","$refs","$el","style","height","clearUnRead","esm","removeAllDeliveredNotifications","goToNotification","layouts_mainEmployeevue_type_script_lang_js_","injectStyles","context","mainEmployeevue_type_style_index_0_lang_scss_module_true_","locals"],"mappings":"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","file":"js/chunk-320ccf84.fa48bac3.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/logo-dark.9cbb0fa3.svg\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainEmployee.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainEmployee.vue?vue&type=style&index=0&lang=scss&module=true&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"mainEmployee_slide_3QDGL\",\"slide-reverse\":\"mainEmployee_slide-reverse_38YAk\",\"main\":\"mainEmployee_main_1vaV9\",\"header\":\"mainEmployee_header_2-f-F\",\"action\":\"mainEmployee_action_3lBV-\",\"sidebar\":\"mainEmployee_sidebar_16CVv\",\"menu\":\"mainEmployee_menu_1d3Id\",\"menu__item\":\"mainEmployee_menu__item_N0GDd\",\"menu__link\":\"mainEmployee_menu__link_1aplz\",\"content\":\"mainEmployee_content_2x5Hj\",\"wrapper--collapsed\":\"mainEmployee_wrapper--collapsed_3BWY-\",\"logo\":\"mainEmployee_logo_1JifW\"};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',[(_vm.currentUser.scheduleItemId && _vm.staffDetail.id)?_c('ScheduleStaffDetail',{attrs:{\"default-value\":_vm.staffDetail,\"type\":\"employee\"},on:{\"update:defaultValue\":function($event){_vm.staffDetail=$event},\"update:default-value\":function($event){_vm.staffDetail=$event}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport lazyLoadComponent from '@router/lazyload-component'\nimport Layout from '@layouts/mainEmployee'\nimport formatDate from '@utils/format-date'\nimport { authComputed } from '@state/helpers'\n\nexport default {\n  page: {\n    title: '我的帳戶',\n    meta: [{ name: 'description', content: 'Staff' }],\n  },\n  components: { Layout, ScheduleStaffDetail: () => lazyLoadComponent(import('@components/ScheduleStaffDetail')) },\n  data() {\n    return {\n      visibleDetail: false,\n      staffDetail: {\n        scheduleTotalHours:0,\n        order:{\n          items:[]\n        }\n      },\n      tryingFetchDetail: false,\n      visibleEdit: false,\n    }\n  },\n  computed: {\n    ...authComputed,\n  },\n  created() {\n    if(this.currentUser.scheduleItemId){\n      this.tryToFetchDetail(this.currentUser.scheduleItemId)\n    }\n  },\n  methods: {\n    async tryToFetchDetail(id) {\n      this.tryingFetchDetail = true\n      this.staffDetail = await this.$store.dispatch('schedule/fetchStaffDetail', {\n        id,\n        page: 1,\n        limit: 10,\n        date: formatDate(new Date(), 'YYYY-MM'),\n      })\n      this.visibleDetail = true\n      this.tryingFetchDetail = false\n    },\n  },\n}\n</script>\n\n<template>\n  <Layout>\n    <ScheduleStaffDetail v-if=\"currentUser.scheduleItemId && staffDetail.id\" :default-value.sync=\"staffDetail\" type=\"employee\" />\n  </Layout>\n</template>\n\n<style lang=\"scss\" module></style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./staff.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./staff.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./staff.vue?vue&type=template&id=d6df4e34&\"\nimport script from \"./staff.vue?vue&type=script&lang=js&\"\nexport * from \"./staff.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[_vm.$style.wrapper, ( _obj = {}, _obj[_vm.$style['wrapper--collapsed']] = !_vm.collapsed, _obj )]},[_c('el-header',{class:_vm.$style.header},[_c('div',[_c('div',{class:_vm.$style.logo},[_c('img',{attrs:{\"src\":require(\"@assets/images/logo-dark.svg\"),\"alt\":\"\"}})]),_c('el-dropdown',{class:_vm.$style.action,attrs:{\"trigger\":\"click\"},on:{\"command\":_vm.onClickDropdown}},[_c('span',[_vm._v(\"\\n          \"+_vm._s(_vm.currentUserName)+\"\\n          \"),_c('BaseIcon',{attrs:{\"name\":\"angle-down\"}})],1),_c('el-dropdown-menu',{class:_vm.$style['action-menu'],attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"logout\"}},[_vm._v(\"\\n            登出\\n            \"),_c('BaseIcon',{attrs:{\"name\":\"sign-out\"}})],1)],1)],1)],1),_c('el-menu',{attrs:{\"default-active\":_vm.$route.name,\"mode\":\"horizontal\",\"router\":true}},_vm._l((_vm.userMenuList),function(menu,index){return _c('el-menu-item',{key:(\"menu-\" + index),attrs:{\"index\":menu.name}},[_c('BaseIcon',{attrs:{\"icon-style\":\"fal\",\"name\":menu.icon}}),_vm._v(_vm._s(menu.title))],1)}),1),_c('div',{staticStyle:{\"text-align\":\"right\",\"padding-right\":\"10px\"},on:{\"click\":_vm.onRemoveAllDeliveredNotifications}},[_c('router-link',{attrs:{\"to\":{ name: 'employee-notification' }}},[_c('span',{staticClass:\"d-none d-sm-block bell\",class:{ isActive: _vm.isUnread }},[_c('el-button',{staticClass:\"top-link\",attrs:{\"type\":\"text\"}},[_vm._v(\"\\n          推播中心\\n          \"),_c('BaseIcon',{attrs:{\"name\":\"bell\"}})],1)],1),_c('span',{staticClass:\"d-sm-none bell bell--icon\",class:{ isActive: _vm.isUnread },staticStyle:{\"cursor\":\"pointer\"}},[_c('i',{staticClass:\"fal fa-bell fa-lg\"})])])],1)],1),_c('el-main',{ref:\"main\",class:[_vm.$style.main,{ 'no-top': _vm.isNoTop }]},[_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default [\n  {\n    name: 'employee-booking',\n    title: '預約列表',\n    description: '預約列表',\n    icon: 'clipboard-list',\n  },\n  {\n    name: 'employee-calendar',\n    title: '行事曆',\n    description: '行事曆',\n    icon: 'calendar',\n  },\n  {\n    name: 'employee-staff',\n    title: '我的帳戶',\n    description: '我的帳戶',\n    icon: 'users-class',\n  },\n  // {\n  //   name: 'employee-check-in',\n  //   title: '報到核銷',\n  //   description: '報到核銷',\n  //   icon: 'calendar',\n  // },\n]\n","<script>\nimport { authComputed } from '@state/helpers'\nimport filterArrayByValue from '@utils/filter-array-by-value'\n\nimport menuList from './sidemenuEmployee'\nimport { mapState, mapActions } from 'vuex'\nimport { PushNotifications } from \"@capacitor/push-notifications\";\n\nexport default {\n  props:{\n    isNoTop:{\n      type:Boolean,\n      default:false\n    }\n  },\n  data() {\n    return {\n      current: ['home'],\n      collapsed: true,\n      menus: [],\n    }\n  },\n  computed: {\n    ...authComputed,\n    ...mapState('push',['isUnread',\"isFirst\"]),\n    userMenuList() {\n      return menuList\n      // return filterArrayByValue(menuList, this.currentUserRoutes, 'name')\n    },\n    currentUserName() {\n      return this.currentUser && `${this.currentUser.firstName} ${this.currentUser.lastName}`\n    },\n  },\n  created() {\n    window.addEventListener('resize',this.getHeight)\n    if(this.isFirst&& this.$route.name!=='employee-notification'){\n      this.fetchPushes({\n        type:null,\n        nextCursorRequest:null\n      })\n    }\n  },\n  mounted() {\n    this.getHeight()\n  },\n  methods: {\n    ...mapActions('push', ['fetchPushes','clearUnRead']),\n    toggle() {\n      this.collapsed = !this.collapsed\n    },\n    onClickDropdown(command) {\n      this.$router.push({ name: command })\n    },\n    getHeight(){\n      const windowHeight = window.innerHeight\n      const windowWidth = window.innerWidth\n      this.$nextTick(()=>{\n        if(windowWidth<481){\n          // console.log(this.$refs.main,windowHeight)\n          this.$refs.main.$el.style.height=`${windowHeight}px`\n        }else{\n          this.$refs.main.$el.style.height=`auto`\n        }\n      })\n    },\n    onRemoveAllDeliveredNotifications() {\n      this.clearUnRead()\n      if(process.env.VUE_APP_BUILD_MODE === 'admin-app-build') {\n        PushNotifications.removeAllDeliveredNotifications()\n      }\n    },\n    goToNotification(){\n      this.clearUnRead()\n      this.$router.push({\n        name: 'employee-notification'\n      })\n    }\n  },\n}\n</script>\n\n<template>\n  <div :class=\"[$style.wrapper, { [$style['wrapper--collapsed']]: !collapsed }]\">\n    <el-header :class=\"$style.header\">\n      <div>\n        <div :class=\"$style.logo\">\n          <img src=\"~@assets/images/logo-dark.svg\" alt />\n        </div>\n           <el-dropdown :class=\"$style.action\" trigger=\"click\" @command=\"onClickDropdown\">\n          <span>\n            {{ currentUserName }}\n            <BaseIcon name=\"angle-down\" />\n          </span>\n\n          <el-dropdown-menu slot=\"dropdown\" :class=\"$style['action-menu']\">\n            <el-dropdown-item command=\"logout\">\n              登出\n              <BaseIcon name=\"sign-out\" />\n            </el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </div>\n      <el-menu :default-active=\"$route.name\" mode=\"horizontal\" :router=\"true\">\n        <el-menu-item v-for=\"(menu, index) in userMenuList\" :key=\"`menu-${index}`\" :index=\"menu.name\"><BaseIcon icon-style=\"fal\" :name=\"menu.icon\"></BaseIcon>{{ menu.title }}</el-menu-item>\n      </el-menu>\n      <div style=\"text-align: right; padding-right:10px\" @click=\"onRemoveAllDeliveredNotifications\">\n       <router-link :to=\"{ name: 'employee-notification' }\">\n        <span class=\"d-none d-sm-block bell\" :class=\"{ isActive: isUnread }\">\n          <el-button type=\"text\" class=\"top-link\">\n            推播中心\n            <BaseIcon name=\"bell\" />\n          </el-button>\n        </span>\n        <span class=\"d-sm-none bell bell--icon\" style=\"cursor:pointer\" :class=\"{ isActive: isUnread }\">\n          <i class=\"fal fa-bell fa-lg\"></i>\n        </span>\n      </router-link>\n      </div>\n    </el-header>\n    <el-main ref=\"main\" :class=\"[$style.main,{ 'no-top': isNoTop }]\">\n      <slot />\n    </el-main>\n  </div>\n</template>\n\n<style lang=\"scss\" module>\n@import '@design';\n.main{\n  @include touch {\n    min-height: 0 !important;\n  }\n}\n.header {\n  // @include layer-elevation(8);\n\n  position: absolute;\n  z-index: $layer-header-z-index;\n  display: flex;\n  justify-content: space-between;\n  background-color: white;\n  align-items: center;\n  width: 100%;\n  border-bottom: 1px solid #c3c3c3;\n  padding-top: 10px !important;\n  padding-top: calc(constant(safe-area-inset-top) + 10px) !important;\n  padding-top: calc(env(safe-area-inset-top) + 10px) !important;\n  padding-bottom: 0;\n  height: auto !important;\n  min-height: 60px;\n  @include pad {\n    padding: 0 10px;\n  }\n  div {\n    display: flex;\n    align-items: center;\n    // flex-grow: 1;\n    // flex-basis: 0;\n  }\n  ul {\n    flex-grow: 2;\n    flex-basis: 0;\n    display: flex;\n    justify-content: center;\n    border-bottom: none !important;\n    background: transparent;\n    @include pad {\n      position: fixed;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      background: white;\n      border-top: 1px solid #c3c3c3;\n      height: auto;\n      padding-bottom: 15px;\n      padding-top: 15px;\n      justify-content: space-between;\n      box-shadow: 0 -2px 10px 0px rgba(0, 0, 0, 0.14);\n    }\n    :global {\n      .el-menu-item {\n        color: #3f3a2e;\n        & + .el-menu-item {\n          margin-left: 30px;\n        }\n        &:not(.is-disabled):hover,\n        &:not(.is-disabled):focus {\n          background: transparent;\n          color: $color-primary;\n        }\n        &.is-active {\n          border-bottom-width: 3px !important;\n          color: $color-primary !important;\n          @include pad {\n            border: none;\n          }\n        }\n        svg {\n          display: none;\n        }\n        @include pad {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          flex-direction: column;\n          height: auto;\n          line-height: 30px;\n          color: #c6c6ba;\n          border: none;\n          svg {\n            display: inherit;\n            font-size: 24px;\n          }\n          &:last-child {\n            // display: none;\n          }\n        }\n      }\n    }\n  }\n}\n.action {\n  margin: 0 12px;\n  :global {\n    .el-badge {\n      font-size: 18px;\n    }\n  }\n}\n.sidebar {\n  position: absolute;\n  z-index: $layer-sidebar-z-index;\n  height: 100%;\n  background-color: $color-sidebar-bg;\n  transition: width 0.3s;\n  top: 0;\n  left: 0;\n\n  .menu {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: calc(100% - #{$size-header-height});\n    background-color: $color-sidebar-bg;\n    border-right: none;\n\n    &::before,\n    &::after {\n      display: none;\n    }\n\n    &__item {\n      color: white;\n      text-align: center;\n      &:hover {\n        background: $color-primary-gradient;\n      }\n      i {\n        color: white;\n      }\n    }\n    &__link {\n      &:global(.router-link-active) .menu__item {\n        background: $color-primary-gradient;\n      }\n    }\n  }\n}\n\n.content {\n  margin-left: $size-sidebar-width;\n  transition: margin-left 0.28s;\n}\n\n.wrapper {\n  &--collapsed {\n    .sidebar {\n      width: 200px;\n    }\n    .content {\n      margin-left: 200px;\n    }\n  }\n}\n\n.logo {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: $size-header-height;\n  width: $size-header-height;\n  img {\n    // height: $size-header-height - 20px;\n  }\n}\n\n.main:global(.el-main) {\n  position: relative;\n  padding-top: $size-header-height + 34px;\n  padding-top: calc(constant(safe-area-inset-top) + #{$size-header-height} + 34px);\n  padding-top: calc(env(safe-area-inset-top) + #{$size-header-height} + 34px);\n  padding-left: 32px;\n  padding-right: 32px;\n  @include pad {\n    padding-top: 60px;\n    padding-top: calc(constant(safe-area-inset-top) + 60px);\n    padding-top: calc(env(safe-area-inset-top) + 60px);\n    background: white;\n    padding-bottom: 85px;\n    padding-bottom: calc(constant(safe-area-inset-bottom) + 85px);\n    padding-bottom: calc(env(safe-area-inset-bottom) + 85px);\n    padding-left: 20px;\n    padding-right: 20px;\n    min-height: 100vh;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainEmployee.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainEmployee.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mainEmployee.vue?vue&type=template&id=7739fb80&\"\nimport script from \"./mainEmployee.vue?vue&type=script&lang=js&\"\nexport * from \"./mainEmployee.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mainEmployee.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}