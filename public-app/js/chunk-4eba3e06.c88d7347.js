(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4eba3e06"],{"6e08":function(e,t,i){"use strict";var r=i("edeb"),n=i.n(r);t["default"]=n.a},b127:function(e,t,i){"use strict";function r(e){if(Array.isArray(e))return e}function n(e,t){var i=[],r=!0,n=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done);r=!0)if(i.push(s.value),t&&i.length===t)break}catch(l){n=!0,a=l}finally{try{r||null==c["return"]||c["return"]()}finally{if(n)throw a}}return i}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(e,t){return r(e)||n(e,t)||a()}i.d(t,"a",function(){return s})},cff5:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h4",{staticClass:"form-block-title"},[e._v("營業時間")]),e._l(e.serviceTimeSetting,function(t,r,n){return i("div",{key:r},[i("el-form",{ref:"form"+r,refInFor:!0,attrs:{rules:e.submitRules,model:e.serviceTimeSetting[r],"label-position":"top"}},[i("el-row",{class:e.$style.timeRow,attrs:{gutter:20}},[i("el-col",{attrs:{sm:12,span:24}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.serviceTimeSetting[r].isOpen,callback:function(t){e.$set(e.serviceTimeSetting[r],"isOpen",t)},expression:"serviceTimeSetting[key].isOpen"}}),e._v(e._s(e.week[n])+" ")],1),i("el-col",{attrs:{sm:8,span:24}},[i("el-form-item",{attrs:{label:"營業時間"}},[i("el-time-picker",{attrs:{clearable:!1,"range-separator":"至",format:"HH:mm","value-format":"HH:mm",placeholder:"選擇開始營業時間","is-range":""},model:{value:e.serviceTimeSetting[r].timeRange,callback:function(t){e.$set(e.serviceTimeSetting[r],"timeRange",t)},expression:"serviceTimeSetting[key].timeRange"}}),"1"===r?i("el-button",{attrs:{type:"text"},on:{click:e.fillAllTimes}},[i("span",[e._v("套用至所有營業日")])]):e._e()],1)],1),i("el-col",{attrs:{sm:6,span:24}},[i("el-form-item",{attrs:{label:"最晚接受預約時間",prop:"lastOrder"}},[i("el-time-picker",{attrs:{format:"HH:mm","value-format":"HH:mm",placeholder:"選擇最晚接受預約時間",clearable:!1},model:{value:e.serviceTimeSetting[r].lastOrder,callback:function(t){e.$set(e.serviceTimeSetting[r],"lastOrder",t)},expression:"serviceTimeSetting[key].lastOrder"}})],1)],1),i("el-col",{attrs:{sm:6,span:24}},[i("el-form-item",{attrs:{label:"提前預約時間",prop:"beforehandOrder"}},[i("el-input",{attrs:{min:"0"},scopedSlots:e._u([{key:"append",fn:function(){return[e._v("分鐘")]},proxy:!0}],null,!0),model:{value:e.serviceTimeSetting[r].beforehandOrder,callback:function(t){e.$set(e.serviceTimeSetting[r],"beforehandOrder",e._n(t))},expression:"serviceTimeSetting[key].beforehandOrder"}})],1)],1)],1)],1)],1)})],2)},n=[],a=i("4795"),s=i.n(a),c=i("cb0c"),l=i("9395"),o=i("b127"),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"00:00",t=e.match(/^(\d+):(\d+)$/i),i=Object(o["a"])(t,3),r=i[1],n=i[2];return 60*Number(r)+Number(n)},u=function(){return{start:"00:00",end:"23:59",lastOrder:"23:00",beforehandOrder:"0",isOpen:0,timeRange:["00:00","23:59"]}},d={1:Object(l["a"])({},u(),{title:"週一"}),2:Object(l["a"])({},u(),{title:"週二"}),3:Object(l["a"])({},u(),{title:"週三"}),4:Object(l["a"])({},u(),{title:"週四"}),5:Object(l["a"])({},u(),{title:"週五"}),6:Object(l["a"])({},u(),{title:"週六"}),7:Object(l["a"])({},u(),{title:"週日"})},f=["週一","週二","週三","週四","週五","週六","週日"],v={props:{itemType:{type:String,required:!0},defaultValue:{type:Object,default:function(){}}},data:function(){var e=this;return{submitRules:{start:[{required:!0,validator:function(t,i,r){if(!i)return r(new Error("請選擇營業開始時間"));e.submitData.serviceTimeSetting.end&&e.$refs.form.validateField("params.serviceTimeSetting.end"),r()},trigger:"change"}],end:[{required:!0,validator:function(t,i,r){var n=e.submitData.serviceTimeSetting.start;if(m(n)>=m(i))return r(new Error("結束時間不可早於開始時間"));r()},trigger:"change"}],lastOrder:[{required:!0,message:"請選擇時間",trigger:"change"}],beforehandOrder:[{required:!0,message:"請輸入提前預約時間"}]},week:f,serviceTimeSetting:d}},computed:{isEditMode:function(){return this.defaultValue.id}},created:function(){if(this.isEditMode)for(var e in this.serviceTimeSetting=Object(l["a"])({},d,this.defaultValue.serviceTimeSetting),this.serviceTimeSetting)this.$set(this.serviceTimeSetting[e],"timeRange",[this.serviceTimeSetting[e].start,this.serviceTimeSetting[e].end])},methods:{validate:function(){var e=Object(c["a"])(s.a.mark(function e(){var t,i,r;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(i in t=[],this.serviceTimeSetting)t.push(this.$refs["form".concat(i)][0].validate());return e.next=4,Promise.all(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),fillAllTimes:function(){for(var e in this.serviceTimeSetting)this.serviceTimeSetting[e].timeRange=this.serviceTimeSetting["1"].timeRange,this.serviceTimeSetting[e].lastOrder=this.serviceTimeSetting["1"].lastOrder,this.serviceTimeSetting[e].beforehandOrder=this.serviceTimeSetting["1"].beforehandOrder,this.serviceTimeSetting[e].isOpen=this.serviceTimeSetting["1"].isOpen}}},p=v,g=i("6e08"),h=i("2877");function b(e){this["$style"]=g["default"].locals||g["default"]}var S=Object(h["a"])(p,r,n,!1,b,null,null);t["default"]=S.exports},edeb:function(e,t,i){e.exports={slide:"Step6ServiceTime_slide_WBxGs","slide-reverse":"Step6ServiceTime_slide-reverse_1hIGt",timeRow:"Step6ServiceTime_timeRow_2kAo6",container:"Step6ServiceTime_container_1kAdN",image:"Step6ServiceTime_image_3xoOn"}}}]);
//# sourceMappingURL=chunk-4eba3e06.c88d7347.js.map