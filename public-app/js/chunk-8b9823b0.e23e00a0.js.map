{"version":3,"sources":["webpack:///./src/router/views/prepaid/components/Step4Prices.vue?e4c8","webpack:///./src/router/views/prepaid/components/Step4Prices.vue?3640","webpack:///src/router/views/prepaid/components/Step4Prices.vue","webpack:///./src/router/views/prepaid/components/Step4Prices.vue?4c99","webpack:///./src/router/views/prepaid/components/Step4Prices.vue?d9d0","webpack:///./src/router/views/prepaid/components/Step4Prices.vue?02f9"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Step4Prices_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Step4Prices_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","model","submitData","label-position","_l","item","index","key","class","$style","switch","_s","sizeTitle","title","prop","active-text","inactive-text","active-value","inactive-value","value","callback","$$v","$set","expression","gutter","span","label","_n","staticStyle","margin-right","slot","rules","type","min","message","trigger","staticRenderFns","Step4Pricesvue_type_script_lang_js_","filters","props","products","Array","required","category","prices","defaultValue","Object","default","data","computed","get","set","$emit","isEditMode","groupOrdering","watch","submitData.categoryId","handler","doSetSizes","created","mounted","methods","_this","list","find","id","categoryId","children","prepaids","map","sizeId","categoryTitle","basePrice","price","state","validate","$refs","form","components_Step4Pricesvue_type_script_lang_js_","injectStyles","context","Step4Pricesvue_type_style_index_0_lang_scss_module_true_","locals","component","componentNormalizer","module","exports","slide","slide-reverse"],"mappings":"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","file":"js/chunk-8b9823b0.e23e00a0.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Step4Prices.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Step4Prices.vue?vue&type=style&index=0&lang=scss&module=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h4',{staticClass:\"form-block-title\"},[_vm._v(\"販售設定\")]),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.submitData,\"label-position\":\"top\"}},_vm._l((_vm.submitData.prepaids),function(item,index){return _c('div',{key:index},[_c('div',{class:_vm.$style.switch},[(_vm.isEditMode)?_c('span',[_vm._v(_vm._s(item.sizeTitle))]):_c('span',[_vm._v(_vm._s(item.title))]),_c('el-form-item',{attrs:{\"prop\":\"state\"}},[_c('el-switch',{attrs:{\"active-text\":\"開放\",\"inactive-text\":\"關閉\",\"active-value\":1,\"inactive-value\":0},model:{value:(item.state),callback:function ($$v) {_vm.$set(item, \"state\", $$v)},expression:\"item.state\"}})],1)],1),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":\"basePrice\",\"label\":\"原價\"}},[_c('el-input',{model:{value:(item.basePrice),callback:function ($$v) {_vm.$set(item, \"basePrice\", _vm._n($$v))},expression:\"item.basePrice\"}},[_c('span',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"slot\":\"suffix\"},slot:\"suffix\"},[_vm._v(\"元\")])])],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":(\"prepaids[\" + index + \"].price\"),\"rules\":{ type: 'number',min: 0,message: '請輸入數字',trigger: 'blur' },\"label\":\"售價\"}},[_c('el-input',{model:{value:(item.price),callback:function ($$v) {_vm.$set(item, \"price\", _vm._n($$v))},expression:\"item.price\"}},[_c('span',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"slot\":\"suffix\"},slot:\"suffix\"},[_vm._v(\"元\")])])],1)],1)],1)],1)}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  filters: {},\n  props: {\n    products: {\n      type: Array,\n      required: true,\n    },\n    category: {\n      type: Array,\n      required: true,\n    },\n    prices: {\n      type: Array,\n      required: true,\n    },\n    defaultValue: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    submitData: {\n      get() {\n        return this.defaultValue\n      },\n      set(value) {\n        this.$emit('update:defaultValue', value)\n      },\n    },\n    isEditMode(){\n      return !!this.defaultValue.groupOrdering\n    },\n    // prepaidRules() {\n    //   return {\n    //     price: [\n    //       { \n    //         type: 'number',\n    //         min: 0,\n    //         message: '請輸入數字' \n    //       }\n    //     ],\n      \n      \n    //   }\n    // },\n    // filterSizes() {\n    //   return this.category.find((item) => {\n    //     return item.id === this.submitData.categoryId\n    //   }).children\n    // },\n  },\n  watch: {\n    'submitData.categoryId':{\n        handler(value) {\n          this.doSetSizes()\n        }\n    }\n  },\n  created() {\n    // this.submitData.categoryId = 1\n    if(!this.isEditMode){\n      this.doSetSizes()\n    }\n    \n  },\n  mounted() {},\n  methods: {\n    doSetSizes(){\n      const list = this.category.find((item) => {\n        return item.id === this.submitData.categoryId\n      }).children\n      this.submitData.prepaids = list.map(item=>{\n        return {\n          sizeId: item.id,\n          title:item.categoryTitle,\n          basePrice: 0,\n          price: 0,\n          state: 0\n        }\n      })\n    },\n     validate() {\n      return this.$refs.form.validate()\n    },\n  },\n}\n</script>\n\n<template>\n  <div>\n    <h4 class=\"form-block-title\">販售設定</h4>\n    <el-form ref=\"form\" :model=\"submitData\"   label-position=\"top\">\n    <div v-for=\"(item,index) in submitData.prepaids\" :key=\"index\">\n      <div :class=\"$style.switch\">\n        <span v-if=\"isEditMode\">{{item.sizeTitle}}</span>\n        <span v-else>{{item.title}}</span>\n        \n        <el-form-item prop=\"state\">\n          <el-switch v-model=\"item.state\" active-text=\"開放\" inactive-text=\"關閉\" :active-value=\"1\" :inactive-value=\"0\"></el-switch>\n        </el-form-item>\n        \n        \n      </div>\n      <el-row :gutter=\"20\">\n      <el-col :span=\"12\" >\n      <el-form-item prop=\"basePrice\"  label=\"原價\">\n          <el-input v-model.number=\"item.basePrice\">\n            <span slot=\"suffix\" style=\"margin-right:10px\">元</span>\n          </el-input>\n        </el-form-item>\n      </el-col>\n      <el-col :span=\"12\" >\n        <el-form-item :prop=\"`prepaids[${index}].price`\" :rules=\"{ type: 'number',min: 0,message: '請輸入數字',trigger: 'blur' }\" label=\"售價\">\n          <el-input v-model.number=\"item.price\">\n            <span slot=\"suffix\" style=\"margin-right:10px\">元</span>\n          </el-input>\n        </el-form-item>\n      </el-col>\n      </el-row>\n    </div>\n    </el-form>\n  </div>\n</template>\n<style lang=\"scss\" module>\n.switch {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0;\n  padding-bottom: 5px;\n  border-bottom: $color-border-base 1px solid;\n  :global {\n    .el-form-item {\n      margin-bottom: 0;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Step4Prices.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Step4Prices.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Step4Prices.vue?vue&type=template&id=3ac5423b&\"\nimport script from \"./Step4Prices.vue?vue&type=script&lang=js&\"\nexport * from \"./Step4Prices.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Step4Prices.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"Step4Prices_slide_niFGH\",\"slide-reverse\":\"Step4Prices_slide-reverse_1diAc\",\"switch\":\"Step4Prices_switch_9u3oS\"};"],"sourceRoot":""}