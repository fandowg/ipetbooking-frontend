(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-91aafc70","chunk-177d8412","chunk-177d8412","chunk-177d8412"],{"2b88":function(t,e,n){"use strict";
/*! 
  * portal-vue © Thorsten Lünborg, 2019 
  * 
  * Version: 2.1.7
  * 
  * LICENCE: MIT 
  * 
  * https://github.com/linusborg/portal-vue
  * 
 */function o(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}Object.defineProperty(e,"__esModule",{value:!0});var r=o(n("2b0e"));function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t){return s(t)||l(t)||u()}function s(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function l(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var c="undefined"!==typeof window;function d(t){return Array.isArray(t)||"object"===i(t)?Object.freeze(t):t}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.reduce(function(t,n){var o=n.passengers[0],r="function"===typeof o?o(e):n.passengers;return t.concat(r)},[])}function f(t,e){return t.map(function(t,e){return[e,t]}).sort(function(t,n){return e(t[1],n[1])||t[0]-n[0]}).map(function(t){return t[1]})}function h(t,e){return e.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var g={},m={},y={},b=r.extend({data:function(){return{transports:g,targets:m,sources:y,trackInstances:c}},methods:{open:function(t){if(c){var e=t.to,n=t.from,o=t.passengers,i=t.order,a=void 0===i?1/0:i;if(e&&n&&o){var s={to:e,from:n,passengers:d(o),order:a},l=Object.keys(this.transports);-1===l.indexOf(e)&&r.set(this.transports,e,[]);var u=this.$_getTransportIndex(s),p=this.transports[e].slice(0);-1===u?p.push(s):p[u]=s,this.transports[e]=f(p,function(t,e){return t.order-e.order})}}},close:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.to,o=t.from;if(n&&(o||!1!==e)&&this.transports[n])if(e)this.transports[n]=[];else{var r=this.$_getTransportIndex(t);if(r>=0){var i=this.transports[n].slice(0);i.splice(r,1),this.transports[n]=i}}},registerTarget:function(t,e,n){c&&(this.trackInstances&&!n&&this.targets[t]&&console.warn("[portal-vue]: Target ".concat(t," already exists")),this.$set(this.targets,t,Object.freeze([e])))},unregisterTarget:function(t){this.$delete(this.targets,t)},registerSource:function(t,e,n){c&&(this.trackInstances&&!n&&this.sources[t]&&console.warn("[portal-vue]: source ".concat(t," already exists")),this.$set(this.sources,t,Object.freeze([e])))},unregisterSource:function(t){this.$delete(this.sources,t)},hasTarget:function(t){return!(!this.targets[t]||!this.targets[t][0])},hasSource:function(t){return!(!this.sources[t]||!this.sources[t][0])},hasContentFor:function(t){return!!this.transports[t]&&!!this.transports[t].length},$_getTransportIndex:function(t){var e=t.to,n=t.from;for(var o in this.transports[e])if(this.transports[e][o].from===n)return+o;return-1}}}),v=new b(g),_=1,S=r.extend({name:"portal",props:{disabled:{type:Boolean},name:{type:String,default:function(){return String(_++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}}},created:function(){var t=this;this.$nextTick(function(){v.registerSource(t.name,t)})},mounted:function(){this.disabled||this.sendUpdate()},updated:function(){this.disabled?this.clear():this.sendUpdate()},beforeDestroy:function(){v.unregisterSource(this.name),this.clear()},watch:{to:function(t,e){e&&e!==t&&this.clear(e),this.sendUpdate()}},methods:{clear:function(t){var e={from:this.name,to:t||this.to};v.close(e)},normalizeSlots:function(){return this.$scopedSlots.default?[this.$scopedSlots.default]:this.$slots.default},normalizeOwnChildren:function(t){return"function"===typeof t?t(this.slotProps):t},sendUpdate:function(){var t=this.normalizeSlots();if(t){var e={from:this.name,to:this.to,passengers:a(t),order:this.order};v.open(e)}else this.clear()}},render:function(t){var e=this.$slots.default||this.$scopedSlots.default||[],n=this.tag;return e&&this.disabled?e.length<=1&&this.slim?this.normalizeOwnChildren(e)[0]:t(n,[this.normalizeOwnChildren(e)]):this.slim?t():t(n,{class:{"v-portal":!0},style:{display:"none"},key:"v-portal-placeholder"})}}),w=r.extend({name:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:v.transports,firstRender:!0}},created:function(){var t=this;this.$nextTick(function(){v.registerTarget(t.name,t)})},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(t,e){v.unregisterTarget(e),v.registerTarget(t,this)}},mounted:function(){var t=this;this.transition&&this.$nextTick(function(){t.firstRender=!1})},beforeDestroy:function(){v.unregisterTarget(this.name)},computed:{ownTransports:function(){var t=this.transports[this.name]||[];return this.multiple?t:0===t.length?[]:[t[t.length-1]]},passengers:function(){return p(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var t=this.slim&&!this.transition;return t&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),t}},render:function(t){var e=this.noWrapper(),n=this.children(),o=this.transition||this.tag;return e?n[0]:this.slim&&!o?t():t(o,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},n)}}),D=0,$=["disabled","name","order","slim","slotProps","tag","to"],k=["multiple","transition"],O=r.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(D++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!==typeof document){var t=document.querySelector(this.mountTo);if(t){var e=this.$props;if(v.targets[e.name])e.bail?console.warn("[portal-vue]: Target ".concat(e.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=v.targets[e.name];else{var n=e.append;if(n){var o="string"===typeof n?n:"DIV",r=document.createElement(o);t.appendChild(r),t=r}var i=h(this.$props,k);i.slim=this.targetSlim,i.tag=this.targetTag,i.slotProps=this.targetSlotProps,i.name=this.to,this.portalTarget=new w({el:t,parent:this.$parent||this,propsData:i})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var t=this.portalTarget;if(this.append){var e=t.$el;e.parentNode.removeChild(e)}t.$destroy()},render:function(t){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),t();if(!this.$scopedSlots.manual){var e=h(this.$props,$);return t(S,{props:e,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var n=this.$scopedSlots.manual({to:this.to});return Array.isArray(n)&&(n=n[0]),n||t()}});function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.component(e.portalName||"Portal",S),t.component(e.portalTargetName||"PortalTarget",w),t.component(e.MountingPortalName||"MountingPortal",O)}var B={install:T};e.default=B,e.Portal=S,e.PortalTarget=w,e.MountingPortal=O,e.Wormhole=v},5602:function(t,e,n){t.exports={slide:"BaseButtonDialog_slide_1oaPh","slide-reverse":"BaseButtonDialog_slide-reverse_2oPsW",floating:"BaseButtonDialog_floating_1ftAD","floating--active":"BaseButtonDialog_floating--active_3j2JZ",floating__order2:"BaseButtonDialog_floating__order2_1fFr3",floating__wrapper:"BaseButtonDialog_floating__wrapper_2aAl-"}},"62d4":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.floating?n("div",{class:t.$style["floating__wrapper"]},[t.onlyDialog?t._e():[n("el-tooltip",{attrs:{effect:"dark",content:t.tooltipText,placement:"left"}},[n("el-button",t._b({class:t.floatingClass,attrs:{type:t.buttonType,circle:t.floating},on:{click:t.manualOpen}},"el-button",t.$attrs,!1),[n("BaseIcon",{attrs:{name:t.buttonIconName}}),t._t("trigger")],2)],1)],t.onlyButton?t._e():n("el-dialog",t._b({attrs:{visible:t.dialogVisible,title:t.title,top:"0",width:t.width,"append-to-body":"","destroy-on-close":t.destroy},on:{close:t.handleClose,opened:t.dialogOpened}},"el-dialog",t.dialogProps,!1),[t._t("default")],2)],2):n("span",[t.onlyDialog?t._e():[n("el-button",t._b({attrs:{type:t.buttonType},on:{click:t.manualOpen}},"el-button",t.$attrs,!1),[n("BaseIcon",{attrs:{name:t.buttonIconName}}),t._t("trigger")],2)],t.onlyButton?t._e():n("el-dialog",t._b({attrs:{visible:t.dialogVisible,title:t.title,top:"0",width:t.width,"append-to-body":"","destroy-on-close":t.destroy},on:{close:t.handleClose,opened:t.dialogOpened}},"el-dialog",t.dialogProps,!1),[t._t("default")],2)],2)},r=[],i=n("88d8"),a={inheritAttrs:!1,props:{floating:{type:Boolean,default:!1},title:{type:String,default:""},dialogVisible:{type:Boolean,default:!1},dialogProps:{type:Object,default:function(){}},buttonTooltip:{type:String,default:""},buttonType:{type:String,default:"primary"},buttonIconName:{type:String,default:"plus"},order:{type:String,default:"1"},onlyDialog:{type:Boolean,default:!1},onlyButton:{type:Boolean,default:!1},destroy:{type:Boolean,default:!1},width:{type:String,default:"830px"}},computed:{floatingClass:function(){return[this.$style.floating,Object(i["a"])({},this.$style["floating--active"],"plus"===this.buttonIconName&&this.dialogVisible),this.$style["floating__order".concat(this.order)]]},tooltipText:function(){return this.buttonTooltip?this.buttonTooltip:this.title}},methods:{manualOpen:function(){this.onlyButton||this.$emit("update:dialogVisible",!0),this.$emit("opened")},dialogOpened:function(){this.onlyButton||this.$emit("update:dialogVisible",!0),this.$emit("dialog-opened")},handleClose:function(){this.onlyButton||this.$emit("update:dialogVisible",!1),this.$emit("closed")}}},s=a,l=n("be7b"),u=n("2877");function c(t){this["$style"]=l["default"].locals||l["default"]}var d=Object(u["a"])(s,o,r,!1,c,null,null);e["default"]=d.exports},"706c":function(t,e,n){"use strict";var o=n("ddd1"),r=n.n(o);e["default"]=r.a},a801:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-drawer",{ref:"drawer",staticClass:"mobile",attrs:{visible:t.visible,"destroy-on-close":"","append-to-body":"",size:t.$root.isSmallDevice?"100%":"50%"},on:{close:t.handleCloseDrawer}},[n("div",{attrs:{slot:"title"},slot:"title"},[3===t.order.status?[n("el-button",{staticClass:"is-round",attrs:{type:"danger"},on:{click:function(e){return t.showCheckInDialog(!0)}}},[t._v("未報到")]),n("el-button",{staticClass:"is-round",staticStyle:{background:"#60A32F"},attrs:{type:"primary"},on:{click:function(e){return t.showCheckInDialog(!1)}}},[t._v("報到")])]:t._e(),4===t.order.status&&"UNPAID"!==t.order.paymentStatus?n("el-button",{staticClass:"is-round",attrs:{type:"primary"},on:{click:function(e){return t.showSignatureDialog("edit")}}},[t._v("簽名確認")]):t._e(),6===t.order.status?n("el-button",{staticClass:"is-round",attrs:{type:"primary"},on:{click:function(e){return t.showSignatureDialog("view")}}},[t._v("查看簽名")]):t._e()],2),n("el-button",{staticClass:"visible-mobile",staticStyle:{"font-size":"16px","padding-top":"23px","padding-bottom":"0","letter-spacing":"1.6px","margin-bottom":"20px"},attrs:{type:"text"},on:{click:t.closeDrawer}},[n("BaseIcon",{staticStyle:{"margin-right":"5px"},attrs:{"icon-style":"fal",name:"chevron-left"}}),t._v("返回")],1),n("Info",{attrs:{"default-value":t.order}}),n("Service",{class:t.$style["tab-content"],attrs:{"default-value":t.order},on:{update:t.handleStore}}),n("CheckInDialog",{attrs:{visible:t.checkInDialogVisible,"default-value":t.order,"no-show":t.noShow},on:{"update:visible":function(e){t.checkInDialogVisible=e},update:t.handleStore}}),n("SignatureDialog",{key:t.signDialogKey,attrs:{visible:t.signatureDialogVisible,order:t.order,mode:t.mode},on:{"update:visible":function(e){t.signatureDialogVisible=e},update:t.handleStore}}),[3,4].includes(t.order.status)?n("div",{staticClass:"visible-mobile",class:t.$style.footer},[3===t.order.status?[n("el-button",{staticClass:"is-round",attrs:{type:"danger"},on:{click:function(e){return t.showCheckInDialog(!0)}}},[t._v("未報到")]),n("el-button",{staticClass:"is-round",staticStyle:{background:"#60A32F"},attrs:{type:"primary"},on:{click:function(e){return t.showCheckInDialog(!1)}}},[t._v("報到")])]:t._e(),4===t.order.status&&"UNPAID"!==t.order.paymentStatus?n("el-button",{staticClass:"is-round is-fullwidth",attrs:{type:"primary"},on:{click:function(e){return t.showSignatureDialog("edit")}}},[t._v("簽名確認")]):t._e()],2):t._e()],1)},r=[],i=n("4795"),a=n.n(i),s=n("cb0c"),l=n("a315"),u=n("62d4"),c=n("2b88"),d=(n("e05f"),{components:{BaseButtonDialog:u["default"],PortalTarget:c["PortalTarget"],OrderDetail:function(){return Object(l["a"])(n.e("chunk-fa742c88").then(n.bind(null,"0189")))},HistoryNote:function(){return Object(l["a"])(n.e("chunk-555a76c1").then(n.bind(null,"d749")))},CheckInDialog:function(){return Object(l["a"])(Promise.all([n.e("chunk-2d0daa85"),n.e("chunk-4ac9d7ee")]).then(n.bind(null,"298b")))},SignatureDialog:function(){return Object(l["a"])(n.e("chunk-dc85eaa2").then(n.bind(null,"8d15")))},Info:function(){return Object(l["a"])(n.e("chunk-af7ea718").then(n.bind(null,"cb6f")))},Service:function(){return Object(l["a"])(n.e("chunk-2d48e48b").then(n.bind(null,"a890")))}},props:{visible:{type:Boolean,default:!1},order:{type:Object,default:function(){}}},data:function(){return{activeName:"",orderDetailData:"",checkInDialogVisible:!1,signatureDialogVisible:!1,noShow:!1,mode:"view",historyNoteMode:"view",signDialogKey:0}},computed:{isActive:function(){return""!==this.activeName},isHistoryNoteMode:function(){return"view"===this.historyNoteMode}},methods:{handleCloseDrawer:function(){this.$emit("update:visible",!1),this.activeName=""},closeDrawer:function(){this.$refs.drawer.closeDrawer(),this.activeName=""},handleStore:function(){var t=Object(s["a"])(a.a.mark(function t(){var e;return a.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("order/fetchSingle",this.order.id);case 2:e=t.sent,this.$emit("update:order",e),this.$emit("update");case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),closeDialog:function(){this.dialogVisible=!1},showCheckInDialog:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.checkInDialogVisible=!0,this.noShow=t},showSignatureDialog:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.signDialogKey++,this.signatureDialogVisible=!0,this.mode=t},onNoteModeUpdate:function(t){this.historyNoteMode=t}}}),p=d,f=n("706c"),h=n("2877");function g(t){this["$style"]=f["default"].locals||f["default"]}var m=Object(h["a"])(p,o,r,!1,g,null,null);e["default"]=m.exports},be7b:function(t,e,n){"use strict";var o=n("5602"),r=n.n(o);e["default"]=r.a},ddd1:function(t,e,n){t.exports={slide:"OrderInfo_slide_1YE9F","slide-reverse":"OrderInfo_slide-reverse_25vBx",header:"OrderInfo_header_26olr",reverse:"OrderInfo_reverse_3zKlO",blocks:"OrderInfo_blocks_QLia5",actions:"OrderInfo_actions_24Dfm","tab-content":"OrderInfo_tab-content_3q5bt",footer:"OrderInfo_footer_68HGW"}},e05f:function(t,e,n){}}]);
//# sourceMappingURL=chunk-91aafc70.61d3d739.js.map