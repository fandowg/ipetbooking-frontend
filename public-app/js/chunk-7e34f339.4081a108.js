(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e34f339"],{"2b88":function(t,e,r){"use strict";
/*! 
  * portal-vue © Thorsten Lünborg, 2019 
  * 
  * Version: 2.1.7
  * 
  * LICENCE: MIT 
  * 
  * https://github.com/linusborg/portal-vue
  * 
 */function n(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}Object.defineProperty(e,"__esModule",{value:!0});var a=n(r("2b0e"));function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function o(t){return i(t)||l(t)||u()}function i(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function l(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var c="undefined"!==typeof window;function d(t){return Array.isArray(t)||"object"===s(t)?Object.freeze(t):t}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.reduce(function(t,r){var n=r.passengers[0],a="function"===typeof n?n(e):r.passengers;return t.concat(a)},[])}function p(t,e){return t.map(function(t,e){return[e,t]}).sort(function(t,r){return e(t[1],r[1])||t[0]-r[0]}).map(function(t){return t[1]})}function f(t,e){return e.reduce(function(e,r){return t.hasOwnProperty(r)&&(e[r]=t[r]),e},{})}var m={},g={},y={},b=a.extend({data:function(){return{transports:m,targets:g,sources:y,trackInstances:c}},methods:{open:function(t){if(c){var e=t.to,r=t.from,n=t.passengers,s=t.order,o=void 0===s?1/0:s;if(e&&r&&n){var i={to:e,from:r,passengers:d(n),order:o},l=Object.keys(this.transports);-1===l.indexOf(e)&&a.set(this.transports,e,[]);var u=this.$_getTransportIndex(i),h=this.transports[e].slice(0);-1===u?h.push(i):h[u]=i,this.transports[e]=p(h,function(t,e){return t.order-e.order})}}},close:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.to,n=t.from;if(r&&(n||!1!==e)&&this.transports[r])if(e)this.transports[r]=[];else{var a=this.$_getTransportIndex(t);if(a>=0){var s=this.transports[r].slice(0);s.splice(a,1),this.transports[r]=s}}},registerTarget:function(t,e,r){c&&(this.trackInstances&&!r&&this.targets[t]&&console.warn("[portal-vue]: Target ".concat(t," already exists")),this.$set(this.targets,t,Object.freeze([e])))},unregisterTarget:function(t){this.$delete(this.targets,t)},registerSource:function(t,e,r){c&&(this.trackInstances&&!r&&this.sources[t]&&console.warn("[portal-vue]: source ".concat(t," already exists")),this.$set(this.sources,t,Object.freeze([e])))},unregisterSource:function(t){this.$delete(this.sources,t)},hasTarget:function(t){return!(!this.targets[t]||!this.targets[t][0])},hasSource:function(t){return!(!this.sources[t]||!this.sources[t][0])},hasContentFor:function(t){return!!this.transports[t]&&!!this.transports[t].length},$_getTransportIndex:function(t){var e=t.to,r=t.from;for(var n in this.transports[e])if(this.transports[e][n].from===r)return+n;return-1}}}),v=new b(m),S=1,w=a.extend({name:"portal",props:{disabled:{type:Boolean},name:{type:String,default:function(){return String(S++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}}},created:function(){var t=this;this.$nextTick(function(){v.registerSource(t.name,t)})},mounted:function(){this.disabled||this.sendUpdate()},updated:function(){this.disabled?this.clear():this.sendUpdate()},beforeDestroy:function(){v.unregisterSource(this.name),this.clear()},watch:{to:function(t,e){e&&e!==t&&this.clear(e),this.sendUpdate()}},methods:{clear:function(t){var e={from:this.name,to:t||this.to};v.close(e)},normalizeSlots:function(){return this.$scopedSlots.default?[this.$scopedSlots.default]:this.$slots.default},normalizeOwnChildren:function(t){return"function"===typeof t?t(this.slotProps):t},sendUpdate:function(){var t=this.normalizeSlots();if(t){var e={from:this.name,to:this.to,passengers:o(t),order:this.order};v.open(e)}else this.clear()}},render:function(t){var e=this.$slots.default||this.$scopedSlots.default||[],r=this.tag;return e&&this.disabled?e.length<=1&&this.slim?this.normalizeOwnChildren(e)[0]:t(r,[this.normalizeOwnChildren(e)]):this.slim?t():t(r,{class:{"v-portal":!0},style:{display:"none"},key:"v-portal-placeholder"})}}),T=a.extend({name:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:v.transports,firstRender:!0}},created:function(){var t=this;this.$nextTick(function(){v.registerTarget(t.name,t)})},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(t,e){v.unregisterTarget(e),v.registerTarget(t,this)}},mounted:function(){var t=this;this.transition&&this.$nextTick(function(){t.firstRender=!1})},beforeDestroy:function(){v.unregisterTarget(this.name)},computed:{ownTransports:function(){var t=this.transports[this.name]||[];return this.multiple?t:0===t.length?[]:[t[t.length-1]]},passengers:function(){return h(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var t=this.slim&&!this.transition;return t&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),t}},render:function(t){var e=this.noWrapper(),r=this.children(),n=this.transition||this.tag;return e?r[0]:this.slim&&!n?t():t(n,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},r)}}),P=0,O=["disabled","name","order","slim","slotProps","tag","to"],$=["multiple","transition"],_=a.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(P++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!==typeof document){var t=document.querySelector(this.mountTo);if(t){var e=this.$props;if(v.targets[e.name])e.bail?console.warn("[portal-vue]: Target ".concat(e.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=v.targets[e.name];else{var r=e.append;if(r){var n="string"===typeof r?r:"DIV",a=document.createElement(n);t.appendChild(a),t=a}var s=f(this.$props,$);s.slim=this.targetSlim,s.tag=this.targetTag,s.slotProps=this.targetSlotProps,s.name=this.to,this.portalTarget=new T({el:t,parent:this.$parent||this,propsData:s})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var t=this.portalTarget;if(this.append){var e=t.$el;e.parentNode.removeChild(e)}t.$destroy()},render:function(t){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),t();if(!this.$scopedSlots.manual){var e=f(this.$props,O);return t(w,{props:e,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var r=this.$scopedSlots.manual({to:this.to});return Array.isArray(r)&&(r=r[0]),r||t()}});function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.component(e.portalName||"Portal",w),t.component(e.portalTargetName||"PortalTarget",T),t.component(e.MountingPortalName||"MountingPortal",_)}var x={install:k};e.default=x,e.Portal=w,e.PortalTarget=T,e.MountingPortal=_,e.Wormhole=v},"97fb":function(t,e,r){"use strict";var n=r("f96d"),a=r.n(n);e["default"]=a.a},"9fde":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{class:t.$style.dialpad},[r("div",{class:t.$style["dialpad-result"]},[t._v(t._s(t.searchPhone))]),t.searchMode?[t._l(9,function(e){return r("el-button",{key:"number-"+e,class:t.$style["dialpad-button"],on:{click:function(r){return t.updateSearchPhone(e)}}},[t._v(t._s(e))])}),r("el-button",{class:t.$style["dialpad-button"],on:{click:t.backSearchPhone}},[r("BaseIcon",{attrs:{name:"backspace"}})],1),r("el-button",{class:t.$style["dialpad-button"],on:{click:function(e){return t.updateSearchPhone(0)}}},[t._v("0")]),r("el-button",{class:t.$style["dialpad-button"],attrs:{type:"primary"},on:{click:function(e){return t.tryToSearchOrdersByPhone(t.searchPhone)}}},[r("BaseIcon",{attrs:{name:"search"}})],1)]:t._e()],2),t.searchMode?t._e():r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.tryingToSearchOrders,expression:"tryingToSearchOrders"}],class:t.$style.main},[t._l(t.orderList,function(e){return r("OrderListItem",{key:e.id,attrs:{data:e,"show-product":""},on:{view:t.tryToGetOrder,update:function(e){return t.tryToSearchOrdersByPhone(t.searchPhone)}}})}),t.searchPhone&&!t.tryingToSearchOrders&&0===t.orderList.length?r("p",[t._v("無符合條件之訂單")]):t._e(),r("el-button",{staticClass:"is-fullwidth is-drawer--bottom",attrs:{type:"primary",plain:""},on:{click:function(e){return t.changeDialpadVisible(!0)}}},[t._v("再次查詢")])],2),r("el-drawer",{attrs:{visible:t.drawerVisible,"append-to-body":"",size:t.$root.isSmallDevice?"100%":"50%"},on:{"update:visible":function(e){t.drawerVisible=e},closed:t.handleDrawerClosed}},[r("PortalTarget",{attrs:{slot:"title",name:"drawer-header"},slot:"title"}),r("OrderDetail",{ref:"orderDetail",attrs:{"default-value":t.drawerOrderData},on:{"update:defaultValue":function(e){t.drawerOrderData=e},"update:default-value":function(e){t.drawerOrderData=e},update:function(e){return t.tryToSearchOrdersByPhone(t.searchPhone)}}})],1)],1)},a=[],s=r("4795"),o=r.n(s),i=r("cb0c"),l=r("a315"),u=r("2b88"),c={components:{PortalTarget:u["PortalTarget"],OrderListItem:function(){return Object(l["a"])(Promise.all([r.e("chunk-0badaf9f"),r.e("chunk-784a2c54")]).then(r.bind(null,"1e9a")))},OrderDetail:function(){return Object(l["a"])(Promise.all([r.e("chunk-1542bfb8"),r.e("chunk-2d0e2286")]).then(r.bind(null,"2fe5")))}},data:function(){return{searchMode:!0,drawerVisible:!1,drawerOrderData:!0,tryingToSearchOrders:!1,searchPhone:"",orderList:[]}},methods:{handleDrawerClosed:function(){this.$refs.orderDetail.mode="view"},updateSearchPhone:function(t){this.searchPhone.length>=10||(this.searchPhone="".concat(this.searchPhone).concat(t))},backSearchPhone:function(){this.searchPhone&&(this.searchPhone=this.searchPhone.slice(0,-1))},changeDialpadVisible:function(t){this.searchMode=t},tryToGetOrder:function(){var t=Object(i["a"])(o.a.mark(function t(e){return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("order/fetchSingle",e);case 2:this.drawerOrderData=t.sent,this.drawerVisible=!0;case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),tryToSearchOrdersByPhone:function(){var t=Object(i["a"])(o.a.mark(function t(e){return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.changeDialpadVisible(!1),this.tryingToSearchOrders=!0,!e){t.next=8;break}return t.next=5,this.$store.dispatch("order/fetchList",{search:e,paymentMethod:"All",pagination:0}).then(function(t){var e=t.items;return e});case 5:t.t0=t.sent,t.next=9;break;case 8:t.t0=[];case 9:this.orderList=t.t0,this.tryingToSearchOrders=!1;case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},d=c,h=r("97fb"),p=r("2877");function f(t){this["$style"]=h["default"].locals||h["default"]}var m=Object(p["a"])(d,n,a,!1,f,null,null);e["default"]=m.exports},f96d:function(t,e,r){t.exports={slide:"TabPhoneNumber_slide_3y7le","slide-reverse":"TabPhoneNumber_slide-reverse_1iEhw",main:"TabPhoneNumber_main_3HBMH",dialpad:"TabPhoneNumber_dialpad_3Sf1U","dialpad-result":"TabPhoneNumber_dialpad-result_3nlc2","dialpad-button":"TabPhoneNumber_dialpad-button_2ndzi"}}}]);
//# sourceMappingURL=chunk-7e34f339.4081a108.js.map