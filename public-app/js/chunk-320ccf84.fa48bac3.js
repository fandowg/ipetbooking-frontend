(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-320ccf84"],{"2d66":function(e,t,n){e.exports=n.p+"img/logo-dark.9cbb0fa3.svg"},"86ec":function(e,t,n){"use strict";var a=n("a616"),i=n.n(a);t["default"]=i.a},a616:function(e,t,n){e.exports={slide:"mainEmployee_slide_3QDGL","slide-reverse":"mainEmployee_slide-reverse_38YAk",main:"mainEmployee_main_1vaV9",header:"mainEmployee_header_2-f-F",action:"mainEmployee_action_3lBV-",sidebar:"mainEmployee_sidebar_16CVv",menu:"mainEmployee_menu_1d3Id",menu__item:"mainEmployee_menu__item_N0GDd",menu__link:"mainEmployee_menu__link_1aplz",content:"mainEmployee_content_2x5Hj","wrapper--collapsed":"mainEmployee_wrapper--collapsed_3BWY-",logo:"mainEmployee_logo_1JifW"}},de76:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Layout",[e.currentUser.scheduleItemId&&e.staffDetail.id?n("ScheduleStaffDetail",{attrs:{"default-value":e.staffDetail,type:"employee"},on:{"update:defaultValue":function(t){e.staffDetail=t},"update:default-value":function(t){e.staffDetail=t}}}):e._e()],1)},i=[],s=n("4795"),l=n.n(s),o=n("cb0c"),r=n("9395"),c=n("a315"),u=n("fe2d"),d=n("6bea"),m=n("4d77"),p={page:{title:"我的帳戶",meta:[{name:"description",content:"Staff"}]},components:{Layout:u["a"],ScheduleStaffDetail:function(){return Object(c["a"])(Promise.all([n.e("chunk-7338d540"),n.e("chunk-177d8412")]).then(n.bind(null,"eba9")))}},data:function(){return{visibleDetail:!1,staffDetail:{scheduleTotalHours:0,order:{items:[]}},tryingFetchDetail:!1,visibleEdit:!1}},computed:Object(r["a"])({},m["b"]),created:function(){this.currentUser.scheduleItemId&&this.tryToFetchDetail(this.currentUser.scheduleItemId)},methods:{tryToFetchDetail:function(){var e=Object(o["a"])(l.a.mark(function e(t){return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.tryingFetchDetail=!0,e.next=3,this.$store.dispatch("schedule/fetchStaffDetail",{id:t,page:1,limit:10,date:Object(d["a"])(new Date,"YYYY-MM")});case 3:this.staffDetail=e.sent,this.visibleDetail=!0,this.tryingFetchDetail=!1;case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},f=p,h=n("2877"),_=Object(h["a"])(f,a,i,!1,null,null,null);t["default"]=_.exports},fe2d:function(e,t,n){"use strict";var a=function(){var e,t=this,a=t.$createElement,i=t._self._c||a;return i("div",{class:[t.$style.wrapper,(e={},e[t.$style["wrapper--collapsed"]]=!t.collapsed,e)]},[i("el-header",{class:t.$style.header},[i("div",[i("div",{class:t.$style.logo},[i("img",{attrs:{src:n("2d66"),alt:""}})]),i("el-dropdown",{class:t.$style.action,attrs:{trigger:"click"},on:{command:t.onClickDropdown}},[i("span",[t._v("\n          "+t._s(t.currentUserName)+"\n          "),i("BaseIcon",{attrs:{name:"angle-down"}})],1),i("el-dropdown-menu",{class:t.$style["action-menu"],attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"logout"}},[t._v("\n            登出\n            "),i("BaseIcon",{attrs:{name:"sign-out"}})],1)],1)],1)],1),i("el-menu",{attrs:{"default-active":t.$route.name,mode:"horizontal",router:!0}},t._l(t.userMenuList,function(e,n){return i("el-menu-item",{key:"menu-"+n,attrs:{index:e.name}},[i("BaseIcon",{attrs:{"icon-style":"fal",name:e.icon}}),t._v(t._s(e.title))],1)}),1),i("div",{staticStyle:{"text-align":"right","padding-right":"10px"},on:{click:t.onRemoveAllDeliveredNotifications}},[i("router-link",{attrs:{to:{name:"employee-notification"}}},[i("span",{staticClass:"d-none d-sm-block bell",class:{isActive:t.isUnread}},[i("el-button",{staticClass:"top-link",attrs:{type:"text"}},[t._v("\n          推播中心\n          "),i("BaseIcon",{attrs:{name:"bell"}})],1)],1),i("span",{staticClass:"d-sm-none bell bell--icon",class:{isActive:t.isUnread},staticStyle:{cursor:"pointer"}},[i("i",{staticClass:"fal fa-bell fa-lg"})])])],1)],1),i("el-main",{ref:"main",class:[t.$style.main,{"no-top":t.isNoTop}]},[t._t("default")],2)],1)},i=[],s=n("9395"),l=n("4d77"),o=(n("daf4"),[{name:"employee-booking",title:"預約列表",description:"預約列表",icon:"clipboard-list"},{name:"employee-calendar",title:"行事曆",description:"行事曆",icon:"calendar"},{name:"employee-staff",title:"我的帳戶",description:"我的帳戶",icon:"users-class"}]),r=n("2f62"),c=n("6ac3"),u={props:{isNoTop:{type:Boolean,default:!1}},data:function(){return{current:["home"],collapsed:!0,menus:[]}},computed:Object(s["a"])({},l["b"],Object(r["d"])("push",["isUnread","isFirst"]),{userMenuList:function(){return o},currentUserName:function(){return this.currentUser&&"".concat(this.currentUser.firstName," ").concat(this.currentUser.lastName)}}),created:function(){window.addEventListener("resize",this.getHeight),this.isFirst&&"employee-notification"!==this.$route.name&&this.fetchPushes({type:null,nextCursorRequest:null})},mounted:function(){this.getHeight()},methods:Object(s["a"])({},Object(r["b"])("push",["fetchPushes","clearUnRead"]),{toggle:function(){this.collapsed=!this.collapsed},onClickDropdown:function(e){this.$router.push({name:e})},getHeight:function(){var e=this,t=window.innerHeight,n=window.innerWidth;this.$nextTick(function(){e.$refs.main.$el.style.height=n<481?"".concat(t,"px"):"auto"})},onRemoveAllDeliveredNotifications:function(){this.clearUnRead(),c["a"].removeAllDeliveredNotifications()},goToNotification:function(){this.clearUnRead(),this.$router.push({name:"employee-notification"})}})},d=u,m=n("86ec"),p=n("2877");function f(e){this["$style"]=m["default"].locals||m["default"]}var h=Object(p["a"])(d,a,i,!1,f,null,null);t["a"]=h.exports}}]);
//# sourceMappingURL=chunk-320ccf84.fa48bac3.js.map