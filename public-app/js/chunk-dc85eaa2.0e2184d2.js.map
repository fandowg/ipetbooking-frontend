{"version":3,"sources":["webpack:///./src/components/SignatureDialog.vue?7bd5","webpack:///./src/components/SignatureDialog.vue?40b4","webpack:///./src/components/SignatureDialog.vue?0286","webpack:///./node_modules/vue-signature/src/components/vueSignature.vue?569c","webpack:///./node_modules/signature_pad/dist/signature_pad.js","webpack:///node_modules/vue-signature/src/components/vueSignature.vue","webpack:///./node_modules/vue-signature/src/components/vueSignature.vue?21fb","webpack:///./node_modules/vue-signature/src/components/vueSignature.vue?9157","webpack:///./node_modules/vue-signature/src/main.js","webpack:///src/components/SignatureDialog.vue","webpack:///./src/components/SignatureDialog.vue?4af7","webpack:///./src/components/SignatureDialog.vue?dc76","webpack:///./node_modules/vue-signature/src/components/vueSignature.vue?336a"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SignatureDialog_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SignatureDialog_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","module","exports","slide","slide-reverse","signature-area","info","actions","image","steps","sign","render","_vm","this","_h","$createElement","_c","_self","class","$style","attrs","visible","fullscreen","isMobile","top","append-to-body","on","close","handleClose","mode","staticClass","_v","_s","order","params","title","productName","staticStyle","margin-bottom","_f","Date","date","time","fullName","gender","_e","active","activeStep","click","$event","handleNextStep","storeInvoiceSetting","text-align","margin-top","ref","model","submitData","default-value","gutter","span","type","position","effect","content","placement","onBtnClickUndoSign","name","onBtnClickClearSign","sig-option","signatureOption","w","h","vueSignatureHeight","note","loading","tryingSignature","disabled","handleSubmit","src","signature","slot","staticRenderFns","vueSignaturevue_type_template_id_0d31f4e4_render","style","width","height","touchmove","preventDefault","id","uid","data-uid","vueSignaturevue_type_template_id_0d31f4e4_staticRenderFns","Point","[object Object]","x","y","now","start","Math","sqrt","pow","other","distanceTo","Bezier","startPoint","control2","control1","endPoint","startWidth","endWidth","points","widths","c2","calculateControlPoints","c3","c1","end","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","dxm","dym","k","cm","tx","ty","px","py","length","i","t","cx","point","cy","xdiff","ydiff","throttle","fn","wait","result","storedContext","storedArgs","previous","timeout","later","apply","args","remaining","clearTimeout","window","setTimeout","SignaturePad","canvas","options","_handleMouseDown","event","which","_mouseButtonDown","_strokeBegin","_handleMouseMove","_strokeMoveUpdate","_handleMouseUp","_strokeEnd","_handleTouchStart","targetTouches","touch","changedTouches","_handleTouchMove","_handleTouchEnd","wasCanvasTouched","target","velocityFilterWeight","minWidth","maxWidth","minDistance","dotSize","penColor","backgroundColor","onBegin","onEnd","prototype","_strokeUpdate","_ctx","getContext","clear","ctx","fillStyle","clearRect","fillRect","_data","_reset","_isEmpty","dataUrl","callback","Image","ratio","devicePixelRatio","onload","drawImage","onerror","error","encoderOptions","_toSVG","toDataURL","touchAction","msTouchAction","PointerEvent","_handlePointerEvents","_handleMouseEvents","_handleTouchEvents","removeEventListener","document","pointGroups","_fromData","color","curve","_drawCurve","_drawDot","newPointGroup","push","clientX","clientY","_createPoint","lastPointGroup","lastPoints","lastPoint","isLastPointTooClose","_addPoint","addEventListener","_lastPoints","_lastVelocity","_lastWidth","rect","getBoundingClientRect","left","getTime","unshift","_calculateCurveWidths","fromPoints","shift","velocity","velocityFrom","newWidth","_strokeWidth","max","moveTo","arc","PI","widthDelta","drawSteps","floor","beginPath","tt","ttt","u","uu","uuu","min","_drawCurveSegment","closePath","fill","drawCurve","drawDot","group","j","basicPoint","minX","minY","maxX","maxY","svg","createElementNS","setAttribute","toString","path","createElement","isNaN","attr","toFixed","appendChild","circle","prefix","header","body","innerHTML","undefined","dummy","nodes","childNodes","cloneNode","footer","data","btoa","signature_pad","vueSignaturevue_type_script_lang_js_","props","sigOption","Object","default","String","clearOnResize","Boolean","waterMark","defaultUrl","sig","option","watch","val","_this","off","_uid","sigOptions","keys","item","methods","getElementById","resizeCanvas","c","url","isEmpty","save","offsetWidth","offsetHeight","scale","fromDataURL","addWaterMark","format","toData","pop","fromData","call","Error","vCanvas","textData","text","sx","sy","font","strokeStyle","fillText","strokeText","$nextTick","then","draw","components_vueSignaturevue_type_script_lang_js_","component","componentNormalizer","vueSignature","main","dataURLtoFile","dataurl","filename","arr","split","mime","match","bstr","atob","u8arr","Uint8Array","charCodeAt","File","SignatureDialogvue_type_script_lang_js_","filters","genderFilter","filter_value_to_text","formatDate","format_date","components","InvoiceForm","lazyload_component","e","bind","required","objectSpread","taxType","taxId","CarrierType","CarrierNum","LoveCode","saveTaxInfo","invoice","innerWidth","computed","test","navigator","userAgent","created","invoices","mounted","dispatchEvent","Event","tryToStore","_tryToStore","asyncToGenerator","regenerator_default","a","mark","_callee","_this$order","storeData","wrap","_context","prev","next","objectWithoutProperties","status","phoneNumber","$store","dispatch","$emit","t0","finish","stop","_x","arguments","$refs","undo","lodash","_callee2","signData","rid","_context2","$message","message","random","handleUpload","concat","_handleUpload","_callee3","file","formData","imgUrl","_context3","FormData","append","tryingToUpload","request","post","headers","Content-Type","sent","_x2","_handleNextStep","_callee4","_context4","form","validate","components_SignatureDialogvue_type_script_lang_js_","injectStyles","context","SignatureDialogvue_type_style_index_0_lang_scss_module_true_","locals","SignatureDialog_component","_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_css_loader_index_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_lib_index_js_ref_6_oneOf_1_2_cache_loader_dist_cjs_js_ref_0_0_vue_loader_lib_index_js_vue_loader_options_vueSignature_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_css_loader_index_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_lib_index_js_ref_6_oneOf_1_2_cache_loader_dist_cjs_js_ref_0_0_vue_loader_lib_index_js_vue_loader_options_vueSignature_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-dc85eaa2.0e2184d2.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignatureDialog.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignatureDialog.vue?vue&type=style&index=0&lang=scss&module=true&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"SignatureDialog_slide_3sr6R\",\"slide-reverse\":\"SignatureDialog_slide-reverse_22U-z\",\"signature-area\":\"SignatureDialog_signature-area_2bwJd\",\"info\":\"SignatureDialog_info_2vRW3\",\"actions\":\"SignatureDialog_actions_AKtrL\",\"image\":\"SignatureDialog_image_3EoyM\",\"steps\":\"SignatureDialog_steps_32kTq\",\"sign\":\"SignatureDialog_sign_1Z0py\"};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{class:_vm.$style.sign,attrs:{\"visible\":_vm.visible,\"fullscreen\":_vm.isMobile,\"top\":\"0\",\"append-to-body\":\"\"},on:{\"close\":_vm.handleClose}},[(_vm.mode !== 'edit')?_c('div',{class:_vm.$style.info},[_c('div',{staticClass:\"service\"},[_vm._v(_vm._s(_vm.order.params[0].title))]),_c('div',{staticClass:\"product\"},[_vm._v(_vm._s(_vm.order.productName))]),_c('p',{staticClass:\"booking-date Jost\",staticStyle:{\"margin-bottom\":\"5px\"}},[_vm._v(_vm._s(_vm._f(\"formatDate\")(new Date(_vm.order.date)))+\" \"+_vm._s(_vm.order.time))]),_c('div',[_vm._v(_vm._s(_vm.order.fullName)+\" \"+_vm._s(_vm._f(\"genderFilter\")(_vm.order.gender)))])]):_vm._e(),(_vm.mode === 'edit')?[(_vm.storeInvoiceSetting)?[_c('div',{class:_vm.$style.steps},[_c('div',{staticClass:\"item\",class:{ active: _vm.activeStep === 1 },on:{\"click\":function($event){_vm.activeStep = 1}}},[_c('div',{staticClass:\"step\"},[_vm._v(\"1\")]),_c('div',{staticClass:\"title\"},[_vm._v(\"填寫發票資訊\")])]),_c('div',{staticClass:\"item\",class:{ active: _vm.activeStep === 2 },on:{\"click\":_vm.handleNextStep}},[_c('div',{staticClass:\"step\"},[_vm._v(\"2\")]),_c('div',{staticClass:\"title\"},[_vm._v(\"簽名確認\")])])]),_c('el-divider')]:_vm._e(),(_vm.activeStep === 1 && _vm.storeInvoiceSetting)?[_c('h4',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"45px\"}},[_vm._v(\"填寫發票資訊\")]),_c('p',{staticStyle:{\"margin-bottom\":\"40px\",\"text-align\":\"center\"}},[_vm._v(\"請先填寫完發票資訊後，於下一步簽名確認\")]),_c('el-form',{ref:\"form\",staticClass:\"el-form-item--normal-margin\",attrs:{\"model\":_vm.submitData}},[_c('InvoiceForm',{attrs:{\"default-value\":_vm.submitData}})],1),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-button',{staticClass:\"is-fullwidth is-round\",on:{\"click\":_vm.handleClose}},[_vm._v(\"取消\")])],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-button',{staticClass:\"is-fullwidth is-round\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleNextStep}},[_vm._v(\"下一步：簽名確認\")])],1)],1)]:_vm._e(),(_vm.activeStep === 2 || !_vm.storeInvoiceSetting)?[_c('div',{staticClass:\"hidden-mobile\"},[_c('h4',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"45px\"}},[_vm._v(\"簽名確認\")]),_c('p',{staticStyle:{\"margin-bottom\":\"40px\",\"text-align\":\"center\"}},[_vm._v(\"請檢查寵物狀態再簽名確認完成本次服務\")])]),_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('div',{class:_vm.$style.actions},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"復原\",\"placement\":\"top\"}},[_c('el-button',{staticClass:\"is-round\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.onBtnClickUndoSign}},[_c('BaseIcon',{attrs:{\"name\":\"undo\"}})],1)],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"清除簽名\",\"placement\":\"top\"}},[_c('el-button',{staticClass:\"is-round\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.onBtnClickClearSign}},[_c('BaseIcon',{attrs:{\"name\":\"trash-alt\"}})],1)],1)],1),_c('vueSignature',{ref:\"signature\",class:_vm.$style['signature-area'],attrs:{\"sig-option\":_vm.signatureOption,\"w\":'100%',\"h\":_vm.vueSignatureHeight}})],1),(_vm.order.note)?_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_vm._v(\"使用人備註： \"+_vm._s(_vm.order.note))]):_vm._e(),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"gutter\":20}},[_c('el-button',{staticClass:\"is-fullwidth is-round\",attrs:{\"type\":\"primary\",\"loading\":_vm.tryingSignature,\"disabled\":_vm.tryingSignature},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"確認送出\")])],1)]:_vm._e()]:[_c('el-image',{class:_vm.$style.image,attrs:{\"src\":_vm.order.signature}},[_c('div',{attrs:{\"slot\":\"error\"},slot:\"error\"},[_vm._v(\"\\n        圖片載入失敗\\n      \")])])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({width:_vm.w,height:_vm.h}),on:{\"touchmove\":function($event){$event.preventDefault();}}},[_c('canvas',{staticClass:\"canvas\",attrs:{\"id\":_vm.uid,\"data-uid\":_vm.uid,\"disabled\":_vm.disabled}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*!\n * Signature Pad v3.0.0-beta.4 | https://github.com/szimek/signature_pad\n * (c) 2020 Szymon Nowak | Released under the MIT license\n */\n\nclass Point {\n    constructor(x, y, time) {\n        this.x = x;\n        this.y = y;\n        this.time = time || Date.now();\n    }\n    distanceTo(start) {\n        return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n    }\n    equals(other) {\n        return this.x === other.x && this.y === other.y && this.time === other.time;\n    }\n    velocityFrom(start) {\n        return this.time !== start.time\n            ? this.distanceTo(start) / (this.time - start.time)\n            : 0;\n    }\n}\n\nclass Bezier {\n    constructor(startPoint, control2, control1, endPoint, startWidth, endWidth) {\n        this.startPoint = startPoint;\n        this.control2 = control2;\n        this.control1 = control1;\n        this.endPoint = endPoint;\n        this.startWidth = startWidth;\n        this.endWidth = endWidth;\n    }\n    static fromPoints(points, widths) {\n        const c2 = this.calculateControlPoints(points[0], points[1], points[2]).c2;\n        const c3 = this.calculateControlPoints(points[1], points[2], points[3]).c1;\n        return new Bezier(points[1], c2, c3, points[2], widths.start, widths.end);\n    }\n    static calculateControlPoints(s1, s2, s3) {\n        const dx1 = s1.x - s2.x;\n        const dy1 = s1.y - s2.y;\n        const dx2 = s2.x - s3.x;\n        const dy2 = s2.y - s3.y;\n        const m1 = { x: (s1.x + s2.x) / 2.0, y: (s1.y + s2.y) / 2.0 };\n        const m2 = { x: (s2.x + s3.x) / 2.0, y: (s2.y + s3.y) / 2.0 };\n        const l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n        const l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n        const dxm = m1.x - m2.x;\n        const dym = m1.y - m2.y;\n        const k = l2 / (l1 + l2);\n        const cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n        const tx = s2.x - cm.x;\n        const ty = s2.y - cm.y;\n        return {\n            c1: new Point(m1.x + tx, m1.y + ty),\n            c2: new Point(m2.x + tx, m2.y + ty),\n        };\n    }\n    length() {\n        const steps = 10;\n        let length = 0;\n        let px;\n        let py;\n        for (let i = 0; i <= steps; i += 1) {\n            const t = i / steps;\n            const cx = this.point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n            const cy = this.point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n            if (i > 0) {\n                const xdiff = cx - px;\n                const ydiff = cy - py;\n                length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n            }\n            px = cx;\n            py = cy;\n        }\n        return length;\n    }\n    point(t, start, c1, c2, end) {\n        return (start * (1.0 - t) * (1.0 - t) * (1.0 - t))\n            + (3.0 * c1 * (1.0 - t) * (1.0 - t) * t)\n            + (3.0 * c2 * (1.0 - t) * t * t)\n            + (end * t * t * t);\n    }\n}\n\nfunction throttle(fn, wait = 250) {\n    let previous = 0;\n    let timeout = null;\n    let result;\n    let storedContext;\n    let storedArgs;\n    const later = () => {\n        previous = Date.now();\n        timeout = null;\n        result = fn.apply(storedContext, storedArgs);\n        if (!timeout) {\n            storedContext = null;\n            storedArgs = [];\n        }\n    };\n    return function wrapper(...args) {\n        const now = Date.now();\n        const remaining = wait - (now - previous);\n        storedContext = this;\n        storedArgs = args;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = fn.apply(storedContext, storedArgs);\n            if (!timeout) {\n                storedContext = null;\n                storedArgs = [];\n            }\n        }\n        else if (!timeout) {\n            timeout = window.setTimeout(later, remaining);\n        }\n        return result;\n    };\n}\n\nclass SignaturePad {\n    constructor(canvas, options = {}) {\n        this.canvas = canvas;\n        this.options = options;\n        this._handleMouseDown = (event) => {\n            if (event.which === 1) {\n                this._mouseButtonDown = true;\n                this._strokeBegin(event);\n            }\n        };\n        this._handleMouseMove = (event) => {\n            if (this._mouseButtonDown) {\n                this._strokeMoveUpdate(event);\n            }\n        };\n        this._handleMouseUp = (event) => {\n            if (event.which === 1 && this._mouseButtonDown) {\n                this._mouseButtonDown = false;\n                this._strokeEnd(event);\n            }\n        };\n        this._handleTouchStart = (event) => {\n            event.preventDefault();\n            if (event.targetTouches.length === 1) {\n                const touch = event.changedTouches[0];\n                this._strokeBegin(touch);\n            }\n        };\n        this._handleTouchMove = (event) => {\n            event.preventDefault();\n            const touch = event.targetTouches[0];\n            this._strokeMoveUpdate(touch);\n        };\n        this._handleTouchEnd = (event) => {\n            const wasCanvasTouched = event.target === this.canvas;\n            if (wasCanvasTouched) {\n                event.preventDefault();\n                const touch = event.changedTouches[0];\n                this._strokeEnd(touch);\n            }\n        };\n        this.velocityFilterWeight = options.velocityFilterWeight || 0.7;\n        this.minWidth = options.minWidth || 0.5;\n        this.maxWidth = options.maxWidth || 2.5;\n        this.throttle = ('throttle' in options ? options.throttle : 16);\n        this.minDistance = ('minDistance' in options\n            ? options.minDistance\n            : 5);\n        this.dotSize =\n            options.dotSize ||\n                function dotSize() {\n                    return (this.minWidth + this.maxWidth) / 2;\n                };\n        this.penColor = options.penColor || 'black';\n        this.backgroundColor = options.backgroundColor || 'rgba(0,0,0,0)';\n        this.onBegin = options.onBegin;\n        this.onEnd = options.onEnd;\n        this._strokeMoveUpdate = this.throttle\n            ? throttle(SignaturePad.prototype._strokeUpdate, this.throttle)\n            : SignaturePad.prototype._strokeUpdate;\n        this._ctx = canvas.getContext('2d');\n        this.clear();\n        this.on();\n    }\n    clear() {\n        const { _ctx: ctx, canvas } = this;\n        ctx.fillStyle = this.backgroundColor;\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        this._data = [];\n        this._reset();\n        this._isEmpty = true;\n    }\n    fromDataURL(dataUrl, options = {}, callback) {\n        const image = new Image();\n        const ratio = options.ratio || window.devicePixelRatio || 1;\n        const width = options.width || this.canvas.width / ratio;\n        const height = options.height || this.canvas.height / ratio;\n        this._reset();\n        image.onload = () => {\n            this._ctx.drawImage(image, 0, 0, width, height);\n            if (callback) {\n                callback();\n            }\n        };\n        image.onerror = (error) => {\n            if (callback) {\n                callback(error);\n            }\n        };\n        image.src = dataUrl;\n        this._isEmpty = false;\n    }\n    toDataURL(type = 'image/png', encoderOptions) {\n        switch (type) {\n            case 'image/svg+xml':\n                return this._toSVG();\n            default:\n                return this.canvas.toDataURL(type, encoderOptions);\n        }\n    }\n    on() {\n        this.canvas.style.touchAction = 'none';\n        this.canvas.style.msTouchAction = 'none';\n        if (window.PointerEvent) {\n            this._handlePointerEvents();\n        }\n        else {\n            this._handleMouseEvents();\n            if ('ontouchstart' in window) {\n                this._handleTouchEvents();\n            }\n        }\n    }\n    off() {\n        this.canvas.style.touchAction = 'auto';\n        this.canvas.style.msTouchAction = 'auto';\n        this.canvas.removeEventListener('pointerdown', this._handleMouseDown);\n        this.canvas.removeEventListener('pointermove', this._handleMouseMove);\n        document.removeEventListener('pointerup', this._handleMouseUp);\n        this.canvas.removeEventListener('mousedown', this._handleMouseDown);\n        this.canvas.removeEventListener('mousemove', this._handleMouseMove);\n        document.removeEventListener('mouseup', this._handleMouseUp);\n        this.canvas.removeEventListener('touchstart', this._handleTouchStart);\n        this.canvas.removeEventListener('touchmove', this._handleTouchMove);\n        this.canvas.removeEventListener('touchend', this._handleTouchEnd);\n    }\n    isEmpty() {\n        return this._isEmpty;\n    }\n    fromData(pointGroups) {\n        this.clear();\n        this._fromData(pointGroups, ({ color, curve }) => this._drawCurve({ color, curve }), ({ color, point }) => this._drawDot({ color, point }));\n        this._data = pointGroups;\n    }\n    toData() {\n        return this._data;\n    }\n    _strokeBegin(event) {\n        const newPointGroup = {\n            color: this.penColor,\n            points: [],\n        };\n        if (typeof this.onBegin === 'function') {\n            this.onBegin(event);\n        }\n        this._data.push(newPointGroup);\n        this._reset();\n        this._strokeUpdate(event);\n    }\n    _strokeUpdate(event) {\n        if (this._data.length === 0) {\n            this._strokeBegin(event);\n            return;\n        }\n        const x = event.clientX;\n        const y = event.clientY;\n        const point = this._createPoint(x, y);\n        const lastPointGroup = this._data[this._data.length - 1];\n        const lastPoints = lastPointGroup.points;\n        const lastPoint = lastPoints.length > 0 && lastPoints[lastPoints.length - 1];\n        const isLastPointTooClose = lastPoint\n            ? point.distanceTo(lastPoint) <= this.minDistance\n            : false;\n        const color = lastPointGroup.color;\n        if (!lastPoint || !(lastPoint && isLastPointTooClose)) {\n            const curve = this._addPoint(point);\n            if (!lastPoint) {\n                this._drawDot({ color, point });\n            }\n            else if (curve) {\n                this._drawCurve({ color, curve });\n            }\n            lastPoints.push({\n                time: point.time,\n                x: point.x,\n                y: point.y,\n            });\n        }\n    }\n    _strokeEnd(event) {\n        this._strokeUpdate(event);\n        if (typeof this.onEnd === 'function') {\n            this.onEnd(event);\n        }\n    }\n    _handlePointerEvents() {\n        this._mouseButtonDown = false;\n        this.canvas.addEventListener('pointerdown', this._handleMouseDown);\n        this.canvas.addEventListener('pointermove', this._handleMouseMove);\n        document.addEventListener('pointerup', this._handleMouseUp);\n    }\n    _handleMouseEvents() {\n        this._mouseButtonDown = false;\n        this.canvas.addEventListener('mousedown', this._handleMouseDown);\n        this.canvas.addEventListener('mousemove', this._handleMouseMove);\n        document.addEventListener('mouseup', this._handleMouseUp);\n    }\n    _handleTouchEvents() {\n        this.canvas.addEventListener('touchstart', this._handleTouchStart);\n        this.canvas.addEventListener('touchmove', this._handleTouchMove);\n        this.canvas.addEventListener('touchend', this._handleTouchEnd);\n    }\n    _reset() {\n        this._lastPoints = [];\n        this._lastVelocity = 0;\n        this._lastWidth = (this.minWidth + this.maxWidth) / 2;\n        this._ctx.fillStyle = this.penColor;\n    }\n    _createPoint(x, y) {\n        const rect = this.canvas.getBoundingClientRect();\n        return new Point(x - rect.left, y - rect.top, new Date().getTime());\n    }\n    _addPoint(point) {\n        const { _lastPoints } = this;\n        _lastPoints.push(point);\n        if (_lastPoints.length > 2) {\n            if (_lastPoints.length === 3) {\n                _lastPoints.unshift(_lastPoints[0]);\n            }\n            const widths = this._calculateCurveWidths(_lastPoints[1], _lastPoints[2]);\n            const curve = Bezier.fromPoints(_lastPoints, widths);\n            _lastPoints.shift();\n            return curve;\n        }\n        return null;\n    }\n    _calculateCurveWidths(startPoint, endPoint) {\n        const velocity = this.velocityFilterWeight * endPoint.velocityFrom(startPoint) +\n            (1 - this.velocityFilterWeight) * this._lastVelocity;\n        const newWidth = this._strokeWidth(velocity);\n        const widths = {\n            end: newWidth,\n            start: this._lastWidth,\n        };\n        this._lastVelocity = velocity;\n        this._lastWidth = newWidth;\n        return widths;\n    }\n    _strokeWidth(velocity) {\n        return Math.max(this.maxWidth / (velocity + 1), this.minWidth);\n    }\n    _drawCurveSegment(x, y, width) {\n        const ctx = this._ctx;\n        ctx.moveTo(x, y);\n        ctx.arc(x, y, width, 0, 2 * Math.PI, false);\n        this._isEmpty = false;\n    }\n    _drawCurve({ color, curve }) {\n        const ctx = this._ctx;\n        const widthDelta = curve.endWidth - curve.startWidth;\n        const drawSteps = Math.floor(curve.length()) * 2;\n        ctx.beginPath();\n        ctx.fillStyle = color;\n        for (let i = 0; i < drawSteps; i += 1) {\n            const t = i / drawSteps;\n            const tt = t * t;\n            const ttt = tt * t;\n            const u = 1 - t;\n            const uu = u * u;\n            const uuu = uu * u;\n            let x = uuu * curve.startPoint.x;\n            x += 3 * uu * t * curve.control1.x;\n            x += 3 * u * tt * curve.control2.x;\n            x += ttt * curve.endPoint.x;\n            let y = uuu * curve.startPoint.y;\n            y += 3 * uu * t * curve.control1.y;\n            y += 3 * u * tt * curve.control2.y;\n            y += ttt * curve.endPoint.y;\n            const width = Math.min(curve.startWidth + ttt * widthDelta, this.maxWidth);\n            this._drawCurveSegment(x, y, width);\n        }\n        ctx.closePath();\n        ctx.fill();\n    }\n    _drawDot({ color, point, }) {\n        const ctx = this._ctx;\n        const width = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n        ctx.beginPath();\n        this._drawCurveSegment(point.x, point.y, width);\n        ctx.closePath();\n        ctx.fillStyle = color;\n        ctx.fill();\n    }\n    _fromData(pointGroups, drawCurve, drawDot) {\n        for (const group of pointGroups) {\n            const { color, points } = group;\n            if (points.length > 1) {\n                for (let j = 0; j < points.length; j += 1) {\n                    const basicPoint = points[j];\n                    const point = new Point(basicPoint.x, basicPoint.y, basicPoint.time);\n                    this.penColor = color;\n                    if (j === 0) {\n                        this._reset();\n                    }\n                    const curve = this._addPoint(point);\n                    if (curve) {\n                        drawCurve({ color, curve });\n                    }\n                }\n            }\n            else {\n                this._reset();\n                drawDot({\n                    color,\n                    point: points[0],\n                });\n            }\n        }\n    }\n    _toSVG() {\n        const pointGroups = this._data;\n        const ratio = Math.max(window.devicePixelRatio || 1, 1);\n        const minX = 0;\n        const minY = 0;\n        const maxX = this.canvas.width / ratio;\n        const maxY = this.canvas.height / ratio;\n        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttribute('width', this.canvas.width.toString());\n        svg.setAttribute('height', this.canvas.height.toString());\n        this._fromData(pointGroups, ({ color, curve }) => {\n            const path = document.createElement('path');\n            if (!isNaN(curve.control1.x) &&\n                !isNaN(curve.control1.y) &&\n                !isNaN(curve.control2.x) &&\n                !isNaN(curve.control2.y)) {\n                const attr = `M ${curve.startPoint.x.toFixed(3)},${curve.startPoint.y.toFixed(3)} ` +\n                    `C ${curve.control1.x.toFixed(3)},${curve.control1.y.toFixed(3)} ` +\n                    `${curve.control2.x.toFixed(3)},${curve.control2.y.toFixed(3)} ` +\n                    `${curve.endPoint.x.toFixed(3)},${curve.endPoint.y.toFixed(3)}`;\n                path.setAttribute('d', attr);\n                path.setAttribute('stroke-width', (curve.endWidth * 2.25).toFixed(3));\n                path.setAttribute('stroke', color);\n                path.setAttribute('fill', 'none');\n                path.setAttribute('stroke-linecap', 'round');\n                svg.appendChild(path);\n            }\n        }, ({ color, point }) => {\n            const circle = document.createElement('circle');\n            const dotSize = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n            circle.setAttribute('r', dotSize.toString());\n            circle.setAttribute('cx', point.x.toString());\n            circle.setAttribute('cy', point.y.toString());\n            circle.setAttribute('fill', color);\n            svg.appendChild(circle);\n        });\n        const prefix = 'data:image/svg+xml;base64,';\n        const header = '<svg' +\n            ' xmlns=\"http://www.w3.org/2000/svg\"' +\n            ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"' +\n            ` viewBox=\"${minX} ${minY} ${maxX} ${maxY}\"` +\n            ` width=\"${maxX}\"` +\n            ` height=\"${maxY}\"` +\n            '>';\n        let body = svg.innerHTML;\n        if (body === undefined) {\n            const dummy = document.createElement('dummy');\n            const nodes = svg.childNodes;\n            dummy.innerHTML = '';\n            for (let i = 0; i < nodes.length; i += 1) {\n                dummy.appendChild(nodes[i].cloneNode(true));\n            }\n            body = dummy.innerHTML;\n        }\n        const footer = '</svg>';\n        const data = header + body + footer;\n        return prefix + btoa(data);\n    }\n}\n\nexport default SignaturePad;\n//# sourceMappingURL=signature_pad.js.map\n","<template>\n\t<div :style=\"{width:w,height:h}\" @touchmove.prevent>\n\t\t<canvas :id=\"uid\" class=\"canvas\" :data-uid=\"uid\" :disabled=\"disabled\"></canvas>\n\t</div>\n</template>\n\n<script>\n\timport SignaturePad from 'signature_pad'\n\texport default {\n\t\tname:\"vueSignature\",\n\t\tprops:{\n\t\t\tsigOption: {\n\t\t\t\ttype:Object,\n\t\t\t\tdefault:()=>{\n\t\t\t\t\treturn {\n\t\t\t\t\t\tbackgroundColor:'rgb(255,255,255)',\n\t\t\t\t\t\tpenColor : 'rgb(0, 0, 0)'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\tw:{\n\t\t\t\ttype:String,\n\t\t\t\tdefault:\"100%\"\n\t\t\t},\n\t\t\th:{\n\t\t\t\ttype:String,\n\t\t\t\tdefault:\"100%\"\n\t\t\t},\n\t\t\tclearOnResize:{\n\t\t\t\ttype:Boolean,\n\t\t\t\tdefault:false\n\t\t\t},\n\t\t\twaterMark:{\n\t\t\t\ttype:Object,\n\t\t\t\tdefault:()=>{\n\t\t\t\t\treturn {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdisabled:{\n\t\t\t\ttype:Boolean,\n\t\t\t\tdefault:false\n\t\t\t},\n\t\t\tdefaultUrl:{\n\t\t\t\ttype:String,\n\t\t\t\tdefault:\"\"\n\t\t\t}\n\t\t},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tsig:()=>{},\n\t\t\t\toption:{\n\t\t\t\t\tbackgroundColor:'rgb(255,255,255)',\n\t\t\t\t\tpenColor : 'rgb(0, 0, 0)'\n\t\t\t\t},\n\t\t\t\tuid:\"\"\n\t\t\t}\n\t\t},\n\t\twatch:{\n\t\t\tdisabled(val){\n\t\t\t\tvar _this = this\n\t\t\t\tif (val) {\n\t\t\t\t\t_this.sig.off()\n\t\t\t\t} else {\n\t\t\t\t\t_this.sig.on()\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\tvar _this = this;\n\t\t\tthis.uid = \"canvas\" + _this._uid\n\t\t\tvar sigOptions = Object.keys(_this.sigOption);\n\t\t\tfor(var item of sigOptions){\n\t\t\t\t_this.option[item] = _this.sigOption[item]\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tdraw(){\n\t\t\t\tvar _this = this;\n\t\t\t\tvar canvas = document.getElementById(_this.uid)\n\t\t\t\t_this.sig = new SignaturePad(canvas,_this.option);\n\t\t\t\t\n\t\t\t\tfunction resizeCanvas(c) {\n\t\t\t\t\tvar url;\n\t\t\t\t\tif(!_this.isEmpty()){\n\t\t\t\t\t\turl = _this.save();\n\t\t\t\t\t}\n\t\t\t\t\tvar ratio =  Math.max(window.devicePixelRatio || 1, 1);\n\t\t\t\t\tc.width = c.offsetWidth * ratio;\n\t\t\t\t\tc.height = c.offsetHeight * ratio;\n\t\t\t\t\tc.getContext(\"2d\").scale(ratio, ratio);\n\t\t\t\t\t_this.clear();\n\t\t\t\t\t!_this.clearOnResize && url !== undefined && _this.fromDataURL(url)\n\t\t\t\t\tObject.keys(_this.waterMark).length && _this.addWaterMark(_this.waterMark)\n\t\t\t\t}\n\t\t\t\twindow.addEventListener(\"resize\", resizeCanvas(canvas));\n\t\t\t\tresizeCanvas(canvas);\n\n\t\t\t\tif (_this.defaultUrl !== \"\"){\n\t\t\t\t\t_this.fromDataURL(_this.defaultUrl);\n\t\t\t\t}\n\n\t\t\t\tif (_this.disabled) {\n\t\t\t\t\t_this.sig.off();\n\t\t\t\t} else {\n\t\t\t\t\t_this.sig.on();\n\t\t\t\t}\n\t\t\t},\n\t\t\tclear(){\n\t\t\t\tvar _this = this;\n\t\t\t\t_this.sig.clear();\n\t\t\t},\n\t\t\tsave(format){\n\t\t\t\tvar _this = this;\n\t\t\t\treturn format ? _this.sig.toDataURL(format) :  _this.sig.toDataURL()\n\t\t\t\t// signaturePad.toDataURL(); // save image as PNG\n\t\t\t\t// signaturePad.toDataURL(\"image/jpeg\"); // save image as JPEG\n\t\t\t\t// signaturePad.toDataURL(\"image/svg+xml\"); // save image as SVG\n\t\t\t},\n\t\t\tfromDataURL(url){\n\t\t\t\tvar _this = this;\n\t\t\t\t_this.sig.fromDataURL(url)\n\t\t\t},\n\t\t\tisEmpty(){\n\t\t\t\tvar _this = this;\n\t\t\t\treturn _this.sig.isEmpty();\n\t\t\t},\n\t\t\tundo(){\n\t\t\t\tvar _this = this;\n\t\t\t\tvar data = _this.sig.toData();\n\t\t\t\tif(data){\n\t\t\t\t\tdata.pop()\n\t\t\t\t\t_this.sig.fromData(data);\n\t\t\t\t}\n\t\t\t},\n\t\t\taddWaterMark(data){\n\t\t\t\tvar _this = this;\n\t\t\t\tif(!(Object.prototype.toString.call(data) == '[object Object]')){\n\t\t\t\t\tthrow new Error(\"Expected Object, got \"+typeof data+\".\")\n\t\t\t\t}else{\n\t\t\t\t\tvar vCanvas = document.getElementById(_this.uid);\n\n\t\t\t\t\tvar textData = {\n\t\t\t\t\t\t\ttext:data.text || '',\n\t\t\t\t\t\t\tx:data.x || 20,\n\t\t\t\t\t\t\ty:data.y || 20,\n\t\t\t\t\t\t\tsx:data.sx || 40,\n\t\t\t\t\t\t\tsy:data.sy || 40\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\tvar ctx = vCanvas.getContext('2d');\n\t\t\t\t\t\tctx.font = data.font || '20px sans-serif';\n\t\t\t\t\t\tctx.fillStyle = data.fillStyle || \"#333\";\n\t\t\t\t\t\tctx.strokeStyle = data.strokeStyle || \"#333\";    \n    \t\t\t\t\tif(data.style == 'all'){\n\t\t\t\t\t\t\tctx.fillText(textData.text,textData.x,textData.y);\n\t\t\t\t\t\t\tctx.strokeText(textData.text,textData.sx,textData.sx);\n\t\t\t\t\t\t}else if(data.style == 'stroke'){\n\t\t\t\t\t\t\tctx.strokeText(textData.text,textData.sx,textData.sx);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tctx.fillText(textData.text,textData.x,textData.y);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t_this.sig._isEmpty = false\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmounted(){\n\t\t\tvar _this = this;\n\t\t\tthis.$nextTick().then(() => {\n\t\t\t\t_this.draw()\n\t\t\t});\n\t\t}\n\t}\n</script>\n\n<style>\n\tcanvas {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n</style>\n","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./vueSignature.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./vueSignature.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./vueSignature.vue?vue&type=template&id=0d31f4e4&\"\nimport script from \"./vueSignature.vue?vue&type=script&lang=js&\"\nexport * from \"./vueSignature.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vueSignature.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import VueSignature from './components/vueSignature.vue'\nexport default VueSignature","<script>\nimport request from '@utils/request'\nimport vueSignature from 'vue-signature'\nimport { genderFilter } from '@utils/filter-value-to-text'\nimport formatDate from '@utils/format-date'\nimport lazyLoadComponent from '@router/lazyload-component'\nimport { debounce } from 'lodash'\n\n// base64 to FileObject\nconst dataURLtoFile = function(dataurl, filename) {\n  let arr = dataurl.split(',');\n    let mime = arr[0].match(/:(.*?);/)[1];\n    let bstr = atob(arr[1]);\n    let n = bstr.length;\n    let u8arr = new Uint8Array(n)\n\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n)\n  }\n\n  return new File([u8arr], filename, { type: mime })\n}\n\nexport default {\n  filters: {\n    genderFilter,\n    formatDate,\n  },\n  components: {\n    vueSignature,\n    InvoiceForm: () => lazyLoadComponent(import('@components/InvoiceForm')),\n  },\n  props: {\n    visible: {\n      type: Boolean,\n      default: false,\n    },\n    order: {\n      type: Object,\n      required: true,\n    },\n    mode: {\n      type: String,\n      default: 'edit',\n    },\n  },\n  data() {\n    return {\n      signatureOption: {\n        penColor: 'rgb(0, 0, 0)',\n        backgroundColor: 'white',\n      },\n      tryingSignature: false,\n      activeStep: 1,\n      submitData: {\n        taxType: 'B2C',\n        taxId: '',\n        CarrierType: '0',\n        CarrierNum: '',\n        LoveCode: '',\n        saveTaxInfo:1,\n        ...this.order.invoice,\n      },\n      width:window.innerWidth\n    }\n  },\n  computed: {\n    isMobile() {\n      return /Mobi/.test(navigator.userAgent)\n    },\n    storeInvoiceSetting(){\n      return this.order.storeInvoiceSetting === 1\n    },\n    vueSignatureHeight(){\n      return this.width < 481 ? '500px':'300px'\n    }\n  },\n  created() {\n    if(this.order.invoices && this.order.invoices.length === 0){\n      this.submitData.taxType = 'B2C'\n    }\n  },\n  mounted() {\n    // 行動裝置轉向時會將canvas長寬歸零，觸發 resize 來恢復長寬\n    setTimeout(() => {\n      window.dispatchEvent(new Event('resize'))\n    }, 1000)\n    window.addEventListener('resize',()=>{\n      this.width = window.innerWidth\n    })\n    // console.log(this.storeInvoiceSetting())\n  },\n  methods: {\n    async tryToStore(signature) {\n      // this.tryingSignature = true\n      try{\n        const {params,...other} = this.order\n        const storeData = {\n          ...other,\n          ...this.submitData,\n          status: 6,\n          signature,\n          CarrierNum: this.submitData.CarrierType === '2' ? this.order.phoneNumber : this.submitData.CarrierNum,\n        }\n        await this.$store.dispatch('order/store', storeData)\n        this.$emit('update')\n        this.$emit('update:visible', false)\n        // this.tryingSignature = false\n      }catch{\n\n      }finally{\n\n      }\n      \n    },\n    onBtnClickClearSign() {\n      this.$refs.signature.clear()\n    },\n    onBtnClickUndoSign() {\n      this.$refs.signature.undo()\n    },\n    handleSubmit:debounce(async function() {\n      this.tryingSignature = true\n      if (this.$refs.signature.isEmpty()) {\n        this.$message({\n          type: 'error',\n          message: '請在框中簽名！',\n        })\n        this.tryingSignature = false\n      } else {\n        try{\n          const signData = this.$refs.signature.save() // default format is png\n          const rid = Math.floor(Math.random() * 5000000)\n          await this.handleUpload(dataURLtoFile(signData, `signature_${rid}.png`))\n        }catch{\n          this.tryingSignature = false\n        }finally{\n          \n        }\n        \n      }\n      \n    },1000),\n    async handleUpload(file) {\n      try{\n        const formData = new FormData()\n        formData.append('files[]', file)\n        formData.append('dir', 'signature')\n        this.tryingToUpload = true\n        const imgUrl = await request.post('/admin/merchant/media/upload', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        })\n\n        // store api\n        this.tryToStore(imgUrl)\n      } catch{\n\n      }finally{\n\n      }\n      \n    },\n    handleClose() {\n      this.$emit('update:visible', false)\n    },\n    async handleNextStep() {\n      await this.$refs.form.validate()\n      this.activeStep = 2\n    },\n  },\n}\n</script>\n\n<template>\n  <el-dialog :class=\"$style.sign\" :visible=\"visible\" :fullscreen=\"isMobile\" top=\"0\" append-to-body @close=\"handleClose\">\n    <div v-if=\"mode !== 'edit'\" :class=\"$style.info\">\n      <div class=\"service\">{{ order.params[0].title }}</div>\n      <div class=\"product\">{{ order.productName }}</div>\n      <p class=\"booking-date Jost\" style=\"margin-bottom: 5px;\">{{ new Date(order.date) | formatDate() }} {{ order.time }}</p>\n      <div>{{ order.fullName }} {{ order.gender | genderFilter }}</div>\n    </div>\n\n    <template v-if=\"mode === 'edit'\">\n      <template v-if=\"storeInvoiceSetting\">\n        <div :class=\"$style.steps\">\n          <div class=\"item\" :class=\"{ active: activeStep === 1 }\" @click=\"activeStep = 1\">\n            <div class=\"step\">1</div>\n            <div class=\"title\">填寫發票資訊</div>\n          </div>\n          <div class=\"item\" :class=\"{ active: activeStep === 2 }\" @click=\"handleNextStep\">\n            <div class=\"step\">2</div>\n            <div class=\"title\">簽名確認</div>\n          </div>\n        </div>\n        <el-divider></el-divider>\n      </template>\n      <template v-if=\"activeStep === 1 && storeInvoiceSetting\">\n        <h4 style=\"text-align: center;margin-top: 45px;\">填寫發票資訊</h4>\n        <p style=\"margin-bottom: 40px;text-align: center;\">請先填寫完發票資訊後，於下一步簽名確認</p>\n        <el-form ref=\"form\" :model=\"submitData\" class=\"el-form-item--normal-margin\">\n          <InvoiceForm :default-value=\"submitData\" />\n        </el-form>\n        <el-row :gutter=\"20\" style=\"margin-top:20px;\">\n          <el-col :span=\"12\"><el-button class=\"is-fullwidth is-round\" @click=\"handleClose\">取消</el-button></el-col>\n          <el-col :span=\"12\"><el-button class=\"is-fullwidth is-round\" type=\"primary\" @click=\"handleNextStep\">下一步：簽名確認</el-button></el-col>\n        </el-row>\n      </template>\n      <template v-if=\"activeStep === 2 || !storeInvoiceSetting\">\n        <div class=\"hidden-mobile\">\n          <h4 style=\"text-align: center;margin-top: 45px;\">簽名確認</h4>\n          <p style=\"margin-bottom: 40px;text-align: center;\">請檢查寵物狀態再簽名確認完成本次服務</p>\n        </div>\n        <div style=\"position: relative;\">\n          <div :class=\"$style.actions\">\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"復原\" placement=\"top\">\n              <el-button class=\"is-round\" type=\"text\" @click=\"onBtnClickUndoSign\"><BaseIcon name=\"undo\"></BaseIcon></el-button>\n            </el-tooltip>\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"清除簽名\" placement=\"top\">\n              <el-button class=\"is-round\" type=\"text\" @click=\"onBtnClickClearSign\"><BaseIcon name=\"trash-alt\"></BaseIcon></el-button>\n            </el-tooltip>\n          </div>\n          <vueSignature ref=\"signature\" :class=\"$style['signature-area']\" :sig-option=\"signatureOption\" :w=\"'100%'\" :h=\"vueSignatureHeight\"></vueSignature>\n        </div>\n        <div v-if=\"order.note\" style=\"margin-top:20px;\">使用人備註： {{order.note}}</div>\n\n        <el-row :gutter=\"20\" style=\"margin-top:20px;\">\n          <el-button class=\"is-fullwidth is-round\" type=\"primary\" :loading=\"tryingSignature\" :disabled=\"tryingSignature\" @click=\"handleSubmit\">確認送出</el-button>\n          <!-- <el-col :span=\"12\"><el-button class=\"is-fullwidth is-round\" @click=\"activeStep = 1\">上一步</el-button></el-col>\n          <el-col :span=\"12\"><el-button class=\"is-fullwidth is-round\" type=\"primary\" :loading=\"tryingSignature\" :disabled=\"tryingSignature\" @click=\"handleSubmit\">確認送出</el-button></el-col> -->\n        </el-row>\n      </template>\n    </template>\n    <template v-else>\n      <el-image :src=\"order.signature\" :class=\"$style.image\">\n        <div slot=\"error\">\n          圖片載入失敗\n        </div>\n      </el-image>\n    </template>\n  </el-dialog>\n</template>\n<style lang=\"scss\" module>\n@import '@design';\n.signature-area {\n  :global {\n    canvas {\n      border: 1px solid #c6c6ba;\n      border-radius: 8px;\n    }\n  }\n}\n.info {\n  text-align: center;\n  :global {\n    .service {\n      font-size: 20px;\n      line-height: 25px;\n      font-weight: 500;\n    }\n    .product {\n      color: $color-primary;\n      font-size: 16px;\n      line-height: 25px;\n    }\n    .booking-date {\n      line-height: 28px;\n      color: $color-primary;\n      font-weight: 500;\n    }\n  }\n}\n.actions {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n.image {\n  height: 300px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgb(211 211 211 / 0.2);\n  margin-top: 40px;\n}\n.steps {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  @include touch {\n    justify-content: flex-start;\n  }\n  :global {\n    .item {\n      display: flex;\n      align-items: center;\n      opacity: 0.3;\n      &.active {\n        opacity: 1;\n      }\n      .step {\n        color: white;\n        background: $color-primary;\n        width: 27px;\n        height: 27px;\n        padding: 0;\n        line-height: 25px;\n        text-align: center;\n        font-size: 12px;\n        box-shadow: 0 0 0px 2px $color-primary;\n        border: 1px solid white;\n        margin-right: 8px;\n      }\n      .title {\n      }\n      & + .item {\n        margin-left: 20px;\n      }\n    }\n  }\n}\n.sign {\n  :global {\n    @include touch {\n      h4 {\n        margin-top: 28px !important;\n      }\n      h4,\n      p {\n        text-align: left !important;\n      }\n      .el-dialog__headerbtn {\n        top: 41px;\n        font-size: 30px;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignatureDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignatureDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignatureDialog.vue?vue&type=template&id=c46688cc&\"\nimport script from \"./SignatureDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./SignatureDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SignatureDialog.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../css-loader/index.js??ref--6-oneOf-1-1!../../../vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./vueSignature.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../css-loader/index.js??ref--6-oneOf-1-1!../../../vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./vueSignature.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}