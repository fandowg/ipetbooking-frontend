(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d73098a"],{"34a8":function(t,e,n){"use strict";var a=n("7cb2"),i=n.n(a);e["default"]=i.a},7945:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BaseButtonDialog",{ref:"dialog",attrs:{"only-dialog":!0,title:"標籤管理","dialog-visible":t.show,destroy:!0,width:"36%",floating:""},on:{"update:dialogVisible":function(e){t.show=e},"update:dialog-visible":function(e){t.show=e},closed:t.closeDialog,"dialog-opened":t.tryToFetchList}},[n("el-form",{staticClass:"el-form-item--normal-margin",nativeOn:{submit:function(t){t.preventDefault()}}},[n("el-form-item",[n("el-alert",{class:t.$style.alert,attrs:{title:"注意： 移除標籤不會移除具有該標籤的客戶。",type:"info","show-icon":"",closable:!1}})],1),n("el-form-item",[n("el-input",{class:t.$style.createInput,attrs:{placeholder:"建立新標籤",clearable:""},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()}},model:{value:t.newTagTitle,callback:function(e){t.newTagTitle="string"===typeof e?e.trim():e},expression:"newTagTitle"}},[n("BaseIcon",{staticClass:"el-input__icon",attrs:{slot:"prefix",name:"tag"},slot:"prefix"}),n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.tryAdd,expression:"tryAdd"}],class:t.$style.create,attrs:{slot:"append"},on:{click:t.onAdd},slot:"append"},[t._v("新增")])],1)],1),n("div",{class:t.$style.list},[t.isEmptyList?n("transition-group",{attrs:{name:"el-zoom-in-center"}},[t._l(t.tagList,function(e,a){return[n("TagManagmentListItem",{key:"tag-"+e.id,attrs:{"default-value":e,"item-index":a,"current-active-index":t.activeItemIndex},on:{update:t.updateActiveIndex,refresh:t.tryToFetchList}})]})],2):n("div",{staticStyle:{"text-align":"center",color:"darkgray","line-height":"5em"}},[t._v("\n        暫無資料顯示\n      ")])],1)],1)],1)},i=[],s=n("4795"),r=n.n(s),o=n("cb0c"),l=n("a315"),c=n("62d4"),u={components:{BaseButtonDialog:c["default"],TagManagmentListItem:function(){return Object(l["a"])(n.e("chunk-42294199").then(n.bind(null,"841b")))}},data:function(){return{tagList:[],newTagTitle:"",tryAdd:!1,show:this.dialogVisible,activeItemIndex:""}},props:{dialogVisible:{type:Boolean}},computed:{isEmptyList:function(){return this.tagList.length}},watch:{dialogVisible:function(){this.show=this.dialogVisible}},methods:{tryToFetchList:function(){var t=Object(o["a"])(r.a.mark(function t(){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("member/fetchTags",{search:""});case 2:this.tagList=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),tryToAdd:function(){var t=Object(o["a"])(r.a.mark(function t(){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.tryAdd){t.next=2;break}return t.abrupt("return");case 2:return this.tryAdd=!0,t.next=5,this.$store.dispatch("member/storeTag",{title:this.newTagTitle});case 5:this.tryAdd=!1,this.tryToFetchList();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),onAdd:function(){""!==this.newTagTitle?this.tryToAdd():this.$message({message:"請輸入標籤名稱",type:"warning"})},onSave:function(){this.tryToRemove()},closeDialog:function(){this.$emit("update:dialogVisible",!1),this.activeItemIndex=""},updateActiveIndex:function(t){this.activeItemIndex=t}}},d=u,g=n("34a8"),p=n("2877");function h(t){this["$style"]=g["default"].locals||g["default"]}var f=Object(p["a"])(d,a,i,!1,h,null,null);e["default"]=f.exports},"7cb2":function(t,e,n){t.exports={slide:"TagManagment_slide_2pa9U","slide-reverse":"TagManagment_slide-reverse_2uL6W",alert:"TagManagment_alert_hAj5a",createInput:"TagManagment_createInput_2L8iL",create:"TagManagment_create_3xLro",list:"TagManagment_list_2mu2b",editInput:"TagManagment_editInput_2vsTp"}}}]);
//# sourceMappingURL=chunk-2d73098a.efe7caea.js.map