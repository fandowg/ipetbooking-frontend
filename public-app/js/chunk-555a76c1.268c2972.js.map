{"version":3,"sources":["webpack:///./src/components/HistoryNote.vue?ba7b","webpack:///./src/components/HistoryNote.vue?9285","webpack:///src/components/HistoryNote.vue","webpack:///./src/components/HistoryNote.vue?033a","webpack:///./src/components/HistoryNote.vue?e81b","webpack:///./src/components/HistoryNote.vue?5418"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HistoryNote_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_0_0_node_modules_css_loader_index_js_ref_8_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_0_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_HistoryNote_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","render","_vm","this","_h","$createElement","_c","_self","_v","staticStyle","line-height","domProps","innerHTML","_s","defaultValue","member","merchantNote","edit","staticClass","attrs","type","rows","placeholder","model","value","callback","$$v","note","expression","margin-top","gutter","span","on","click","onCancel","onSubmit","plain","$event","updateMode","name","staticRenderFns","HistoryNotevue_type_script_lang_js_","components","Portal","portal_vue_common","filters","formatDate","format_date","props","Object","default","data","methods","tryToStoreNote","_tryToStoreNote","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$store","dispatch","id","$emit","stop","apply","arguments","_onSubmit","_callee2","_context2","components_HistoryNotevue_type_script_lang_js_","injectStyles","context","HistoryNotevue_type_style_index_0_lang_scss_module_true_","locals","component","componentNormalizer","module","exports","slide","slide-reverse"],"mappings":"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","file":"js/chunk-555a76c1.268c2972.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryNote.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../node_modules/css-loader/index.js??ref--8-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-0-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-0-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryNote.vue?vue&type=style&index=0&lang=scss&module=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h5',[_vm._v(\"內部備註\")]),_c('p',{staticStyle:{\"line-height\":\"25px\"},domProps:{\"innerHTML\":_vm._s(_vm.defaultValue.member.merchantNote || '目前尚無備註')}}),(!_vm.edit)?_c('el-button',{staticClass:\"is-round is-fullwidth is-border\",staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.updateMode(true)}}},[_c('BaseIcon',{attrs:{\"name\":\"plus\"}}),_vm._v(\" 新增備註\")],1):[_c('el-input',{staticClass:\"is-round is-light is-border\",attrs:{\"type\":\"textarea\",\"rows\":4,\"placeholder\":\"請輸入備註\"},model:{value:(_vm.note),callback:function ($$v) {_vm.note=$$v},expression:\"note\"}}),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-button',{staticClass:\"is-round is-fullwidth\",on:{\"click\":_vm.onCancel}},[_vm._v(\"取消\")])],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-button',{staticClass:\"is-round is-fullwidth\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"儲存\")])],1)],1)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport formatDate from '@utils/format-date'\nimport { Portal } from 'portal-vue'\n\nexport default {\n  name: 'HistoryNote',\n  components: {\n    Portal,\n  },\n  filters: {\n    formatDate,\n  },\n  props: {\n    defaultValue: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      edit: false,\n      note: '',\n    }\n  },\n  methods: {\n    async tryToStoreNote() {\n      await this.$store.dispatch('order/storeMerchantNote', { id: this.defaultValue.id, note: this.note })\n      this.$emit('update')\n    },\n    updateMode(value) {\n      this.edit = value\n      this.$emit('update-mode', value ? 'edit' : 'view')\n    },\n    async onSubmit() {\n      await this.tryToStoreNote()\n      this.note = ''\n      this.updateMode(false)\n    },\n    onCancel() {\n      this.note = ''\n      this.updateMode(false)\n    },\n  },\n}\n</script>\n\n<template>\n  <div>\n    <h5>內部備註</h5>\n    <p v-html=\"defaultValue.member.merchantNote || '目前尚無備註'\" style=\"line-height: 25px;\"></p>\n\n    <el-button v-if=\"!edit\" type=\"primary\" class=\"is-round is-fullwidth is-border\" plain @click=\"updateMode(true)\" style=\"margin-top:20px;\"><BaseIcon name=\"plus\"></BaseIcon> 新增備註</el-button>\n    <template v-else>\n      <!-- <Portal to=\"drawer-header\">\n        <el-button type=\"primary\" class=\"is-round\" @click=\"onSubmit\">儲存</el-button>\n        <el-button class=\"is-round\" @click=\"onCancel\">取消</el-button>\n      </Portal> -->\n      <el-input v-model=\"note\" type=\"textarea\" class=\"is-round is-light is-border\" :rows=\"4\" placeholder=\"請輸入備註\"></el-input>\n      <el-row :gutter=\"10\" style=\"margin-top: 20px;\">\n        <el-col :span=\"12\">\n          <el-button class=\"is-round is-fullwidth\" @click=\"onCancel\">取消</el-button>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-button type=\"primary\" class=\"is-round is-fullwidth\" @click=\"onSubmit\">儲存</el-button>\n        </el-col>\n      </el-row>\n    </template>\n  </div>\n</template>\n\n<style lang=\"scss\" module>\n@import '@design';\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryNote.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryNote.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HistoryNote.vue?vue&type=template&id=271b5e26&\"\nimport script from \"./HistoryNote.vue?vue&type=script&lang=js&\"\nexport * from \"./HistoryNote.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HistoryNote.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"HistoryNote_slide_Ev4CE\",\"slide-reverse\":\"HistoryNote_slide-reverse_3OcQz\"};"],"sourceRoot":""}